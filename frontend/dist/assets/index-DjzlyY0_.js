(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function ri(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function tf(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var s=!1;try{s=this instanceof n}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}var Vp={exports:{}},u0={};var xb;function X3(){if(xb)return u0;xb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:r,type:n,key:l,ref:s!==void 0?s:null,props:a}}return u0.Fragment=e,u0.jsx=t,u0.jsxs=t,u0}var fb;function J3(){return fb||(fb=1,Vp.exports=X3()),Vp.exports}var d=J3(),Gp={},d0={},hb;function e7(){if(hb)return d0;hb=1,d0.byteLength=u,d0.toByteArray=h,d0.fromByteArray=S;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=n.length;s<a;++s)r[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function l(C){var v=C.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=C.indexOf("=");R===-1&&(R=v);var D=R===v?0:4-R%4;return[R,D]}function u(C){var v=l(C),R=v[0],D=v[1];return(R+D)*3/4-D}function f(C,v,R){return(v+R)*3/4-R}function h(C){var v,R=l(C),D=R[0],M=R[1],N=new t(f(C,D,M)),F=0,P=M>0?D-4:D,K;for(K=0;K<P;K+=4)v=e[C.charCodeAt(K)]<<18|e[C.charCodeAt(K+1)]<<12|e[C.charCodeAt(K+2)]<<6|e[C.charCodeAt(K+3)],N[F++]=v>>16&255,N[F++]=v>>8&255,N[F++]=v&255;return M===2&&(v=e[C.charCodeAt(K)]<<2|e[C.charCodeAt(K+1)]>>4,N[F++]=v&255),M===1&&(v=e[C.charCodeAt(K)]<<10|e[C.charCodeAt(K+1)]<<4|e[C.charCodeAt(K+2)]>>2,N[F++]=v>>8&255,N[F++]=v&255),N}function m(C){return r[C>>18&63]+r[C>>12&63]+r[C>>6&63]+r[C&63]}function E(C,v,R){for(var D,M=[],N=v;N<R;N+=3)D=(C[N]<<16&16711680)+(C[N+1]<<8&65280)+(C[N+2]&255),M.push(m(D));return M.join("")}function S(C){for(var v,R=C.length,D=R%3,M=[],N=16383,F=0,P=R-D;F<P;F+=N)M.push(E(C,F,F+N>P?P:F+N));return D===1?(v=C[R-1],M.push(r[v>>2]+r[v<<4&63]+"==")):D===2&&(v=(C[R-2]<<8)+C[R-1],M.push(r[v>>10]+r[v>>4&63]+r[v<<2&63]+"=")),M.join("")}return d0}var Bd={};var pb;function t7(){return pb||(pb=1,Bd.read=function(r,e,t,n,s){var a,l,u=s*8-n-1,f=(1<<u)-1,h=f>>1,m=-7,E=t?s-1:0,S=t?-1:1,C=r[e+E];for(E+=S,a=C&(1<<-m)-1,C>>=-m,m+=u;m>0;a=a*256+r[e+E],E+=S,m-=8);for(l=a&(1<<-m)-1,a>>=-m,m+=n;m>0;l=l*256+r[e+E],E+=S,m-=8);if(a===0)a=1-h;else{if(a===f)return l?NaN:(C?-1:1)*(1/0);l=l+Math.pow(2,n),a=a-h}return(C?-1:1)*l*Math.pow(2,a-n)},Bd.write=function(r,e,t,n,s,a){var l,u,f,h=a*8-s-1,m=(1<<h)-1,E=m>>1,S=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=n?0:a-1,v=n?1:-1,R=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,l=m):(l=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-l))<1&&(l--,f*=2),l+E>=1?e+=S/f:e+=S*Math.pow(2,1-E),e*f>=2&&(l++,f/=2),l+E>=m?(u=0,l=m):l+E>=1?(u=(e*f-1)*Math.pow(2,s),l=l+E):(u=e*Math.pow(2,E-1)*Math.pow(2,s),l=0));s>=8;r[t+C]=u&255,C+=v,u/=256,s-=8);for(l=l<<s|u,h+=s;h>0;r[t+C]=l&255,C+=v,l/=256,h-=8);r[t+C-v]|=R*128}),Bd}var gb;function km(){return gb||(gb=1,(function(r){const e=e7(),t=t7(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=N,r.INSPECT_MAX_BYTES=50;const s=2147483647;r.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const Y=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(Y,I),Y.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(Y){if(Y>s)throw new RangeError('The value "'+Y+'" is invalid for option "size"');const I=new Uint8Array(Y);return Object.setPrototypeOf(I,u.prototype),I}function u(Y,I,L){if(typeof Y=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(Y)}return f(Y,I,L)}u.poolSize=8192;function f(Y,I,L){if(typeof Y=="string")return S(Y,I);if(ArrayBuffer.isView(Y))return v(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(Nn(Y,ArrayBuffer)||Y&&Nn(Y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Nn(Y,SharedArrayBuffer)||Y&&Nn(Y.buffer,SharedArrayBuffer)))return R(Y,I,L);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const te=Y.valueOf&&Y.valueOf();if(te!=null&&te!==Y)return u.from(te,I,L);const se=D(Y);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return u.from(Y[Symbol.toPrimitive]("string"),I,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}u.from=function(Y,I,L){return f(Y,I,L)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function h(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function m(Y,I,L){return h(Y),Y<=0?l(Y):I!==void 0?typeof L=="string"?l(Y).fill(I,L):l(Y).fill(I):l(Y)}u.alloc=function(Y,I,L){return m(Y,I,L)};function E(Y){return h(Y),l(Y<0?0:M(Y)|0)}u.allocUnsafe=function(Y){return E(Y)},u.allocUnsafeSlow=function(Y){return E(Y)};function S(Y,I){if((typeof I!="string"||I==="")&&(I="utf8"),!u.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const L=F(Y,I)|0;let te=l(L);const se=te.write(Y,I);return se!==L&&(te=te.slice(0,se)),te}function C(Y){const I=Y.length<0?0:M(Y.length)|0,L=l(I);for(let te=0;te<I;te+=1)L[te]=Y[te]&255;return L}function v(Y){if(Nn(Y,Uint8Array)){const I=new Uint8Array(Y);return R(I.buffer,I.byteOffset,I.byteLength)}return C(Y)}function R(Y,I,L){if(I<0||Y.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<I+(L||0))throw new RangeError('"length" is outside of buffer bounds');let te;return I===void 0&&L===void 0?te=new Uint8Array(Y):L===void 0?te=new Uint8Array(Y,I):te=new Uint8Array(Y,I,L),Object.setPrototypeOf(te,u.prototype),te}function D(Y){if(u.isBuffer(Y)){const I=M(Y.length)|0,L=l(I);return L.length===0||Y.copy(L,0,0,I),L}if(Y.length!==void 0)return typeof Y.length!="number"||jt(Y.length)?l(0):C(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return C(Y.data)}function M(Y){if(Y>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return Y|0}function N(Y){return+Y!=Y&&(Y=0),u.alloc(+Y)}u.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==u.prototype},u.compare=function(I,L){if(Nn(I,Uint8Array)&&(I=u.from(I,I.offset,I.byteLength)),Nn(L,Uint8Array)&&(L=u.from(L,L.offset,L.byteLength)),!u.isBuffer(I)||!u.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===L)return 0;let te=I.length,se=L.length;for(let le=0,ge=Math.min(te,se);le<ge;++le)if(I[le]!==L[le]){te=I[le],se=L[le];break}return te<se?-1:se<te?1:0},u.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(I,L){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return u.alloc(0);let te;if(L===void 0)for(L=0,te=0;te<I.length;++te)L+=I[te].length;const se=u.allocUnsafe(L);let le=0;for(te=0;te<I.length;++te){let ge=I[te];if(Nn(ge,Uint8Array))le+ge.length>se.length?(u.isBuffer(ge)||(ge=u.from(ge)),ge.copy(se,le)):Uint8Array.prototype.set.call(se,ge,le);else if(u.isBuffer(ge))ge.copy(se,le);else throw new TypeError('"list" argument must be an Array of Buffers');le+=ge.length}return se};function F(Y,I){if(u.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||Nn(Y,ArrayBuffer))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);const L=Y.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&L===0)return 0;let se=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return ct(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return wt(Y).length;default:if(se)return te?-1:ct(Y).length;I=(""+I).toLowerCase(),se=!0}}u.byteLength=F;function P(Y,I,L){let te=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,I>>>=0,L<=I))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return z(this,I,L);case"utf8":case"utf-8":return p(this,I,L);case"ascii":return O(this,I,L);case"latin1":case"binary":return G(this,I,L);case"base64":return T(this,I,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,I,L);default:if(te)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),te=!0}}u.prototype._isBuffer=!0;function K(Y,I,L){const te=Y[I];Y[I]=Y[L],Y[L]=te}u.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<I;L+=2)K(this,L,L+1);return this},u.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<I;L+=4)K(this,L,L+3),K(this,L+1,L+2);return this},u.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<I;L+=8)K(this,L,L+7),K(this,L+1,L+6),K(this,L+2,L+5),K(this,L+3,L+4);return this},u.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?p(this,0,I):P.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(I){if(!u.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:u.compare(this,I)===0},u.prototype.inspect=function(){let I="";const L=r.INSPECT_MAX_BYTES;return I=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(I+=" ... "),"<Buffer "+I+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(I,L,te,se,le){if(Nn(I,Uint8Array)&&(I=u.from(I,I.offset,I.byteLength)),!u.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(L===void 0&&(L=0),te===void 0&&(te=I?I.length:0),se===void 0&&(se=0),le===void 0&&(le=this.length),L<0||te>I.length||se<0||le>this.length)throw new RangeError("out of range index");if(se>=le&&L>=te)return 0;if(se>=le)return-1;if(L>=te)return 1;if(L>>>=0,te>>>=0,se>>>=0,le>>>=0,this===I)return 0;let ge=le-se,qe=te-L;const Ye=Math.min(ge,qe),He=this.slice(se,le),Wt=I.slice(L,te);for(let Xe=0;Xe<Ye;++Xe)if(He[Xe]!==Wt[Xe]){ge=He[Xe],qe=Wt[Xe];break}return ge<qe?-1:qe<ge?1:0};function V(Y,I,L,te,se){if(Y.length===0)return-1;if(typeof L=="string"?(te=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,jt(L)&&(L=se?0:Y.length-1),L<0&&(L=Y.length+L),L>=Y.length){if(se)return-1;L=Y.length-1}else if(L<0)if(se)L=0;else return-1;if(typeof I=="string"&&(I=u.from(I,te)),u.isBuffer(I))return I.length===0?-1:H(Y,I,L,te,se);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(Y,I,L):Uint8Array.prototype.lastIndexOf.call(Y,I,L):H(Y,[I],L,te,se);throw new TypeError("val must be string, number or Buffer")}function H(Y,I,L,te,se){let le=1,ge=Y.length,qe=I.length;if(te!==void 0&&(te=String(te).toLowerCase(),te==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(Y.length<2||I.length<2)return-1;le=2,ge/=2,qe/=2,L/=2}function Ye(Wt,Xe){return le===1?Wt[Xe]:Wt.readUInt16BE(Xe*le)}let He;if(se){let Wt=-1;for(He=L;He<ge;He++)if(Ye(Y,He)===Ye(I,Wt===-1?0:He-Wt)){if(Wt===-1&&(Wt=He),He-Wt+1===qe)return Wt*le}else Wt!==-1&&(He-=He-Wt),Wt=-1}else for(L+qe>ge&&(L=ge-qe),He=L;He>=0;He--){let Wt=!0;for(let Xe=0;Xe<qe;Xe++)if(Ye(Y,He+Xe)!==Ye(I,Xe)){Wt=!1;break}if(Wt)return He}return-1}u.prototype.includes=function(I,L,te){return this.indexOf(I,L,te)!==-1},u.prototype.indexOf=function(I,L,te){return V(this,I,L,te,!0)},u.prototype.lastIndexOf=function(I,L,te){return V(this,I,L,te,!1)};function J(Y,I,L,te){L=Number(L)||0;const se=Y.length-L;te?(te=Number(te),te>se&&(te=se)):te=se;const le=I.length;te>le/2&&(te=le/2);let ge;for(ge=0;ge<te;++ge){const qe=parseInt(I.substr(ge*2,2),16);if(jt(qe))return ge;Y[L+ge]=qe}return ge}function q(Y,I,L,te){return nt(ct(I,Y.length-L),Y,L,te)}function Z(Y,I,L,te){return nt(vt(I),Y,L,te)}function Q(Y,I,L,te){return nt(wt(I),Y,L,te)}function $(Y,I,L,te){return nt(dn(I,Y.length-L),Y,L,te)}u.prototype.write=function(I,L,te,se){if(L===void 0)se="utf8",te=this.length,L=0;else if(te===void 0&&typeof L=="string")se=L,te=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(te)?(te=te>>>0,se===void 0&&(se="utf8")):(se=te,te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const le=this.length-L;if((te===void 0||te>le)&&(te=le),I.length>0&&(te<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let ge=!1;for(;;)switch(se){case"hex":return J(this,I,L,te);case"utf8":case"utf-8":return q(this,I,L,te);case"ascii":case"latin1":case"binary":return Z(this,I,L,te);case"base64":return Q(this,I,L,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,I,L,te);default:if(ge)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),ge=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(Y,I,L){return I===0&&L===Y.length?e.fromByteArray(Y):e.fromByteArray(Y.slice(I,L))}function p(Y,I,L){L=Math.min(Y.length,L);const te=[];let se=I;for(;se<L;){const le=Y[se];let ge=null,qe=le>239?4:le>223?3:le>191?2:1;if(se+qe<=L){let Ye,He,Wt,Xe;switch(qe){case 1:le<128&&(ge=le);break;case 2:Ye=Y[se+1],(Ye&192)===128&&(Xe=(le&31)<<6|Ye&63,Xe>127&&(ge=Xe));break;case 3:Ye=Y[se+1],He=Y[se+2],(Ye&192)===128&&(He&192)===128&&(Xe=(le&15)<<12|(Ye&63)<<6|He&63,Xe>2047&&(Xe<55296||Xe>57343)&&(ge=Xe));break;case 4:Ye=Y[se+1],He=Y[se+2],Wt=Y[se+3],(Ye&192)===128&&(He&192)===128&&(Wt&192)===128&&(Xe=(le&15)<<18|(Ye&63)<<12|(He&63)<<6|Wt&63,Xe>65535&&Xe<1114112&&(ge=Xe))}}ge===null?(ge=65533,qe=1):ge>65535&&(ge-=65536,te.push(ge>>>10&1023|55296),ge=56320|ge&1023),te.push(ge),se+=qe}return _(te)}const b=4096;function _(Y){const I=Y.length;if(I<=b)return String.fromCharCode.apply(String,Y);let L="",te=0;for(;te<I;)L+=String.fromCharCode.apply(String,Y.slice(te,te+=b));return L}function O(Y,I,L){let te="";L=Math.min(Y.length,L);for(let se=I;se<L;++se)te+=String.fromCharCode(Y[se]&127);return te}function G(Y,I,L){let te="";L=Math.min(Y.length,L);for(let se=I;se<L;++se)te+=String.fromCharCode(Y[se]);return te}function z(Y,I,L){const te=Y.length;(!I||I<0)&&(I=0),(!L||L<0||L>te)&&(L=te);let se="";for(let le=I;le<L;++le)se+=ft[Y[le]];return se}function k(Y,I,L){const te=Y.slice(I,L);let se="";for(let le=0;le<te.length-1;le+=2)se+=String.fromCharCode(te[le]+te[le+1]*256);return se}u.prototype.slice=function(I,L){const te=this.length;I=~~I,L=L===void 0?te:~~L,I<0?(I+=te,I<0&&(I=0)):I>te&&(I=te),L<0?(L+=te,L<0&&(L=0)):L>te&&(L=te),L<I&&(L=I);const se=this.subarray(I,L);return Object.setPrototypeOf(se,u.prototype),se};function A(Y,I,L){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+I>L)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(I,L,te){I=I>>>0,L=L>>>0,te||A(I,L,this.length);let se=this[I],le=1,ge=0;for(;++ge<L&&(le*=256);)se+=this[I+ge]*le;return se},u.prototype.readUintBE=u.prototype.readUIntBE=function(I,L,te){I=I>>>0,L=L>>>0,te||A(I,L,this.length);let se=this[I+--L],le=1;for(;L>0&&(le*=256);)se+=this[I+--L]*le;return se},u.prototype.readUint8=u.prototype.readUInt8=function(I,L){return I=I>>>0,L||A(I,1,this.length),this[I]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(I,L){return I=I>>>0,L||A(I,2,this.length),this[I]|this[I+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(I,L){return I=I>>>0,L||A(I,2,this.length),this[I]<<8|this[I+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(I,L){return I=I>>>0,L||A(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(I,L){return I=I>>>0,L||A(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},u.prototype.readBigUInt64LE=Zn(function(I){I=I>>>0,rt(I,"offset");const L=this[I],te=this[I+7];(L===void 0||te===void 0)&&Le(I,this.length-8);const se=L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,le=this[++I]+this[++I]*2**8+this[++I]*2**16+te*2**24;return BigInt(se)+(BigInt(le)<<BigInt(32))}),u.prototype.readBigUInt64BE=Zn(function(I){I=I>>>0,rt(I,"offset");const L=this[I],te=this[I+7];(L===void 0||te===void 0)&&Le(I,this.length-8);const se=L*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],le=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+te;return(BigInt(se)<<BigInt(32))+BigInt(le)}),u.prototype.readIntLE=function(I,L,te){I=I>>>0,L=L>>>0,te||A(I,L,this.length);let se=this[I],le=1,ge=0;for(;++ge<L&&(le*=256);)se+=this[I+ge]*le;return le*=128,se>=le&&(se-=Math.pow(2,8*L)),se},u.prototype.readIntBE=function(I,L,te){I=I>>>0,L=L>>>0,te||A(I,L,this.length);let se=L,le=1,ge=this[I+--se];for(;se>0&&(le*=256);)ge+=this[I+--se]*le;return le*=128,ge>=le&&(ge-=Math.pow(2,8*L)),ge},u.prototype.readInt8=function(I,L){return I=I>>>0,L||A(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},u.prototype.readInt16LE=function(I,L){I=I>>>0,L||A(I,2,this.length);const te=this[I]|this[I+1]<<8;return te&32768?te|4294901760:te},u.prototype.readInt16BE=function(I,L){I=I>>>0,L||A(I,2,this.length);const te=this[I+1]|this[I]<<8;return te&32768?te|4294901760:te},u.prototype.readInt32LE=function(I,L){return I=I>>>0,L||A(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},u.prototype.readInt32BE=function(I,L){return I=I>>>0,L||A(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},u.prototype.readBigInt64LE=Zn(function(I){I=I>>>0,rt(I,"offset");const L=this[I],te=this[I+7];(L===void 0||te===void 0)&&Le(I,this.length-8);const se=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+(te<<24);return(BigInt(se)<<BigInt(32))+BigInt(L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24)}),u.prototype.readBigInt64BE=Zn(function(I){I=I>>>0,rt(I,"offset");const L=this[I],te=this[I+7];(L===void 0||te===void 0)&&Le(I,this.length-8);const se=(L<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(se)<<BigInt(32))+BigInt(this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+te)}),u.prototype.readFloatLE=function(I,L){return I=I>>>0,L||A(I,4,this.length),t.read(this,I,!0,23,4)},u.prototype.readFloatBE=function(I,L){return I=I>>>0,L||A(I,4,this.length),t.read(this,I,!1,23,4)},u.prototype.readDoubleLE=function(I,L){return I=I>>>0,L||A(I,8,this.length),t.read(this,I,!0,52,8)},u.prototype.readDoubleBE=function(I,L){return I=I>>>0,L||A(I,8,this.length),t.read(this,I,!1,52,8)};function g(Y,I,L,te,se,le){if(!u.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>se||I<le)throw new RangeError('"value" argument is out of bounds');if(L+te>Y.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(I,L,te,se){if(I=+I,L=L>>>0,te=te>>>0,!se){const qe=Math.pow(2,8*te)-1;g(this,I,L,te,qe,0)}let le=1,ge=0;for(this[L]=I&255;++ge<te&&(le*=256);)this[L+ge]=I/le&255;return L+te},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(I,L,te,se){if(I=+I,L=L>>>0,te=te>>>0,!se){const qe=Math.pow(2,8*te)-1;g(this,I,L,te,qe,0)}let le=te-1,ge=1;for(this[L+le]=I&255;--le>=0&&(ge*=256);)this[L+le]=I/ge&255;return L+te},u.prototype.writeUint8=u.prototype.writeUInt8=function(I,L,te){return I=+I,L=L>>>0,te||g(this,I,L,1,255,0),this[L]=I&255,L+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(I,L,te){return I=+I,L=L>>>0,te||g(this,I,L,2,65535,0),this[L]=I&255,this[L+1]=I>>>8,L+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(I,L,te){return I=+I,L=L>>>0,te||g(this,I,L,2,65535,0),this[L]=I>>>8,this[L+1]=I&255,L+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(I,L,te){return I=+I,L=L>>>0,te||g(this,I,L,4,4294967295,0),this[L+3]=I>>>24,this[L+2]=I>>>16,this[L+1]=I>>>8,this[L]=I&255,L+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(I,L,te){return I=+I,L=L>>>0,te||g(this,I,L,4,4294967295,0),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4};function w(Y,I,L,te,se){Re(I,te,se,Y,L,7);let le=Number(I&BigInt(4294967295));Y[L++]=le,le=le>>8,Y[L++]=le,le=le>>8,Y[L++]=le,le=le>>8,Y[L++]=le;let ge=Number(I>>BigInt(32)&BigInt(4294967295));return Y[L++]=ge,ge=ge>>8,Y[L++]=ge,ge=ge>>8,Y[L++]=ge,ge=ge>>8,Y[L++]=ge,L}function j(Y,I,L,te,se){Re(I,te,se,Y,L,7);let le=Number(I&BigInt(4294967295));Y[L+7]=le,le=le>>8,Y[L+6]=le,le=le>>8,Y[L+5]=le,le=le>>8,Y[L+4]=le;let ge=Number(I>>BigInt(32)&BigInt(4294967295));return Y[L+3]=ge,ge=ge>>8,Y[L+2]=ge,ge=ge>>8,Y[L+1]=ge,ge=ge>>8,Y[L]=ge,L+8}u.prototype.writeBigUInt64LE=Zn(function(I,L=0){return w(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Zn(function(I,L=0){return j(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(I,L,te,se){if(I=+I,L=L>>>0,!se){const Ye=Math.pow(2,8*te-1);g(this,I,L,te,Ye-1,-Ye)}let le=0,ge=1,qe=0;for(this[L]=I&255;++le<te&&(ge*=256);)I<0&&qe===0&&this[L+le-1]!==0&&(qe=1),this[L+le]=(I/ge>>0)-qe&255;return L+te},u.prototype.writeIntBE=function(I,L,te,se){if(I=+I,L=L>>>0,!se){const Ye=Math.pow(2,8*te-1);g(this,I,L,te,Ye-1,-Ye)}let le=te-1,ge=1,qe=0;for(this[L+le]=I&255;--le>=0&&(ge*=256);)I<0&&qe===0&&this[L+le+1]!==0&&(qe=1),this[L+le]=(I/ge>>0)-qe&255;return L+te},u.prototype.writeInt8=function(I,L,te){return I=+I,L=L>>>0,te||g(this,I,L,1,127,-128),I<0&&(I=255+I+1),this[L]=I&255,L+1},u.prototype.writeInt16LE=function(I,L,te){return I=+I,L=L>>>0,te||g(this,I,L,2,32767,-32768),this[L]=I&255,this[L+1]=I>>>8,L+2},u.prototype.writeInt16BE=function(I,L,te){return I=+I,L=L>>>0,te||g(this,I,L,2,32767,-32768),this[L]=I>>>8,this[L+1]=I&255,L+2},u.prototype.writeInt32LE=function(I,L,te){return I=+I,L=L>>>0,te||g(this,I,L,4,2147483647,-2147483648),this[L]=I&255,this[L+1]=I>>>8,this[L+2]=I>>>16,this[L+3]=I>>>24,L+4},u.prototype.writeInt32BE=function(I,L,te){return I=+I,L=L>>>0,te||g(this,I,L,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4},u.prototype.writeBigInt64LE=Zn(function(I,L=0){return w(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Zn(function(I,L=0){return j(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function X(Y,I,L,te,se,le){if(L+te>Y.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function ne(Y,I,L,te,se){return I=+I,L=L>>>0,se||X(Y,I,L,4),t.write(Y,I,L,te,23,4),L+4}u.prototype.writeFloatLE=function(I,L,te){return ne(this,I,L,!0,te)},u.prototype.writeFloatBE=function(I,L,te){return ne(this,I,L,!1,te)};function oe(Y,I,L,te,se){return I=+I,L=L>>>0,se||X(Y,I,L,8),t.write(Y,I,L,te,52,8),L+8}u.prototype.writeDoubleLE=function(I,L,te){return oe(this,I,L,!0,te)},u.prototype.writeDoubleBE=function(I,L,te){return oe(this,I,L,!1,te)},u.prototype.copy=function(I,L,te,se){if(!u.isBuffer(I))throw new TypeError("argument should be a Buffer");if(te||(te=0),!se&&se!==0&&(se=this.length),L>=I.length&&(L=I.length),L||(L=0),se>0&&se<te&&(se=te),se===te||I.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(te<0||te>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),I.length-L<se-te&&(se=I.length-L+te);const le=se-te;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,te,se):Uint8Array.prototype.set.call(I,this.subarray(te,se),L),le},u.prototype.fill=function(I,L,te,se){if(typeof I=="string"){if(typeof L=="string"?(se=L,L=0,te=this.length):typeof te=="string"&&(se=te,te=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!u.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(I.length===1){const ge=I.charCodeAt(0);(se==="utf8"&&ge<128||se==="latin1")&&(I=ge)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(L<0||this.length<L||this.length<te)throw new RangeError("Out of range index");if(te<=L)return this;L=L>>>0,te=te===void 0?this.length:te>>>0,I||(I=0);let le;if(typeof I=="number")for(le=L;le<te;++le)this[le]=I;else{const ge=u.isBuffer(I)?I:u.from(I,se),qe=ge.length;if(qe===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(le=0;le<te-L;++le)this[le+L]=ge[le%qe]}return this};const be={};function we(Y,I,L){be[Y]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Y}]`,this.stack,delete this.name}get code(){return Y}set code(se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:se,writable:!0})}toString(){return`${this.name} [${Y}]: ${this.message}`}}}we("ERR_BUFFER_OUT_OF_BOUNDS",function(Y){return Y?`${Y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),we("ERR_INVALID_ARG_TYPE",function(Y,I){return`The "${Y}" argument must be of type number. Received type ${typeof I}`},TypeError),we("ERR_OUT_OF_RANGE",function(Y,I,L){let te=`The value of "${Y}" is out of range.`,se=L;return Number.isInteger(L)&&Math.abs(L)>2**32?se=Je(String(L)):typeof L=="bigint"&&(se=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(se=Je(se)),se+="n"),te+=` It must be ${I}. Received ${se}`,te},RangeError);function Je(Y){let I="",L=Y.length;const te=Y[0]==="-"?1:0;for(;L>=te+4;L-=3)I=`_${Y.slice(L-3,L)}${I}`;return`${Y.slice(0,L)}${I}`}function et(Y,I,L){rt(I,"offset"),(Y[I]===void 0||Y[I+L]===void 0)&&Le(I,Y.length-(L+1))}function Re(Y,I,L,te,se,le){if(Y>L||Y<I){const ge=typeof I=="bigint"?"n":"";let qe;throw I===0||I===BigInt(0)?qe=`>= 0${ge} and < 2${ge} ** ${(le+1)*8}${ge}`:qe=`>= -(2${ge} ** ${(le+1)*8-1}${ge}) and < 2 ** ${(le+1)*8-1}${ge}`,new be.ERR_OUT_OF_RANGE("value",qe,Y)}et(te,se,le)}function rt(Y,I){if(typeof Y!="number")throw new be.ERR_INVALID_ARG_TYPE(I,"number",Y)}function Le(Y,I,L){throw Math.floor(Y)!==Y?(rt(Y,L),new be.ERR_OUT_OF_RANGE("offset","an integer",Y)):I<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,Y)}const Ge=/[^+/0-9A-Za-z-_]/g;function $t(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(Ge,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function ct(Y,I){I=I||1/0;let L;const te=Y.length;let se=null;const le=[];for(let ge=0;ge<te;++ge){if(L=Y.charCodeAt(ge),L>55295&&L<57344){if(!se){if(L>56319){(I-=3)>-1&&le.push(239,191,189);continue}else if(ge+1===te){(I-=3)>-1&&le.push(239,191,189);continue}se=L;continue}if(L<56320){(I-=3)>-1&&le.push(239,191,189),se=L;continue}L=(se-55296<<10|L-56320)+65536}else se&&(I-=3)>-1&&le.push(239,191,189);if(se=null,L<128){if((I-=1)<0)break;le.push(L)}else if(L<2048){if((I-=2)<0)break;le.push(L>>6|192,L&63|128)}else if(L<65536){if((I-=3)<0)break;le.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((I-=4)<0)break;le.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return le}function vt(Y){const I=[];for(let L=0;L<Y.length;++L)I.push(Y.charCodeAt(L)&255);return I}function dn(Y,I){let L,te,se;const le=[];for(let ge=0;ge<Y.length&&!((I-=2)<0);++ge)L=Y.charCodeAt(ge),te=L>>8,se=L%256,le.push(se),le.push(te);return le}function wt(Y){return e.toByteArray($t(Y))}function nt(Y,I,L,te){let se;for(se=0;se<te&&!(se+L>=I.length||se>=Y.length);++se)I[se+L]=Y[se];return se}function Nn(Y,I){return Y instanceof I||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===I.name}function jt(Y){return Y!==Y}const ft=(function(){const Y="0123456789abcdef",I=new Array(256);for(let L=0;L<16;++L){const te=L*16;for(let se=0;se<16;++se)I[te+se]=Y[L]+Y[se]}return I})();function Zn(Y){return typeof BigInt>"u"?Ht:Y}function Ht(){throw new Error("BigInt not supported")}})(Gp)),Gp}var je=km(),Yp={exports:{}},tt={};var mb;function n7(){if(mb)return tt;mb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function C(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,D={};function M(A,g,w){this.props=A,this.context=g,this.refs=D,this.updater=w||v}M.prototype.isReactComponent={},M.prototype.setState=function(A,g){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,g,"setState")},M.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function N(){}N.prototype=M.prototype;function F(A,g,w){this.props=A,this.context=g,this.refs=D,this.updater=w||v}var P=F.prototype=new N;P.constructor=F,R(P,M.prototype),P.isPureReactComponent=!0;var K=Array.isArray;function V(){}var H={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function q(A,g,w){var j=w.ref;return{$$typeof:r,type:A,key:g,ref:j!==void 0?j:null,props:w}}function Z(A,g){return q(A.type,g,A.props)}function Q(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function $(A){var g={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(w){return g[w]})}var T=/\/+/g;function p(A,g){return typeof A=="object"&&A!==null&&A.key!=null?$(""+A.key):g.toString(36)}function b(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(V,V):(A.status="pending",A.then(function(g){A.status==="pending"&&(A.status="fulfilled",A.value=g)},function(g){A.status==="pending"&&(A.status="rejected",A.reason=g)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function _(A,g,w,j,X){var ne=typeof A;(ne==="undefined"||ne==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(ne){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case r:case e:oe=!0;break;case m:return oe=A._init,_(oe(A._payload),g,w,j,X)}}if(oe)return X=X(A),oe=j===""?"."+p(A,0):j,K(X)?(w="",oe!=null&&(w=oe.replace(T,"$&/")+"/"),_(X,g,w,"",function(Je){return Je})):X!=null&&(Q(X)&&(X=Z(X,w+(X.key==null||A&&A.key===X.key?"":(""+X.key).replace(T,"$&/")+"/")+oe)),g.push(X)),1;oe=0;var be=j===""?".":j+":";if(K(A))for(var we=0;we<A.length;we++)j=A[we],ne=be+p(j,we),oe+=_(j,g,w,ne,X);else if(we=C(A),typeof we=="function")for(A=we.call(A),we=0;!(j=A.next()).done;)j=j.value,ne=be+p(j,we++),oe+=_(j,g,w,ne,X);else if(ne==="object"){if(typeof A.then=="function")return _(b(A),g,w,j,X);throw g=String(A),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.")}return oe}function O(A,g,w){if(A==null)return A;var j=[],X=0;return _(A,j,"","",function(ne){return g.call(w,ne,X++)}),j}function G(A){if(A._status===-1){var g=A._result;g=g(),g.then(function(w){(A._status===0||A._status===-1)&&(A._status=1,A._result=w)},function(w){(A._status===0||A._status===-1)&&(A._status=2,A._result=w)}),A._status===-1&&(A._status=0,A._result=g)}if(A._status===1)return A._result.default;throw A._result}var z=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},k={map:O,forEach:function(A,g,w){O(A,function(){g.apply(this,arguments)},w)},count:function(A){var g=0;return O(A,function(){g++}),g},toArray:function(A){return O(A,function(g){return g})||[]},only:function(A){if(!Q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return tt.Activity=E,tt.Children=k,tt.Component=M,tt.Fragment=t,tt.Profiler=s,tt.PureComponent=F,tt.StrictMode=n,tt.Suspense=f,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,tt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return H.H.useMemoCache(A)}},tt.cache=function(A){return function(){return A.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(A,g,w){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var j=R({},A.props),X=A.key;if(g!=null)for(ne in g.key!==void 0&&(X=""+g.key),g)!J.call(g,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&g.ref===void 0||(j[ne]=g[ne]);var ne=arguments.length-2;if(ne===1)j.children=w;else if(1<ne){for(var oe=Array(ne),be=0;be<ne;be++)oe[be]=arguments[be+2];j.children=oe}return q(A.type,X,j)},tt.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:a,_context:A},A},tt.createElement=function(A,g,w){var j,X={},ne=null;if(g!=null)for(j in g.key!==void 0&&(ne=""+g.key),g)J.call(g,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(X[j]=g[j]);var oe=arguments.length-2;if(oe===1)X.children=w;else if(1<oe){for(var be=Array(oe),we=0;we<oe;we++)be[we]=arguments[we+2];X.children=be}if(A&&A.defaultProps)for(j in oe=A.defaultProps,oe)X[j]===void 0&&(X[j]=oe[j]);return q(A,ne,X)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(A){return{$$typeof:u,render:A}},tt.isValidElement=Q,tt.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:G}},tt.memo=function(A,g){return{$$typeof:h,type:A,compare:g===void 0?null:g}},tt.startTransition=function(A){var g=H.T,w={};H.T=w;try{var j=A(),X=H.S;X!==null&&X(w,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(V,z)}catch(ne){z(ne)}finally{g!==null&&w.types!==null&&(g.types=w.types),H.T=g}},tt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},tt.use=function(A){return H.H.use(A)},tt.useActionState=function(A,g,w){return H.H.useActionState(A,g,w)},tt.useCallback=function(A,g){return H.H.useCallback(A,g)},tt.useContext=function(A){return H.H.useContext(A)},tt.useDebugValue=function(){},tt.useDeferredValue=function(A,g){return H.H.useDeferredValue(A,g)},tt.useEffect=function(A,g){return H.H.useEffect(A,g)},tt.useEffectEvent=function(A){return H.H.useEffectEvent(A)},tt.useId=function(){return H.H.useId()},tt.useImperativeHandle=function(A,g,w){return H.H.useImperativeHandle(A,g,w)},tt.useInsertionEffect=function(A,g){return H.H.useInsertionEffect(A,g)},tt.useLayoutEffect=function(A,g){return H.H.useLayoutEffect(A,g)},tt.useMemo=function(A,g){return H.H.useMemo(A,g)},tt.useOptimistic=function(A,g){return H.H.useOptimistic(A,g)},tt.useReducer=function(A,g,w){return H.H.useReducer(A,g,w)},tt.useRef=function(A){return H.H.useRef(A)},tt.useState=function(A){return H.H.useState(A)},tt.useSyncExternalStore=function(A,g,w){return H.H.useSyncExternalStore(A,g,w)},tt.useTransition=function(){return H.H.useTransition()},tt.version="19.2.3",tt}var yb;function Fm(){return yb||(yb=1,Yp.exports=n7()),Yp.exports}var U=Fm();const Se=ri(U);var $p={exports:{}},x0={},Zp={exports:{}},Qp={};var Eb;function r7(){return Eb||(Eb=1,(function(r){function e(_,O){var G=_.length;_.push(O);e:for(;0<G;){var z=G-1>>>1,k=_[z];if(0<s(k,O))_[z]=O,_[G]=k,G=z;else break e}}function t(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var O=_[0],G=_.pop();if(G!==O){_[0]=G;e:for(var z=0,k=_.length,A=k>>>1;z<A;){var g=2*(z+1)-1,w=_[g],j=g+1,X=_[j];if(0>s(w,G))j<k&&0>s(X,w)?(_[z]=X,_[j]=G,z=j):(_[z]=w,_[g]=G,z=g);else if(j<k&&0>s(X,G))_[z]=X,_[j]=G,z=j;else break e}}return O}function s(_,O){var G=_.sortIndex-O.sortIndex;return G!==0?G:_.id-O.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var f=[],h=[],m=1,E=null,S=3,C=!1,v=!1,R=!1,D=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function P(_){for(var O=t(h);O!==null;){if(O.callback===null)n(h);else if(O.startTime<=_)n(h),O.sortIndex=O.expirationTime,e(f,O);else break;O=t(h)}}function K(_){if(R=!1,P(_),!v)if(t(f)!==null)v=!0,V||(V=!0,$());else{var O=t(h);O!==null&&b(K,O.startTime-_)}}var V=!1,H=-1,J=5,q=-1;function Z(){return D?!0:!(r.unstable_now()-q<J)}function Q(){if(D=!1,V){var _=r.unstable_now();q=_;var O=!0;try{e:{v=!1,R&&(R=!1,N(H),H=-1),C=!0;var G=S;try{t:{for(P(_),E=t(f);E!==null&&!(E.expirationTime>_&&Z());){var z=E.callback;if(typeof z=="function"){E.callback=null,S=E.priorityLevel;var k=z(E.expirationTime<=_);if(_=r.unstable_now(),typeof k=="function"){E.callback=k,P(_),O=!0;break t}E===t(f)&&n(f),P(_)}else n(f);E=t(f)}if(E!==null)O=!0;else{var A=t(h);A!==null&&b(K,A.startTime-_),O=!1}}break e}finally{E=null,S=G,C=!1}O=void 0}}finally{O?$():V=!1}}}var $;if(typeof F=="function")$=function(){F(Q)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,p=T.port2;T.port1.onmessage=Q,$=function(){p.postMessage(null)}}else $=function(){M(Q,0)};function b(_,O){H=M(function(){_(r.unstable_now())},O)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(_){_.callback=null},r.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<_?Math.floor(1e3/_):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(_){switch(S){case 1:case 2:case 3:var O=3;break;default:O=S}var G=S;S=O;try{return _()}finally{S=G}},r.unstable_requestPaint=function(){D=!0},r.unstable_runWithPriority=function(_,O){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var G=S;S=_;try{return O()}finally{S=G}},r.unstable_scheduleCallback=function(_,O,G){var z=r.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?z+G:z):G=z,_){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=G+k,_={id:m++,callback:O,priorityLevel:_,startTime:G,expirationTime:k,sortIndex:-1},G>z?(_.sortIndex=G,e(h,_),t(f)===null&&_===t(h)&&(R?(N(H),H=-1):R=!0,b(K,G-z))):(_.sortIndex=k,e(f,_),v||C||(v=!0,V||(V=!0,$()))),_},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(_){var O=S;return function(){var G=S;S=O;try{return _.apply(this,arguments)}finally{S=G}}}})(Qp)),Qp}var bb;function i7(){return bb||(bb=1,Zp.exports=r7()),Zp.exports}var Xp={exports:{}},or={};var wb;function o7(){if(wb)return or;wb=1;var r=Fm();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,h,m){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:f,containerInfo:h,implementation:m}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,or.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,m)},or.flushSync=function(f){var h=l.T,m=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=m,n.d.f()}},or.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},or.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},or.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,E=u(m,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:C}):m==="script"&&n.d.X(f,{crossOrigin:E,integrity:S,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},or.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},or.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,E=u(m,h.crossOrigin);n.d.L(f,m,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},or.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=u(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},or.requestFormReset=function(f){n.d.r(f)},or.unstable_batchedUpdates=function(f,h){return f(h)},or.useFormState=function(f,h,m){return l.H.useFormState(f,h,m)},or.useFormStatus=function(){return l.H.useHostTransitionStatus()},or.version="19.2.3",or}var Ab;function Qw(){if(Ab)return Xp.exports;Ab=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xp.exports=o7(),Xp.exports}var Cb;function s7(){if(Cb)return x0;Cb=1;var r=i7(),e=Fm(),t=Qw();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(a(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,x=o;;){var y=c.return;if(y===null)break;var B=y.alternate;if(B===null){if(x=y.return,x!==null){c=x;continue}break}if(y.child===B.child){for(B=y.child;B;){if(B===c)return f(y),i;if(B===x)return f(y),o;B=B.sibling}throw Error(n(188))}if(c.return!==x.return)c=y,x=B;else{for(var W=!1,ee=y.child;ee;){if(ee===c){W=!0,c=y,x=B;break}if(ee===x){W=!0,x=y,c=B;break}ee=ee.sibling}if(!W){for(ee=B.child;ee;){if(ee===c){W=!0,c=B,x=y;break}if(ee===x){W=!0,x=B,c=y;break}ee=ee.sibling}if(!W)throw Error(n(189))}}if(c.alternate!==x)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),F=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var T=Symbol.for("react.client.reference");function p(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===T?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case M:return"Profiler";case D:return"StrictMode";case K:return"Suspense";case V:return"SuspenseList";case q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case F:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return o=i.displayName||null,o!==null?o:p(i.type)||"Memo";case J:o=i._payload,i=i._init;try{return p(i(o))}catch{}}return null}var b=Array.isArray,_=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},z=[],k=-1;function A(i){return{current:i}}function g(i){0>k||(i.current=z[k],z[k]=null,k--)}function w(i,o){k++,z[k]=i.current,i.current=o}var j=A(null),X=A(null),ne=A(null),oe=A(null);function be(i,o){switch(w(ne,o),w(X,i),w(j,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?M9(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=M9(o),i=O9(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}g(j),w(j,i)}function we(){g(j),g(X),g(ne)}function Je(i){i.memoizedState!==null&&w(oe,i);var o=j.current,c=O9(o,i.type);o!==c&&(w(X,i),w(j,c))}function et(i){X.current===i&&(g(j),g(X)),oe.current===i&&(g(oe),s0._currentValue=G)}var Re,rt;function Le(i){if(Re===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Re=o&&o[1]||"",rt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+i+rt}var Ge=!1;function $t(i,o){if(!i||Ge)return"";Ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(o){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ye){var he=ye}Reflect.construct(i,[],Ce)}else{try{Ce.call()}catch(ye){he=ye}i.call(Ce.prototype)}}else{try{throw Error()}catch(ye){he=ye}(Ce=i())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ye){if(ye&&he&&typeof ye.stack=="string")return[ye.stack,he.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=x.DetermineComponentFrameRoot(),W=B[0],ee=B[1];if(W&&ee){var ie=W.split(`
`),xe=ee.split(`
`);for(y=x=0;x<ie.length&&!ie[x].includes("DetermineComponentFrameRoot");)x++;for(;y<xe.length&&!xe[y].includes("DetermineComponentFrameRoot");)y++;if(x===ie.length||y===xe.length)for(x=ie.length-1,y=xe.length-1;1<=x&&0<=y&&ie[x]!==xe[y];)y--;for(;1<=x&&0<=y;x--,y--)if(ie[x]!==xe[y]){if(x!==1||y!==1)do if(x--,y--,0>y||ie[x]!==xe[y]){var Ee=`
`+ie[x].replace(" at new "," at ");return i.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",i.displayName)),Ee}while(1<=x&&0<=y);break}}}finally{Ge=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Le(c):""}function ct(i,o){switch(i.tag){case 26:case 27:case 5:return Le(i.type);case 16:return Le("Lazy");case 13:return i.child!==o&&o!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return $t(i.type,!1);case 11:return $t(i.type.render,!1);case 1:return $t(i.type,!0);case 31:return Le("Activity");default:return""}}function vt(i){try{var o="",c=null;do o+=ct(i,c),c=i,i=i.return;while(i);return o}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var dn=Object.prototype.hasOwnProperty,wt=r.unstable_scheduleCallback,nt=r.unstable_cancelCallback,Nn=r.unstable_shouldYield,jt=r.unstable_requestPaint,ft=r.unstable_now,Zn=r.unstable_getCurrentPriorityLevel,Ht=r.unstable_ImmediatePriority,Y=r.unstable_UserBlockingPriority,I=r.unstable_NormalPriority,L=r.unstable_LowPriority,te=r.unstable_IdlePriority,se=r.log,le=r.unstable_setDisableYieldValue,ge=null,qe=null;function Ye(i){if(typeof se=="function"&&le(i),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(ge,i)}catch{}}var He=Math.clz32?Math.clz32:bn,Wt=Math.log,Xe=Math.LN2;function bn(i){return i>>>=0,i===0?32:31-(Wt(i)/Xe|0)|0}var Is=256,Zt=262144,Qt=4194304;function yi(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xt(i,o,c){var x=i.pendingLanes;if(x===0)return 0;var y=0,B=i.suspendedLanes,W=i.pingedLanes;i=i.warmLanes;var ee=x&134217727;return ee!==0?(x=ee&~B,x!==0?y=yi(x):(W&=ee,W!==0?y=yi(W):c||(c=ee&~i,c!==0&&(y=yi(c))))):(ee=x&~B,ee!==0?y=yi(ee):W!==0?y=yi(W):c||(c=x&~i,c!==0&&(y=yi(c)))),y===0?0:o!==0&&o!==y&&(o&B)===0&&(B=y&-y,c=o&-o,B>=c||B===32&&(c&4194048)!==0)?o:y}function Kt(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function hu(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(){var i=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),i}function nn(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Uo(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function wn(i,o,c,x,y,B){var W=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var ee=i.entanglements,ie=i.expirationTimes,xe=i.hiddenUpdates;for(c=W&~c;0<c;){var Ee=31-He(c),Ce=1<<Ee;ee[Ee]=0,ie[Ee]=-1;var he=xe[Ee];if(he!==null)for(xe[Ee]=null,Ee=0;Ee<he.length;Ee++){var ye=he[Ee];ye!==null&&(ye.lane&=-536870913)}c&=~Ce}x!==0&&fn(i,x,0),B!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=B&~(W&~o))}function fn(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var x=31-He(o);i.entangledLanes|=o,i.entanglements[x]=i.entanglements[x]|1073741824|c&261930}function Ec(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var x=31-He(c),y=1<<x;y&o|i[x]&o&&(i[x]|=o),c&=~y}}function hn(i,o){var c=o&-o;return c=(c&42)!==0?1:rn(c),(c&(i.suspendedLanes|o))!==0?0:c}function rn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ha(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function pn(){var i=O.p;return i!==0?i:(i=window.event,i===void 0?32:ob(i.type))}function gn(i,o){var c=O.p;try{return O.p=i,o()}finally{O.p=c}}var si=Math.random().toString(36).slice(2),ht="__reactFiber$"+si,At="__reactProps$"+si,Yi="__reactContainer$"+si,on="__reactEvents$"+si,An="__reactListeners$"+si,bc="__reactHandles$"+si,Wa="__reactResources$"+si,$i="__reactMarker$"+si;function Ms(i){delete i[ht],delete i[At],delete i[on],delete i[An],delete i[bc]}function Ei(i){var o=i[ht];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Yi]||c[ht]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=W9(i);i!==null;){if(c=i[ht])return c;i=W9(i)}return o}i=c,c=i.parentNode}return null}function bi(i){if(i=i[ht]||i[Yi]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Zi(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function wi(i){var o=i[Wa];return o||(o=i[Wa]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Cn(i){i[$i]=!0}var qa=new Set,Ka={};function ai(i,o){Ai(i,o),Ai(i+"Capture",o)}function Ai(i,o){for(Ka[i]=o,i=0;i<o.length;i++)qa.add(o[i])}var wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Va={},Ga={};function Ac(i){return dn.call(Ga,i)?!0:dn.call(Va,i)?!1:wc.test(i)?Ga[i]=!0:(Va[i]=!0,!1)}function Ho(i,o,c){if(Ac(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var x=o.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function Wo(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function Qi(i,o,c,x){if(x===null)i.removeAttribute(c);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+x)}}function Kr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _y(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function K4(i,o,c){var x=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var y=x.get,B=x.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(W){c=""+W,B.call(this,W)}}),Object.defineProperty(i,o,{enumerable:x.enumerable}),{getValue:function(){return c},setValue:function(W){c=""+W},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Pf(i){if(!i._valueTracker){var o=_y(i)?"checked":"value";i._valueTracker=K4(i,o,""+i[o])}}function Dy(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),x="";return i&&(x=_y(i)?i.checked?"true":"false":i.value),i=x,i!==c?(o.setValue(i),!0):!1}function pu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var V4=/[\n"\\]/g;function Vr(i){return i.replace(V4,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function zf(i,o,c,x,y,B,W,ee){i.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?i.type=W:i.removeAttribute("type"),o!=null?W==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Kr(o)):i.value!==""+Kr(o)&&(i.value=""+Kr(o)):W!=="submit"&&W!=="reset"||i.removeAttribute("value"),o!=null?Uf(i,W,Kr(o)):c!=null?Uf(i,W,Kr(c)):x!=null&&i.removeAttribute("value"),y==null&&B!=null&&(i.defaultChecked=!!B),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?i.name=""+Kr(ee):i.removeAttribute("name")}function Ry(i,o,c,x,y,B,W,ee){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(i.type=B),o!=null||c!=null){if(!(B!=="submit"&&B!=="reset"||o!=null)){Pf(i);return}c=c!=null?""+Kr(c):"",o=o!=null?""+Kr(o):c,ee||o===i.value||(i.value=o),i.defaultValue=o}x=x??y,x=typeof x!="function"&&typeof x!="symbol"&&!!x,i.checked=ee?i.checked:!!x,i.defaultChecked=!!x,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(i.name=W),Pf(i)}function Uf(i,o,c){o==="number"&&pu(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Ya(i,o,c,x){if(i=i.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=o.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&x&&(i[c].defaultSelected=!0)}else{for(c=""+Kr(c),o=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,x&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function ky(i,o,c){if(o!=null&&(o=""+Kr(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+Kr(c):""}function Fy(i,o,c,x){if(o==null){if(x!=null){if(c!=null)throw Error(n(92));if(b(x)){if(1<x.length)throw Error(n(93));x=x[0]}c=x}c==null&&(c=""),o=c}c=Kr(o),i.defaultValue=c,x=i.textContent,x===c&&x!==""&&x!==null&&(i.value=x),Pf(i)}function $a(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var G4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ty(i,o,c){var x=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?x?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":x?i.setProperty(o,c):typeof c!="number"||c===0||G4.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function Ny(i,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,c!=null){for(var x in c)!c.hasOwnProperty(x)||o!=null&&o.hasOwnProperty(x)||(x.indexOf("--")===0?i.setProperty(x,""):x==="float"?i.cssFloat="":i[x]="");for(var y in o)x=o[y],o.hasOwnProperty(y)&&c[y]!==x&&Ty(i,y,x)}else for(var B in o)o.hasOwnProperty(B)&&Ty(i,B,o[B])}function Hf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gu(i){return $4.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Xi(){}var Wf=null;function qf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Za=null,Qa=null;function Iy(i){var o=bi(i);if(o&&(i=o.stateNode)){var c=i[At]||null;e:switch(i=o.stateNode,o.type){case"input":if(zf(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Vr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var x=c[o];if(x!==i&&x.form===i.form){var y=x[At]||null;if(!y)throw Error(n(90));zf(x,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)x=c[o],x.form===i.form&&Dy(x)}break e;case"textarea":ky(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ya(i,!!c.multiple,o,!1)}}}var Kf=!1;function My(i,o,c){if(Kf)return i(o,c);Kf=!0;try{var x=i(o);return x}finally{if(Kf=!1,(Za!==null||Qa!==null)&&(rd(),Za&&(o=Za,i=Qa,Qa=Za=null,Iy(o),i)))for(o=0;o<i.length;o++)Iy(i[o])}}function Cc(i,o){var c=i.stateNode;if(c===null)return null;var x=c[At]||null;if(x===null)return null;c=x[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vf=!1;if(Ji)try{var vc={};Object.defineProperty(vc,"passive",{get:function(){Vf=!0}}),window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{Vf=!1}var qo=null,Gf=null,mu=null;function Oy(){if(mu)return mu;var i,o=Gf,c=o.length,x,y="value"in qo?qo.value:qo.textContent,B=y.length;for(i=0;i<c&&o[i]===y[i];i++);var W=c-i;for(x=1;x<=W&&o[c-x]===y[B-x];x++);return mu=y.slice(i,1<x?1-x:void 0)}function yu(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Eu(){return!0}function jy(){return!1}function mr(i){function o(c,x,y,B,W){this._reactName=c,this._targetInst=y,this.type=x,this.nativeEvent=B,this.target=W,this.currentTarget=null;for(var ee in i)i.hasOwnProperty(ee)&&(c=i[ee],this[ee]=c?c(B):B[ee]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?Eu:jy,this.isPropagationStopped=jy,this}return E(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),o}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bu=mr(Os),Bc=E({},Os,{view:0,detail:0}),Z4=mr(Bc),Yf,$f,Sc,wu=E({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Sc&&(Sc&&i.type==="mousemove"?(Yf=i.screenX-Sc.screenX,$f=i.screenY-Sc.screenY):$f=Yf=0,Sc=i),Yf)},movementY:function(i){return"movementY"in i?i.movementY:$f}}),Ly=mr(wu),Q4=E({},wu,{dataTransfer:0}),X4=mr(Q4),J4=E({},Bc,{relatedTarget:0}),Zf=mr(J4),eB=E({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),tB=mr(eB),nB=E({},Os,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rB=mr(nB),iB=E({},Os,{data:0}),Py=mr(iB),oB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lB(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=aB[i])?!!o[i]:!1}function Qf(){return lB}var cB=E({},Bc,{key:function(i){if(i.key){var o=oB[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=yu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sB[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qf,charCode:function(i){return i.type==="keypress"?yu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),uB=mr(cB),dB=E({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zy=mr(dB),xB=E({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qf}),fB=mr(xB),hB=E({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),pB=mr(hB),gB=E({},wu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),mB=mr(gB),yB=E({},Os,{newState:0,oldState:0}),EB=mr(yB),bB=[9,13,27,32],Xf=Ji&&"CompositionEvent"in window,_c=null;Ji&&"documentMode"in document&&(_c=document.documentMode);var wB=Ji&&"TextEvent"in window&&!_c,Uy=Ji&&(!Xf||_c&&8<_c&&11>=_c),Hy=" ",Wy=!1;function qy(i,o){switch(i){case"keyup":return bB.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xa=!1;function AB(i,o){switch(i){case"compositionend":return Ky(o);case"keypress":return o.which!==32?null:(Wy=!0,Hy);case"textInput":return i=o.data,i===Hy&&Wy?null:i;default:return null}}function CB(i,o){if(Xa)return i==="compositionend"||!Xf&&qy(i,o)?(i=Oy(),mu=Gf=qo=null,Xa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Uy&&o.locale!=="ko"?null:o.data;default:return null}}var vB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!vB[i.type]:o==="textarea"}function Gy(i,o,c,x){Za?Qa?Qa.push(x):Qa=[x]:Za=x,o=ud(o,"onChange"),0<o.length&&(c=new bu("onChange","change",null,c,x),i.push({event:c,listeners:o}))}var Dc=null,Rc=null;function BB(i){R9(i,0)}function Au(i){var o=Zi(i);if(Dy(o))return i}function Yy(i,o){if(i==="change")return o}var $y=!1;if(Ji){var Jf;if(Ji){var eh="oninput"in document;if(!eh){var Zy=document.createElement("div");Zy.setAttribute("oninput","return;"),eh=typeof Zy.oninput=="function"}Jf=eh}else Jf=!1;$y=Jf&&(!document.documentMode||9<document.documentMode)}function Qy(){Dc&&(Dc.detachEvent("onpropertychange",Xy),Rc=Dc=null)}function Xy(i){if(i.propertyName==="value"&&Au(Rc)){var o=[];Gy(o,Rc,i,qf(i)),My(BB,o)}}function SB(i,o,c){i==="focusin"?(Qy(),Dc=o,Rc=c,Dc.attachEvent("onpropertychange",Xy)):i==="focusout"&&Qy()}function _B(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Au(Rc)}function DB(i,o){if(i==="click")return Au(o)}function RB(i,o){if(i==="input"||i==="change")return Au(o)}function kB(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Fr=typeof Object.is=="function"?Object.is:kB;function kc(i,o){if(Fr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),x=Object.keys(o);if(c.length!==x.length)return!1;for(x=0;x<c.length;x++){var y=c[x];if(!dn.call(o,y)||!Fr(i[y],o[y]))return!1}return!0}function Jy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function eE(i,o){var c=Jy(i);i=0;for(var x;c;){if(c.nodeType===3){if(x=i+c.textContent.length,i<=o&&x>=o)return{node:c,offset:o-i};i=x}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Jy(c)}}function tE(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?tE(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function nE(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=pu(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=pu(i.document)}return o}function th(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var FB=Ji&&"documentMode"in document&&11>=document.documentMode,Ja=null,nh=null,Fc=null,rh=!1;function rE(i,o,c){var x=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;rh||Ja==null||Ja!==pu(x)||(x=Ja,"selectionStart"in x&&th(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Fc&&kc(Fc,x)||(Fc=x,x=ud(nh,"onSelect"),0<x.length&&(o=new bu("onSelect","select",null,o,c),i.push({event:o,listeners:x}),o.target=Ja)))}function js(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var el={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},ih={},iE={};Ji&&(iE=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function Ls(i){if(ih[i])return ih[i];if(!el[i])return i;var o=el[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in iE)return ih[i]=o[c];return i}var oE=Ls("animationend"),sE=Ls("animationiteration"),aE=Ls("animationstart"),TB=Ls("transitionrun"),NB=Ls("transitionstart"),IB=Ls("transitioncancel"),lE=Ls("transitionend"),cE=new Map,oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oh.push("scrollEnd");function li(i,o){cE.set(i,o),ai(o,[i])}var Cu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Gr=[],tl=0,sh=0;function vu(){for(var i=tl,o=sh=tl=0;o<i;){var c=Gr[o];Gr[o++]=null;var x=Gr[o];Gr[o++]=null;var y=Gr[o];Gr[o++]=null;var B=Gr[o];if(Gr[o++]=null,x!==null&&y!==null){var W=x.pending;W===null?y.next=y:(y.next=W.next,W.next=y),x.pending=y}B!==0&&uE(c,y,B)}}function Bu(i,o,c,x){Gr[tl++]=i,Gr[tl++]=o,Gr[tl++]=c,Gr[tl++]=x,sh|=x,i.lanes|=x,i=i.alternate,i!==null&&(i.lanes|=x)}function ah(i,o,c,x){return Bu(i,o,c,x),Su(i)}function Ps(i,o){return Bu(i,null,null,o),Su(i)}function uE(i,o,c){i.lanes|=c;var x=i.alternate;x!==null&&(x.lanes|=c);for(var y=!1,B=i.return;B!==null;)B.childLanes|=c,x=B.alternate,x!==null&&(x.childLanes|=c),B.tag===22&&(i=B.stateNode,i===null||i._visibility&1||(y=!0)),i=B,B=B.return;return i.tag===3?(B=i.stateNode,y&&o!==null&&(y=31-He(c),i=B.hiddenUpdates,x=i[y],x===null?i[y]=[o]:x.push(o),o.lane=c|536870912),B):null}function Su(i){if(50<Jc)throw Jc=0,gp=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var nl={};function MB(i,o,c,x){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(i,o,c,x){return new MB(i,o,c,x)}function lh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function eo(i,o){var c=i.alternate;return c===null?(c=Tr(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function dE(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function _u(i,o,c,x,y,B){var W=0;if(x=i,typeof i=="function")lh(i)&&(W=1);else if(typeof i=="string")W=z3(i,c,j.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case q:return i=Tr(31,c,o,y),i.elementType=q,i.lanes=B,i;case R:return zs(c.children,y,B,o);case D:W=8,y|=24;break;case M:return i=Tr(12,c,o,y|2),i.elementType=M,i.lanes=B,i;case K:return i=Tr(13,c,o,y),i.elementType=K,i.lanes=B,i;case V:return i=Tr(19,c,o,y),i.elementType=V,i.lanes=B,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:W=10;break e;case N:W=9;break e;case P:W=11;break e;case H:W=14;break e;case J:W=16,x=null;break e}W=29,c=Error(n(130,i===null?"null":typeof i,"")),x=null}return o=Tr(W,c,o,y),o.elementType=i,o.type=x,o.lanes=B,o}function zs(i,o,c,x){return i=Tr(7,i,x,o),i.lanes=c,i}function ch(i,o,c){return i=Tr(6,i,null,o),i.lanes=c,i}function xE(i){var o=Tr(18,null,null,0);return o.stateNode=i,o}function uh(i,o,c){return o=Tr(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var fE=new WeakMap;function Yr(i,o){if(typeof i=="object"&&i!==null){var c=fE.get(i);return c!==void 0?c:(o={value:i,source:o,stack:vt(o)},fE.set(i,o),o)}return{value:i,source:o,stack:vt(o)}}var rl=[],il=0,Du=null,Tc=0,$r=[],Zr=0,Ko=null,Ci=1,vi="";function to(i,o){rl[il++]=Tc,rl[il++]=Du,Du=i,Tc=o}function hE(i,o,c){$r[Zr++]=Ci,$r[Zr++]=vi,$r[Zr++]=Ko,Ko=i;var x=Ci;i=vi;var y=32-He(x)-1;x&=~(1<<y),c+=1;var B=32-He(o)+y;if(30<B){var W=y-y%5;B=(x&(1<<W)-1).toString(32),x>>=W,y-=W,Ci=1<<32-He(o)+y|c<<y|x,vi=B+i}else Ci=1<<B|c<<y|x,vi=i}function dh(i){i.return!==null&&(to(i,1),hE(i,1,0))}function xh(i){for(;i===Du;)Du=rl[--il],rl[il]=null,Tc=rl[--il],rl[il]=null;for(;i===Ko;)Ko=$r[--Zr],$r[Zr]=null,vi=$r[--Zr],$r[Zr]=null,Ci=$r[--Zr],$r[Zr]=null}function pE(i,o){$r[Zr++]=Ci,$r[Zr++]=vi,$r[Zr++]=Ko,Ci=o.id,vi=o.overflow,Ko=i}var Qn=null,Jt=null,Ct=!1,Vo=null,Qr=!1,fh=Error(n(519));function Go(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nc(Yr(o,i)),fh}function gE(i){var o=i.stateNode,c=i.type,x=i.memoizedProps;switch(o[ht]=i,o[At]=x,c){case"dialog":gt("cancel",o),gt("close",o);break;case"iframe":case"object":case"embed":gt("load",o);break;case"video":case"audio":for(c=0;c<t0.length;c++)gt(t0[c],o);break;case"source":gt("error",o);break;case"img":case"image":case"link":gt("error",o),gt("load",o);break;case"details":gt("toggle",o);break;case"input":gt("invalid",o),Ry(o,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":gt("invalid",o);break;case"textarea":gt("invalid",o),Fy(o,x.value,x.defaultValue,x.children)}c=x.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||x.suppressHydrationWarning===!0||N9(o.textContent,c)?(x.popover!=null&&(gt("beforetoggle",o),gt("toggle",o)),x.onScroll!=null&&gt("scroll",o),x.onScrollEnd!=null&&gt("scrollend",o),x.onClick!=null&&(o.onclick=Xi),o=!0):o=!1,o||Go(i,!0)}function mE(i){for(Qn=i.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Qn=Qn.return}}function ol(i){if(i!==Qn)return!1;if(!Ct)return mE(i),Ct=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Fp(i.type,i.memoizedProps)),c=!c),c&&Jt&&Go(i),mE(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Jt=H9(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Jt=H9(i)}else o===27?(o=Jt,as(i.type)?(i=Op,Op=null,Jt=i):Jt=o):Jt=Qn?Jr(i.stateNode.nextSibling):null;return!0}function Us(){Jt=Qn=null,Ct=!1}function hh(){var i=Vo;return i!==null&&(wr===null?wr=i:wr.push.apply(wr,i),Vo=null),i}function Nc(i){Vo===null?Vo=[i]:Vo.push(i)}var ph=A(null),Hs=null,no=null;function Yo(i,o,c){w(ph,o._currentValue),o._currentValue=c}function ro(i){i._currentValue=ph.current,g(ph)}function gh(i,o,c){for(;i!==null;){var x=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,x!==null&&(x.childLanes|=o)):x!==null&&(x.childLanes&o)!==o&&(x.childLanes|=o),i===c)break;i=i.return}}function mh(i,o,c,x){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var B=y.dependencies;if(B!==null){var W=y.child;B=B.firstContext;e:for(;B!==null;){var ee=B;B=y;for(var ie=0;ie<o.length;ie++)if(ee.context===o[ie]){B.lanes|=c,ee=B.alternate,ee!==null&&(ee.lanes|=c),gh(B.return,c,i),x||(W=null);break e}B=ee.next}}else if(y.tag===18){if(W=y.return,W===null)throw Error(n(341));W.lanes|=c,B=W.alternate,B!==null&&(B.lanes|=c),gh(W,c,i),W=null}else W=y.child;if(W!==null)W.return=y;else for(W=y;W!==null;){if(W===i){W=null;break}if(y=W.sibling,y!==null){y.return=W.return,W=y;break}W=W.return}y=W}}function sl(i,o,c,x){i=null;for(var y=o,B=!1;y!==null;){if(!B){if((y.flags&524288)!==0)B=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var W=y.alternate;if(W===null)throw Error(n(387));if(W=W.memoizedProps,W!==null){var ee=y.type;Fr(y.pendingProps.value,W.value)||(i!==null?i.push(ee):i=[ee])}}else if(y===oe.current){if(W=y.alternate,W===null)throw Error(n(387));W.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(s0):i=[s0])}y=y.return}i!==null&&mh(o,i,c,x),o.flags|=262144}function Ru(i){for(i=i.firstContext;i!==null;){if(!Fr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ws(i){Hs=i,no=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xn(i){return yE(Hs,i)}function ku(i,o){return Hs===null&&Ws(i),yE(i,o)}function yE(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},no===null){if(i===null)throw Error(n(308));no=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else no=no.next=o;return c}var OB=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,x){i.push(x)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},jB=r.unstable_scheduleCallback,LB=r.unstable_NormalPriority,In={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yh(){return{controller:new OB,data:new Map,refCount:0}}function Ic(i){i.refCount--,i.refCount===0&&jB(LB,function(){i.controller.abort()})}var Mc=null,Eh=0,al=0,ll=null;function PB(i,o){if(Mc===null){var c=Mc=[];Eh=0,al=Ap(),ll={status:"pending",value:void 0,then:function(x){c.push(x)}}}return Eh++,o.then(EE,EE),o}function EE(){if(--Eh===0&&Mc!==null){ll!==null&&(ll.status="fulfilled");var i=Mc;Mc=null,al=0,ll=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function zB(i,o){var c=[],x={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return i.then(function(){x.status="fulfilled",x.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(x.status="rejected",x.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),x}var bE=_.S;_.S=function(i,o){r9=ft(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&PB(i,o),bE!==null&&bE(i,o)};var qs=A(null);function bh(){var i=qs.current;return i!==null?i:qt.pooledCache}function Fu(i,o){o===null?w(qs,qs.current):w(qs,o.pool)}function wE(){var i=bh();return i===null?null:{parent:In._currentValue,pool:i}}var cl=Error(n(460)),wh=Error(n(474)),Tu=Error(n(542)),Nu={then:function(){}};function AE(i){return i=i.status,i==="fulfilled"||i==="rejected"}function CE(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(Xi,Xi),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,BE(i),i;default:if(typeof o.status=="string")o.then(Xi,Xi);else{if(i=qt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(x){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=x}},function(x){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=x}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,BE(i),i}throw Vs=o,cl}}function Ks(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Vs=c,cl):c}}var Vs=null;function vE(){if(Vs===null)throw Error(n(459));var i=Vs;return Vs=null,i}function BE(i){if(i===cl||i===Tu)throw Error(n(483))}var ul=null,Oc=0;function Iu(i){var o=Oc;return Oc+=1,ul===null&&(ul=[]),CE(ul,i,o)}function jc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Mu(i,o){throw o.$$typeof===S?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function SE(i){function o(ce,ae){if(i){var de=ce.deletions;de===null?(ce.deletions=[ae],ce.flags|=16):de.push(ae)}}function c(ce,ae){if(!i)return null;for(;ae!==null;)o(ce,ae),ae=ae.sibling;return null}function x(ce){for(var ae=new Map;ce!==null;)ce.key!==null?ae.set(ce.key,ce):ae.set(ce.index,ce),ce=ce.sibling;return ae}function y(ce,ae){return ce=eo(ce,ae),ce.index=0,ce.sibling=null,ce}function B(ce,ae,de){return ce.index=de,i?(de=ce.alternate,de!==null?(de=de.index,de<ae?(ce.flags|=67108866,ae):de):(ce.flags|=67108866,ae)):(ce.flags|=1048576,ae)}function W(ce){return i&&ce.alternate===null&&(ce.flags|=67108866),ce}function ee(ce,ae,de,Ae){return ae===null||ae.tag!==6?(ae=ch(de,ce.mode,Ae),ae.return=ce,ae):(ae=y(ae,de),ae.return=ce,ae)}function ie(ce,ae,de,Ae){var Ke=de.type;return Ke===R?Ee(ce,ae,de.props.children,Ae,de.key):ae!==null&&(ae.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===J&&Ks(Ke)===ae.type)?(ae=y(ae,de.props),jc(ae,de),ae.return=ce,ae):(ae=_u(de.type,de.key,de.props,null,ce.mode,Ae),jc(ae,de),ae.return=ce,ae)}function xe(ce,ae,de,Ae){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==de.containerInfo||ae.stateNode.implementation!==de.implementation?(ae=uh(de,ce.mode,Ae),ae.return=ce,ae):(ae=y(ae,de.children||[]),ae.return=ce,ae)}function Ee(ce,ae,de,Ae,Ke){return ae===null||ae.tag!==7?(ae=zs(de,ce.mode,Ae,Ke),ae.return=ce,ae):(ae=y(ae,de),ae.return=ce,ae)}function Ce(ce,ae,de){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=ch(""+ae,ce.mode,de),ae.return=ce,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case C:return de=_u(ae.type,ae.key,ae.props,null,ce.mode,de),jc(de,ae),de.return=ce,de;case v:return ae=uh(ae,ce.mode,de),ae.return=ce,ae;case J:return ae=Ks(ae),Ce(ce,ae,de)}if(b(ae)||$(ae))return ae=zs(ae,ce.mode,de,null),ae.return=ce,ae;if(typeof ae.then=="function")return Ce(ce,Iu(ae),de);if(ae.$$typeof===F)return Ce(ce,ku(ce,ae),de);Mu(ce,ae)}return null}function he(ce,ae,de,Ae){var Ke=ae!==null?ae.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Ke!==null?null:ee(ce,ae,""+de,Ae);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case C:return de.key===Ke?ie(ce,ae,de,Ae):null;case v:return de.key===Ke?xe(ce,ae,de,Ae):null;case J:return de=Ks(de),he(ce,ae,de,Ae)}if(b(de)||$(de))return Ke!==null?null:Ee(ce,ae,de,Ae,null);if(typeof de.then=="function")return he(ce,ae,Iu(de),Ae);if(de.$$typeof===F)return he(ce,ae,ku(ce,de),Ae);Mu(ce,de)}return null}function ye(ce,ae,de,Ae,Ke){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return ce=ce.get(de)||null,ee(ae,ce,""+Ae,Ke);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case C:return ce=ce.get(Ae.key===null?de:Ae.key)||null,ie(ae,ce,Ae,Ke);case v:return ce=ce.get(Ae.key===null?de:Ae.key)||null,xe(ae,ce,Ae,Ke);case J:return Ae=Ks(Ae),ye(ce,ae,de,Ae,Ke)}if(b(Ae)||$(Ae))return ce=ce.get(de)||null,Ee(ae,ce,Ae,Ke,null);if(typeof Ae.then=="function")return ye(ce,ae,de,Iu(Ae),Ke);if(Ae.$$typeof===F)return ye(ce,ae,de,ku(ae,Ae),Ke);Mu(ae,Ae)}return null}function Pe(ce,ae,de,Ae){for(var Ke=null,_t=null,ze=ae,st=ae=0,Et=null;ze!==null&&st<de.length;st++){ze.index>st?(Et=ze,ze=null):Et=ze.sibling;var Dt=he(ce,ze,de[st],Ae);if(Dt===null){ze===null&&(ze=Et);break}i&&ze&&Dt.alternate===null&&o(ce,ze),ae=B(Dt,ae,st),_t===null?Ke=Dt:_t.sibling=Dt,_t=Dt,ze=Et}if(st===de.length)return c(ce,ze),Ct&&to(ce,st),Ke;if(ze===null){for(;st<de.length;st++)ze=Ce(ce,de[st],Ae),ze!==null&&(ae=B(ze,ae,st),_t===null?Ke=ze:_t.sibling=ze,_t=ze);return Ct&&to(ce,st),Ke}for(ze=x(ze);st<de.length;st++)Et=ye(ze,ce,st,de[st],Ae),Et!==null&&(i&&Et.alternate!==null&&ze.delete(Et.key===null?st:Et.key),ae=B(Et,ae,st),_t===null?Ke=Et:_t.sibling=Et,_t=Et);return i&&ze.forEach(function(xs){return o(ce,xs)}),Ct&&to(ce,st),Ke}function Qe(ce,ae,de,Ae){if(de==null)throw Error(n(151));for(var Ke=null,_t=null,ze=ae,st=ae=0,Et=null,Dt=de.next();ze!==null&&!Dt.done;st++,Dt=de.next()){ze.index>st?(Et=ze,ze=null):Et=ze.sibling;var xs=he(ce,ze,Dt.value,Ae);if(xs===null){ze===null&&(ze=Et);break}i&&ze&&xs.alternate===null&&o(ce,ze),ae=B(xs,ae,st),_t===null?Ke=xs:_t.sibling=xs,_t=xs,ze=Et}if(Dt.done)return c(ce,ze),Ct&&to(ce,st),Ke;if(ze===null){for(;!Dt.done;st++,Dt=de.next())Dt=Ce(ce,Dt.value,Ae),Dt!==null&&(ae=B(Dt,ae,st),_t===null?Ke=Dt:_t.sibling=Dt,_t=Dt);return Ct&&to(ce,st),Ke}for(ze=x(ze);!Dt.done;st++,Dt=de.next())Dt=ye(ze,ce,st,Dt.value,Ae),Dt!==null&&(i&&Dt.alternate!==null&&ze.delete(Dt.key===null?st:Dt.key),ae=B(Dt,ae,st),_t===null?Ke=Dt:_t.sibling=Dt,_t=Dt);return i&&ze.forEach(function(Q3){return o(ce,Q3)}),Ct&&to(ce,st),Ke}function zt(ce,ae,de,Ae){if(typeof de=="object"&&de!==null&&de.type===R&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case C:e:{for(var Ke=de.key;ae!==null;){if(ae.key===Ke){if(Ke=de.type,Ke===R){if(ae.tag===7){c(ce,ae.sibling),Ae=y(ae,de.props.children),Ae.return=ce,ce=Ae;break e}}else if(ae.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===J&&Ks(Ke)===ae.type){c(ce,ae.sibling),Ae=y(ae,de.props),jc(Ae,de),Ae.return=ce,ce=Ae;break e}c(ce,ae);break}else o(ce,ae);ae=ae.sibling}de.type===R?(Ae=zs(de.props.children,ce.mode,Ae,de.key),Ae.return=ce,ce=Ae):(Ae=_u(de.type,de.key,de.props,null,ce.mode,Ae),jc(Ae,de),Ae.return=ce,ce=Ae)}return W(ce);case v:e:{for(Ke=de.key;ae!==null;){if(ae.key===Ke)if(ae.tag===4&&ae.stateNode.containerInfo===de.containerInfo&&ae.stateNode.implementation===de.implementation){c(ce,ae.sibling),Ae=y(ae,de.children||[]),Ae.return=ce,ce=Ae;break e}else{c(ce,ae);break}else o(ce,ae);ae=ae.sibling}Ae=uh(de,ce.mode,Ae),Ae.return=ce,ce=Ae}return W(ce);case J:return de=Ks(de),zt(ce,ae,de,Ae)}if(b(de))return Pe(ce,ae,de,Ae);if($(de)){if(Ke=$(de),typeof Ke!="function")throw Error(n(150));return de=Ke.call(de),Qe(ce,ae,de,Ae)}if(typeof de.then=="function")return zt(ce,ae,Iu(de),Ae);if(de.$$typeof===F)return zt(ce,ae,ku(ce,de),Ae);Mu(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ae!==null&&ae.tag===6?(c(ce,ae.sibling),Ae=y(ae,de),Ae.return=ce,ce=Ae):(c(ce,ae),Ae=ch(de,ce.mode,Ae),Ae.return=ce,ce=Ae),W(ce)):c(ce,ae)}return function(ce,ae,de,Ae){try{Oc=0;var Ke=zt(ce,ae,de,Ae);return ul=null,Ke}catch(ze){if(ze===cl||ze===Tu)throw ze;var _t=Tr(29,ze,null,ce.mode);return _t.lanes=Ae,_t.return=ce,_t}}}var Gs=SE(!0),_E=SE(!1),$o=!1;function Ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Qo(i,o,c){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(Ft&2)!==0){var y=x.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),x.pending=o,o=Su(i),uE(i,null,c),o}return Bu(i,x,o,c),Su(i)}function Lc(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var x=o.lanes;x&=i.pendingLanes,c|=x,o.lanes=c,Ec(i,c)}}function vh(i,o){var c=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,c===x)){var y=null,B=null;if(c=c.firstBaseUpdate,c!==null){do{var W={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};B===null?y=B=W:B=B.next=W,c=c.next}while(c!==null);B===null?y=B=o:B=B.next=o}else y=B=o;c={baseState:x.baseState,firstBaseUpdate:y,lastBaseUpdate:B,shared:x.shared,callbacks:x.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var Bh=!1;function Pc(){if(Bh){var i=ll;if(i!==null)throw i}}function zc(i,o,c,x){Bh=!1;var y=i.updateQueue;$o=!1;var B=y.firstBaseUpdate,W=y.lastBaseUpdate,ee=y.shared.pending;if(ee!==null){y.shared.pending=null;var ie=ee,xe=ie.next;ie.next=null,W===null?B=xe:W.next=xe,W=ie;var Ee=i.alternate;Ee!==null&&(Ee=Ee.updateQueue,ee=Ee.lastBaseUpdate,ee!==W&&(ee===null?Ee.firstBaseUpdate=xe:ee.next=xe,Ee.lastBaseUpdate=ie))}if(B!==null){var Ce=y.baseState;W=0,Ee=xe=ie=null,ee=B;do{var he=ee.lane&-536870913,ye=he!==ee.lane;if(ye?(yt&he)===he:(x&he)===he){he!==0&&he===al&&(Bh=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Pe=i,Qe=ee;he=o;var zt=c;switch(Qe.tag){case 1:if(Pe=Qe.payload,typeof Pe=="function"){Ce=Pe.call(zt,Ce,he);break e}Ce=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Qe.payload,he=typeof Pe=="function"?Pe.call(zt,Ce,he):Pe,he==null)break e;Ce=E({},Ce,he);break e;case 2:$o=!0}}he=ee.callback,he!==null&&(i.flags|=64,ye&&(i.flags|=8192),ye=y.callbacks,ye===null?y.callbacks=[he]:ye.push(he))}else ye={lane:he,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ee===null?(xe=Ee=ye,ie=Ce):Ee=Ee.next=ye,W|=he;if(ee=ee.next,ee===null){if(ee=y.shared.pending,ee===null)break;ye=ee,ee=ye.next,ye.next=null,y.lastBaseUpdate=ye,y.shared.pending=null}}while(!0);Ee===null&&(ie=Ce),y.baseState=ie,y.firstBaseUpdate=xe,y.lastBaseUpdate=Ee,B===null&&(y.shared.lanes=0),ns|=W,i.lanes=W,i.memoizedState=Ce}}function DE(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function RE(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)DE(c[i],o)}var dl=A(null),Ou=A(0);function kE(i,o){i=fo,w(Ou,i),w(dl,o),fo=i|o.baseLanes}function Sh(){w(Ou,fo),w(dl,dl.current)}function _h(){fo=Ou.current,g(dl),g(Ou)}var Nr=A(null),Xr=null;function Xo(i){var o=i.alternate;w(Dn,Dn.current&1),w(Nr,i),Xr===null&&(o===null||dl.current!==null||o.memoizedState!==null)&&(Xr=i)}function Dh(i){w(Dn,Dn.current),w(Nr,i),Xr===null&&(Xr=i)}function FE(i){i.tag===22?(w(Dn,Dn.current),w(Nr,i),Xr===null&&(Xr=i)):Jo()}function Jo(){w(Dn,Dn.current),w(Nr,Nr.current)}function Ir(i){g(Nr),Xr===i&&(Xr=null),g(Dn)}var Dn=A(0);function ju(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Ip(c)||Mp(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var io=0,it=null,Lt=null,Mn=null,Lu=!1,xl=!1,Ys=!1,Pu=0,Uc=0,fl=null,UB=0;function vn(){throw Error(n(321))}function Rh(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Fr(i[c],o[c]))return!1;return!0}function kh(i,o,c,x,y,B){return io=B,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_.H=i===null||i.memoizedState===null?h8:Kh,Ys=!1,B=c(x,y),Ys=!1,xl&&(B=NE(o,c,x,y)),TE(i),B}function TE(i){_.H=qc;var o=Lt!==null&&Lt.next!==null;if(io=0,Mn=Lt=it=null,Lu=!1,Uc=0,fl=null,o)throw Error(n(300));i===null||On||(i=i.dependencies,i!==null&&Ru(i)&&(On=!0))}function NE(i,o,c,x){it=i;var y=0;do{if(xl&&(fl=null),Uc=0,xl=!1,25<=y)throw Error(n(301));if(y+=1,Mn=Lt=null,i.updateQueue!=null){var B=i.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}_.H=p8,B=o(c,x)}while(xl);return B}function HB(){var i=_.H,o=i.useState()[0];return o=typeof o.then=="function"?Hc(o):o,i=i.useState()[0],(Lt!==null?Lt.memoizedState:null)!==i&&(it.flags|=1024),o}function Fh(){var i=Pu!==0;return Pu=0,i}function Th(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function Nh(i){if(Lu){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Lu=!1}io=0,Mn=Lt=it=null,xl=!1,Uc=Pu=0,fl=null}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?it.memoizedState=Mn=i:Mn=Mn.next=i,Mn}function Rn(){if(Lt===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var o=Mn===null?it.memoizedState:Mn.next;if(o!==null)Mn=o,Lt=i;else{if(i===null)throw it.alternate===null?Error(n(467)):Error(n(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Mn===null?it.memoizedState=Mn=i:Mn=Mn.next=i}return Mn}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hc(i){var o=Uc;return Uc+=1,fl===null&&(fl=[]),i=CE(fl,i,o),o=it,(Mn===null?o.memoizedState:Mn.next)===null&&(o=o.alternate,_.H=o===null||o.memoizedState===null?h8:Kh),i}function Uu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hc(i);if(i.$$typeof===F)return Xn(i)}throw Error(n(438,String(i)))}function Ih(i){var o=null,c=it.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var x=it.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(o={data:x.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=zu(),it.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),x=0;x<i;x++)c[x]=Z;return o.index++,c}function oo(i,o){return typeof o=="function"?o(i):o}function Hu(i){var o=Rn();return Mh(o,Lt,i)}function Mh(i,o,c){var x=i.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=c;var y=i.baseQueue,B=x.pending;if(B!==null){if(y!==null){var W=y.next;y.next=B.next,B.next=W}o.baseQueue=y=B,x.pending=null}if(B=i.baseState,y===null)i.memoizedState=B;else{o=y.next;var ee=W=null,ie=null,xe=o,Ee=!1;do{var Ce=xe.lane&-536870913;if(Ce!==xe.lane?(yt&Ce)===Ce:(io&Ce)===Ce){var he=xe.revertLane;if(he===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Ce===al&&(Ee=!0);else if((io&he)===he){xe=xe.next,he===al&&(Ee=!0);continue}else Ce={lane:0,revertLane:xe.revertLane,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ie===null?(ee=ie=Ce,W=B):ie=ie.next=Ce,it.lanes|=he,ns|=he;Ce=xe.action,Ys&&c(B,Ce),B=xe.hasEagerState?xe.eagerState:c(B,Ce)}else he={lane:Ce,revertLane:xe.revertLane,gesture:xe.gesture,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ie===null?(ee=ie=he,W=B):ie=ie.next=he,it.lanes|=Ce,ns|=Ce;xe=xe.next}while(xe!==null&&xe!==o);if(ie===null?W=B:ie.next=ee,!Fr(B,i.memoizedState)&&(On=!0,Ee&&(c=ll,c!==null)))throw c;i.memoizedState=B,i.baseState=W,i.baseQueue=ie,x.lastRenderedState=B}return y===null&&(x.lanes=0),[i.memoizedState,x.dispatch]}function Oh(i){var o=Rn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var x=c.dispatch,y=c.pending,B=o.memoizedState;if(y!==null){c.pending=null;var W=y=y.next;do B=i(B,W.action),W=W.next;while(W!==y);Fr(B,o.memoizedState)||(On=!0),o.memoizedState=B,o.baseQueue===null&&(o.baseState=B),c.lastRenderedState=B}return[B,x]}function IE(i,o,c){var x=it,y=Rn(),B=Ct;if(B){if(c===void 0)throw Error(n(407));c=c()}else c=o();var W=!Fr((Lt||y).memoizedState,c);if(W&&(y.memoizedState=c,On=!0),y=y.queue,Ph(jE.bind(null,x,y,i),[i]),y.getSnapshot!==o||W||Mn!==null&&Mn.memoizedState.tag&1){if(x.flags|=2048,hl(9,{destroy:void 0},OE.bind(null,x,y,c,o),null),qt===null)throw Error(n(349));B||(io&127)!==0||ME(x,o,c)}return c}function ME(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=it.updateQueue,o===null?(o=zu(),it.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function OE(i,o,c,x){o.value=c,o.getSnapshot=x,LE(o)&&PE(i)}function jE(i,o,c){return c(function(){LE(o)&&PE(i)})}function LE(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Fr(i,c)}catch{return!0}}function PE(i){var o=Ps(i,2);o!==null&&Ar(o,i,2)}function jh(i){var o=hr();if(typeof i=="function"){var c=i;if(i=c(),Ys){Ye(!0);try{c()}finally{Ye(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:i},o}function zE(i,o,c,x){return i.baseState=c,Mh(i,Lt,typeof x=="function"?x:oo)}function WB(i,o,c,x,y){if(Ku(i))throw Error(n(485));if(i=o.action,i!==null){var B={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){B.listeners.push(W)}};_.T!==null?c(!0):B.isTransition=!1,x(B),c=o.pending,c===null?(B.next=o.pending=B,UE(o,B)):(B.next=c.next,o.pending=c.next=B)}}function UE(i,o){var c=o.action,x=o.payload,y=i.state;if(o.isTransition){var B=_.T,W={};_.T=W;try{var ee=c(y,x),ie=_.S;ie!==null&&ie(W,ee),HE(i,o,ee)}catch(xe){Lh(i,o,xe)}finally{B!==null&&W.types!==null&&(B.types=W.types),_.T=B}}else try{B=c(y,x),HE(i,o,B)}catch(xe){Lh(i,o,xe)}}function HE(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(x){WE(i,o,x)},function(x){return Lh(i,o,x)}):WE(i,o,c)}function WE(i,o,c){o.status="fulfilled",o.value=c,qE(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,UE(i,c)))}function Lh(i,o,c){var x=i.pending;if(i.pending=null,x!==null){x=x.next;do o.status="rejected",o.reason=c,qE(o),o=o.next;while(o!==x)}i.action=null}function qE(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function KE(i,o){return o}function VE(i,o){if(Ct){var c=qt.formState;if(c!==null){e:{var x=it;if(Ct){if(Jt){t:{for(var y=Jt,B=Qr;y.nodeType!==8;){if(!B){y=null;break t}if(y=Jr(y.nextSibling),y===null){y=null;break t}}B=y.data,y=B==="F!"||B==="F"?y:null}if(y){Jt=Jr(y.nextSibling),x=y.data==="F!";break e}}Go(x)}x=!1}x&&(o=c[0])}}return c=hr(),c.memoizedState=c.baseState=o,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:KE,lastRenderedState:o},c.queue=x,c=d8.bind(null,it,x),x.dispatch=c,x=jh(!1),B=qh.bind(null,it,!1,x.queue),x=hr(),y={state:o,dispatch:null,action:i,pending:null},x.queue=y,c=WB.bind(null,it,y,B,c),y.dispatch=c,x.memoizedState=i,[o,c,!1]}function GE(i){var o=Rn();return YE(o,Lt,i)}function YE(i,o,c){if(o=Mh(i,o,KE)[0],i=Hu(oo)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var x=Hc(o)}catch(W){throw W===cl?Tu:W}else x=o;o=Rn();var y=o.queue,B=y.dispatch;return c!==o.memoizedState&&(it.flags|=2048,hl(9,{destroy:void 0},qB.bind(null,y,c),null)),[x,B,i]}function qB(i,o){i.action=o}function $E(i){var o=Rn(),c=Lt;if(c!==null)return YE(o,c,i);Rn(),o=o.memoizedState,c=Rn();var x=c.queue.dispatch;return c.memoizedState=i,[o,x,!1]}function hl(i,o,c,x){return i={tag:i,create:c,deps:x,inst:o,next:null},o=it.updateQueue,o===null&&(o=zu(),it.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(x=c.next,c.next=i,i.next=x,o.lastEffect=i),i}function ZE(){return Rn().memoizedState}function Wu(i,o,c,x){var y=hr();it.flags|=i,y.memoizedState=hl(1|o,{destroy:void 0},c,x===void 0?null:x)}function qu(i,o,c,x){var y=Rn();x=x===void 0?null:x;var B=y.memoizedState.inst;Lt!==null&&x!==null&&Rh(x,Lt.memoizedState.deps)?y.memoizedState=hl(o,B,c,x):(it.flags|=i,y.memoizedState=hl(1|o,B,c,x))}function QE(i,o){Wu(8390656,8,i,o)}function Ph(i,o){qu(2048,8,i,o)}function KB(i){it.flags|=4;var o=it.updateQueue;if(o===null)o=zu(),it.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function XE(i){var o=Rn().memoizedState;return KB({ref:o,nextImpl:i}),function(){if((Ft&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function JE(i,o){return qu(4,2,i,o)}function e8(i,o){return qu(4,4,i,o)}function t8(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function n8(i,o,c){c=c!=null?c.concat([i]):null,qu(4,4,t8.bind(null,o,i),c)}function zh(){}function r8(i,o){var c=Rn();o=o===void 0?null:o;var x=c.memoizedState;return o!==null&&Rh(o,x[1])?x[0]:(c.memoizedState=[i,o],i)}function i8(i,o){var c=Rn();o=o===void 0?null:o;var x=c.memoizedState;if(o!==null&&Rh(o,x[1]))return x[0];if(x=i(),Ys){Ye(!0);try{i()}finally{Ye(!1)}}return c.memoizedState=[x,o],x}function Uh(i,o,c){return c===void 0||(io&1073741824)!==0&&(yt&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=o9(),it.lanes|=i,ns|=i,c)}function o8(i,o,c,x){return Fr(c,o)?c:dl.current!==null?(i=Uh(i,c,x),Fr(i,o)||(On=!0),i):(io&42)===0||(io&1073741824)!==0&&(yt&261930)===0?(On=!0,i.memoizedState=c):(i=o9(),it.lanes|=i,ns|=i,o)}function s8(i,o,c,x,y){var B=O.p;O.p=B!==0&&8>B?B:8;var W=_.T,ee={};_.T=ee,qh(i,!1,o,c);try{var ie=y(),xe=_.S;if(xe!==null&&xe(ee,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Ee=zB(ie,x);Wc(i,o,Ee,jr(i))}else Wc(i,o,x,jr(i))}catch(Ce){Wc(i,o,{then:function(){},status:"rejected",reason:Ce},jr())}finally{O.p=B,W!==null&&ee.types!==null&&(W.types=ee.types),_.T=W}}function VB(){}function Hh(i,o,c,x){if(i.tag!==5)throw Error(n(476));var y=a8(i).queue;s8(i,y,o,G,c===null?VB:function(){return l8(i),c(x)})}function a8(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:G},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function l8(i){var o=a8(i);o.next===null&&(o=i.alternate.memoizedState),Wc(i,o.next.queue,{},jr())}function Wh(){return Xn(s0)}function c8(){return Rn().memoizedState}function u8(){return Rn().memoizedState}function GB(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=jr();i=Zo(c);var x=Qo(o,i,c);x!==null&&(Ar(x,o,c),Lc(x,o,c)),o={cache:yh()},i.payload=o;return}o=o.return}}function YB(i,o,c){var x=jr();c={lane:x,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ku(i)?x8(o,c):(c=ah(i,o,c,x),c!==null&&(Ar(c,i,x),f8(c,o,x)))}function d8(i,o,c){var x=jr();Wc(i,o,c,x)}function Wc(i,o,c,x){var y={lane:x,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ku(i))x8(o,y);else{var B=i.alternate;if(i.lanes===0&&(B===null||B.lanes===0)&&(B=o.lastRenderedReducer,B!==null))try{var W=o.lastRenderedState,ee=B(W,c);if(y.hasEagerState=!0,y.eagerState=ee,Fr(ee,W))return Bu(i,o,y,0),qt===null&&vu(),!1}catch{}if(c=ah(i,o,y,x),c!==null)return Ar(c,i,x),f8(c,o,x),!0}return!1}function qh(i,o,c,x){if(x={lane:2,revertLane:Ap(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Ku(i)){if(o)throw Error(n(479))}else o=ah(i,c,x,2),o!==null&&Ar(o,i,2)}function Ku(i){var o=i.alternate;return i===it||o!==null&&o===it}function x8(i,o){xl=Lu=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function f8(i,o,c){if((c&4194048)!==0){var x=o.lanes;x&=i.pendingLanes,c|=x,o.lanes=c,Ec(i,c)}}var qc={readContext:Xn,use:Uu,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};qc.useEffectEvent=vn;var h8={readContext:Xn,use:Uu,useCallback:function(i,o){return hr().memoizedState=[i,o===void 0?null:o],i},useContext:Xn,useEffect:QE,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,Wu(4194308,4,t8.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Wu(4194308,4,i,o)},useInsertionEffect:function(i,o){Wu(4,2,i,o)},useMemo:function(i,o){var c=hr();o=o===void 0?null:o;var x=i();if(Ys){Ye(!0);try{i()}finally{Ye(!1)}}return c.memoizedState=[x,o],x},useReducer:function(i,o,c){var x=hr();if(c!==void 0){var y=c(o);if(Ys){Ye(!0);try{c(o)}finally{Ye(!1)}}}else y=o;return x.memoizedState=x.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},x.queue=i,i=i.dispatch=YB.bind(null,it,i),[x.memoizedState,i]},useRef:function(i){var o=hr();return i={current:i},o.memoizedState=i},useState:function(i){i=jh(i);var o=i.queue,c=d8.bind(null,it,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:zh,useDeferredValue:function(i,o){var c=hr();return Uh(c,i,o)},useTransition:function(){var i=jh(!1);return i=s8.bind(null,it,i.queue,!0,!1),hr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var x=it,y=hr();if(Ct){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),qt===null)throw Error(n(349));(yt&127)!==0||ME(x,o,c)}y.memoizedState=c;var B={value:c,getSnapshot:o};return y.queue=B,QE(jE.bind(null,x,B,i),[i]),x.flags|=2048,hl(9,{destroy:void 0},OE.bind(null,x,B,c,o),null),c},useId:function(){var i=hr(),o=qt.identifierPrefix;if(Ct){var c=vi,x=Ci;c=(x&~(1<<32-He(x)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Pu++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=UB++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Wh,useFormState:VE,useActionState:VE,useOptimistic:function(i){var o=hr();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=qh.bind(null,it,!0,c),c.dispatch=o,[i,o]},useMemoCache:Ih,useCacheRefresh:function(){return hr().memoizedState=GB.bind(null,it)},useEffectEvent:function(i){var o=hr(),c={impl:i};return o.memoizedState=c,function(){if((Ft&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Kh={readContext:Xn,use:Uu,useCallback:r8,useContext:Xn,useEffect:Ph,useImperativeHandle:n8,useInsertionEffect:JE,useLayoutEffect:e8,useMemo:i8,useReducer:Hu,useRef:ZE,useState:function(){return Hu(oo)},useDebugValue:zh,useDeferredValue:function(i,o){var c=Rn();return o8(c,Lt.memoizedState,i,o)},useTransition:function(){var i=Hu(oo)[0],o=Rn().memoizedState;return[typeof i=="boolean"?i:Hc(i),o]},useSyncExternalStore:IE,useId:c8,useHostTransitionStatus:Wh,useFormState:GE,useActionState:GE,useOptimistic:function(i,o){var c=Rn();return zE(c,Lt,i,o)},useMemoCache:Ih,useCacheRefresh:u8};Kh.useEffectEvent=XE;var p8={readContext:Xn,use:Uu,useCallback:r8,useContext:Xn,useEffect:Ph,useImperativeHandle:n8,useInsertionEffect:JE,useLayoutEffect:e8,useMemo:i8,useReducer:Oh,useRef:ZE,useState:function(){return Oh(oo)},useDebugValue:zh,useDeferredValue:function(i,o){var c=Rn();return Lt===null?Uh(c,i,o):o8(c,Lt.memoizedState,i,o)},useTransition:function(){var i=Oh(oo)[0],o=Rn().memoizedState;return[typeof i=="boolean"?i:Hc(i),o]},useSyncExternalStore:IE,useId:c8,useHostTransitionStatus:Wh,useFormState:$E,useActionState:$E,useOptimistic:function(i,o){var c=Rn();return Lt!==null?zE(c,Lt,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:u8};p8.useEffectEvent=XE;function Vh(i,o,c,x){o=i.memoizedState,c=c(x,o),c=c==null?o:E({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Gh={enqueueSetState:function(i,o,c){i=i._reactInternals;var x=jr(),y=Zo(x);y.payload=o,c!=null&&(y.callback=c),o=Qo(i,y,x),o!==null&&(Ar(o,i,x),Lc(o,i,x))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var x=jr(),y=Zo(x);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=Qo(i,y,x),o!==null&&(Ar(o,i,x),Lc(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=jr(),x=Zo(c);x.tag=2,o!=null&&(x.callback=o),o=Qo(i,x,c),o!==null&&(Ar(o,i,c),Lc(o,i,c))}};function g8(i,o,c,x,y,B,W){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,B,W):o.prototype&&o.prototype.isPureReactComponent?!kc(c,x)||!kc(y,B):!0}function m8(i,o,c,x){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,x),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,x),o.state!==i&&Gh.enqueueReplaceState(o,o.state,null)}function $s(i,o){var c=o;if("ref"in o){c={};for(var x in o)x!=="ref"&&(c[x]=o[x])}if(i=i.defaultProps){c===o&&(c=E({},c));for(var y in i)c[y]===void 0&&(c[y]=i[y])}return c}function y8(i){Cu(i)}function E8(i){console.error(i)}function b8(i){Cu(i)}function Vu(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(x){setTimeout(function(){throw x})}}function w8(i,o,c){try{var x=i.onCaughtError;x(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Yh(i,o,c){return c=Zo(c),c.tag=3,c.payload={element:null},c.callback=function(){Vu(i,o)},c}function A8(i){return i=Zo(i),i.tag=3,i}function C8(i,o,c,x){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var B=x.value;i.payload=function(){return y(B)},i.callback=function(){w8(o,c,x)}}var W=c.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(i.callback=function(){w8(o,c,x),typeof y!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var ee=x.stack;this.componentDidCatch(x.value,{componentStack:ee!==null?ee:""})})}function $B(i,o,c,x,y){if(c.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(o=c.alternate,o!==null&&sl(o,c,y,!0),c=Nr.current,c!==null){switch(c.tag){case 31:case 13:return Xr===null?id():c.alternate===null&&Bn===0&&(Bn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,x===Nu?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([x]):o.add(x),Ep(i,x,y)),!1;case 22:return c.flags|=65536,x===Nu?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([x])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([x]):c.add(x)),Ep(i,x,y)),!1}throw Error(n(435,c.tag))}return Ep(i,x,y),id(),!1}if(Ct)return o=Nr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,x!==fh&&(i=Error(n(422),{cause:x}),Nc(Yr(i,c)))):(x!==fh&&(o=Error(n(423),{cause:x}),Nc(Yr(o,c))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,x=Yr(x,c),y=Yh(i.stateNode,x,y),vh(i,y),Bn!==4&&(Bn=2)),!1;var B=Error(n(520),{cause:x});if(B=Yr(B,c),Xc===null?Xc=[B]:Xc.push(B),Bn!==4&&(Bn=2),o===null)return!0;x=Yr(x,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=y&-y,c.lanes|=i,i=Yh(c.stateNode,x,i),vh(c,i),!1;case 1:if(o=c.type,B=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(rs===null||!rs.has(B))))return c.flags|=65536,y&=-y,c.lanes|=y,y=A8(y),C8(y,i,c,x),vh(c,y),!1}c=c.return}while(c!==null);return!1}var $h=Error(n(461)),On=!1;function Jn(i,o,c,x){o.child=i===null?_E(o,null,c,x):Gs(o,i.child,c,x)}function v8(i,o,c,x,y){c=c.render;var B=o.ref;if("ref"in x){var W={};for(var ee in x)ee!=="ref"&&(W[ee]=x[ee])}else W=x;return Ws(o),x=kh(i,o,c,W,B,y),ee=Fh(),i!==null&&!On?(Th(i,o,y),so(i,o,y)):(Ct&&ee&&dh(o),o.flags|=1,Jn(i,o,x,y),o.child)}function B8(i,o,c,x,y){if(i===null){var B=c.type;return typeof B=="function"&&!lh(B)&&B.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=B,S8(i,o,B,x,y)):(i=_u(c.type,null,x,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(B=i.child,!rp(i,y)){var W=B.memoizedProps;if(c=c.compare,c=c!==null?c:kc,c(W,x)&&i.ref===o.ref)return so(i,o,y)}return o.flags|=1,i=eo(B,x),i.ref=o.ref,i.return=o,o.child=i}function S8(i,o,c,x,y){if(i!==null){var B=i.memoizedProps;if(kc(B,x)&&i.ref===o.ref)if(On=!1,o.pendingProps=x=B,rp(i,y))(i.flags&131072)!==0&&(On=!0);else return o.lanes=i.lanes,so(i,o,y)}return Zh(i,o,c,x,y)}function _8(i,o,c,x){var y=x.children,B=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((o.flags&128)!==0){if(B=B!==null?B.baseLanes|c:c,i!==null){for(x=o.child=i.child,y=0;x!==null;)y=y|x.lanes|x.childLanes,x=x.sibling;x=y&~B}else x=0,o.child=null;return D8(i,o,B,c,x)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Fu(o,B!==null?B.cachePool:null),B!==null?kE(o,B):Sh(),FE(o);else return x=o.lanes=536870912,D8(i,o,B!==null?B.baseLanes|c:c,c,x)}else B!==null?(Fu(o,B.cachePool),kE(o,B),Jo(),o.memoizedState=null):(i!==null&&Fu(o,null),Sh(),Jo());return Jn(i,o,y,c),o.child}function Kc(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function D8(i,o,c,x,y){var B=bh();return B=B===null?null:{parent:In._currentValue,pool:B},o.memoizedState={baseLanes:c,cachePool:B},i!==null&&Fu(o,null),Sh(),FE(o),i!==null&&sl(i,o,x,!0),o.childLanes=y,null}function Gu(i,o){return o=$u({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function R8(i,o,c){return Gs(o,i.child,null,c),i=Gu(o,o.pendingProps),i.flags|=2,Ir(o),o.memoizedState=null,i}function ZB(i,o,c){var x=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Ct){if(x.mode==="hidden")return i=Gu(o,x),o.lanes=536870912,Kc(null,i);if(Dh(o),(i=Jt)?(i=U9(i,Qr),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ko!==null?{id:Ci,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},c=xE(i),c.return=o,o.child=c,Qn=o,Jt=null)):i=null,i===null)throw Go(o);return o.lanes=536870912,null}return Gu(o,x)}var B=i.memoizedState;if(B!==null){var W=B.dehydrated;if(Dh(o),y)if(o.flags&256)o.flags&=-257,o=R8(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(On||sl(i,o,c,!1),y=(c&i.childLanes)!==0,On||y){if(x=qt,x!==null&&(W=hn(x,c),W!==0&&W!==B.retryLane))throw B.retryLane=W,Ps(i,W),Ar(x,i,W),$h;id(),o=R8(i,o,c)}else i=B.treeContext,Jt=Jr(W.nextSibling),Qn=o,Ct=!0,Vo=null,Qr=!1,i!==null&&pE(o,i),o=Gu(o,x),o.flags|=4096;return o}return i=eo(i.child,{mode:x.mode,children:x.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Yu(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function Zh(i,o,c,x,y){return Ws(o),c=kh(i,o,c,x,void 0,y),x=Fh(),i!==null&&!On?(Th(i,o,y),so(i,o,y)):(Ct&&x&&dh(o),o.flags|=1,Jn(i,o,c,y),o.child)}function k8(i,o,c,x,y,B){return Ws(o),o.updateQueue=null,c=NE(o,x,c,y),TE(i),x=Fh(),i!==null&&!On?(Th(i,o,B),so(i,o,B)):(Ct&&x&&dh(o),o.flags|=1,Jn(i,o,c,B),o.child)}function F8(i,o,c,x,y){if(Ws(o),o.stateNode===null){var B=nl,W=c.contextType;typeof W=="object"&&W!==null&&(B=Xn(W)),B=new c(x,B),o.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=Gh,o.stateNode=B,B._reactInternals=o,B=o.stateNode,B.props=x,B.state=o.memoizedState,B.refs={},Ah(o),W=c.contextType,B.context=typeof W=="object"&&W!==null?Xn(W):nl,B.state=o.memoizedState,W=c.getDerivedStateFromProps,typeof W=="function"&&(Vh(o,c,W,x),B.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(W=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),W!==B.state&&Gh.enqueueReplaceState(B,B.state,null),zc(o,x,B,y),Pc(),B.state=o.memoizedState),typeof B.componentDidMount=="function"&&(o.flags|=4194308),x=!0}else if(i===null){B=o.stateNode;var ee=o.memoizedProps,ie=$s(c,ee);B.props=ie;var xe=B.context,Ee=c.contextType;W=nl,typeof Ee=="object"&&Ee!==null&&(W=Xn(Ee));var Ce=c.getDerivedStateFromProps;Ee=typeof Ce=="function"||typeof B.getSnapshotBeforeUpdate=="function",ee=o.pendingProps!==ee,Ee||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(ee||xe!==W)&&m8(o,B,x,W),$o=!1;var he=o.memoizedState;B.state=he,zc(o,x,B,y),Pc(),xe=o.memoizedState,ee||he!==xe||$o?(typeof Ce=="function"&&(Vh(o,c,Ce,x),xe=o.memoizedState),(ie=$o||g8(o,c,ie,x,he,xe,W))?(Ee||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(o.flags|=4194308)):(typeof B.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=x,o.memoizedState=xe),B.props=x,B.state=xe,B.context=W,x=ie):(typeof B.componentDidMount=="function"&&(o.flags|=4194308),x=!1)}else{B=o.stateNode,Ch(i,o),W=o.memoizedProps,Ee=$s(c,W),B.props=Ee,Ce=o.pendingProps,he=B.context,xe=c.contextType,ie=nl,typeof xe=="object"&&xe!==null&&(ie=Xn(xe)),ee=c.getDerivedStateFromProps,(xe=typeof ee=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(W!==Ce||he!==ie)&&m8(o,B,x,ie),$o=!1,he=o.memoizedState,B.state=he,zc(o,x,B,y),Pc();var ye=o.memoizedState;W!==Ce||he!==ye||$o||i!==null&&i.dependencies!==null&&Ru(i.dependencies)?(typeof ee=="function"&&(Vh(o,c,ee,x),ye=o.memoizedState),(Ee=$o||g8(o,c,Ee,x,he,ye,ie)||i!==null&&i.dependencies!==null&&Ru(i.dependencies))?(xe||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(x,ye,ie),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(x,ye,ie)),typeof B.componentDidUpdate=="function"&&(o.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof B.componentDidUpdate!="function"||W===i.memoizedProps&&he===i.memoizedState||(o.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&he===i.memoizedState||(o.flags|=1024),o.memoizedProps=x,o.memoizedState=ye),B.props=x,B.state=ye,B.context=ie,x=Ee):(typeof B.componentDidUpdate!="function"||W===i.memoizedProps&&he===i.memoizedState||(o.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&he===i.memoizedState||(o.flags|=1024),x=!1)}return B=x,Yu(i,o),x=(o.flags&128)!==0,B||x?(B=o.stateNode,c=x&&typeof c.getDerivedStateFromError!="function"?null:B.render(),o.flags|=1,i!==null&&x?(o.child=Gs(o,i.child,null,y),o.child=Gs(o,null,c,y)):Jn(i,o,c,y),o.memoizedState=B.state,i=o.child):i=so(i,o,y),i}function T8(i,o,c,x){return Us(),o.flags|=256,Jn(i,o,c,x),o.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xh(i){return{baseLanes:i,cachePool:wE()}}function Jh(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=Or),i}function N8(i,o,c){var x=o.pendingProps,y=!1,B=(o.flags&128)!==0,W;if((W=B)||(W=i!==null&&i.memoizedState===null?!1:(Dn.current&2)!==0),W&&(y=!0,o.flags&=-129),W=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ct){if(y?Xo(o):Jo(),(i=Jt)?(i=U9(i,Qr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ko!==null?{id:Ci,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},c=xE(i),c.return=o,o.child=c,Qn=o,Jt=null)):i=null,i===null)throw Go(o);return Mp(i)?o.lanes=32:o.lanes=536870912,null}var ee=x.children;return x=x.fallback,y?(Jo(),y=o.mode,ee=$u({mode:"hidden",children:ee},y),x=zs(x,y,c,null),ee.return=o,x.return=o,ee.sibling=x,o.child=ee,x=o.child,x.memoizedState=Xh(c),x.childLanes=Jh(i,W,c),o.memoizedState=Qh,Kc(null,x)):(Xo(o),ep(o,ee))}var ie=i.memoizedState;if(ie!==null&&(ee=ie.dehydrated,ee!==null)){if(B)o.flags&256?(Xo(o),o.flags&=-257,o=tp(i,o,c)):o.memoizedState!==null?(Jo(),o.child=i.child,o.flags|=128,o=null):(Jo(),ee=x.fallback,y=o.mode,x=$u({mode:"visible",children:x.children},y),ee=zs(ee,y,c,null),ee.flags|=2,x.return=o,ee.return=o,x.sibling=ee,o.child=x,Gs(o,i.child,null,c),x=o.child,x.memoizedState=Xh(c),x.childLanes=Jh(i,W,c),o.memoizedState=Qh,o=Kc(null,x));else if(Xo(o),Mp(ee)){if(W=ee.nextSibling&&ee.nextSibling.dataset,W)var xe=W.dgst;W=xe,x=Error(n(419)),x.stack="",x.digest=W,Nc({value:x,source:null,stack:null}),o=tp(i,o,c)}else if(On||sl(i,o,c,!1),W=(c&i.childLanes)!==0,On||W){if(W=qt,W!==null&&(x=hn(W,c),x!==0&&x!==ie.retryLane))throw ie.retryLane=x,Ps(i,x),Ar(W,i,x),$h;Ip(ee)||id(),o=tp(i,o,c)}else Ip(ee)?(o.flags|=192,o.child=i.child,o=null):(i=ie.treeContext,Jt=Jr(ee.nextSibling),Qn=o,Ct=!0,Vo=null,Qr=!1,i!==null&&pE(o,i),o=ep(o,x.children),o.flags|=4096);return o}return y?(Jo(),ee=x.fallback,y=o.mode,ie=i.child,xe=ie.sibling,x=eo(ie,{mode:"hidden",children:x.children}),x.subtreeFlags=ie.subtreeFlags&65011712,xe!==null?ee=eo(xe,ee):(ee=zs(ee,y,c,null),ee.flags|=2),ee.return=o,x.return=o,x.sibling=ee,o.child=x,Kc(null,x),x=o.child,ee=i.child.memoizedState,ee===null?ee=Xh(c):(y=ee.cachePool,y!==null?(ie=In._currentValue,y=y.parent!==ie?{parent:ie,pool:ie}:y):y=wE(),ee={baseLanes:ee.baseLanes|c,cachePool:y}),x.memoizedState=ee,x.childLanes=Jh(i,W,c),o.memoizedState=Qh,Kc(i.child,x)):(Xo(o),c=i.child,i=c.sibling,c=eo(c,{mode:"visible",children:x.children}),c.return=o,c.sibling=null,i!==null&&(W=o.deletions,W===null?(o.deletions=[i],o.flags|=16):W.push(i)),o.child=c,o.memoizedState=null,c)}function ep(i,o){return o=$u({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function $u(i,o){return i=Tr(22,i,null,o),i.lanes=0,i}function tp(i,o,c){return Gs(o,i.child,null,c),i=ep(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function I8(i,o,c){i.lanes|=o;var x=i.alternate;x!==null&&(x.lanes|=o),gh(i.return,o,c)}function np(i,o,c,x,y,B){var W=i.memoizedState;W===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:x,tail:c,tailMode:y,treeForkCount:B}:(W.isBackwards=o,W.rendering=null,W.renderingStartTime=0,W.last=x,W.tail=c,W.tailMode=y,W.treeForkCount=B)}function M8(i,o,c){var x=o.pendingProps,y=x.revealOrder,B=x.tail;x=x.children;var W=Dn.current,ee=(W&2)!==0;if(ee?(W=W&1|2,o.flags|=128):W&=1,w(Dn,W),Jn(i,o,x,c),x=Ct?Tc:0,!ee&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&I8(i,c,o);else if(i.tag===19)I8(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)i=c.alternate,i!==null&&ju(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),np(o,!1,y,c,B,x);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&ju(i)===null){o.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}np(o,!0,c,null,B,x);break;case"together":np(o,!1,null,null,void 0,x);break;default:o.memoizedState=null}return o.child}function so(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),ns|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(sl(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=eo(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=eo(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function rp(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Ru(i)))}function QB(i,o,c){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),Yo(o,In,i.memoizedState.cache),Us();break;case 27:case 5:Je(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:Yo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Dh(o),null;break;case 13:var x=o.memoizedState;if(x!==null)return x.dehydrated!==null?(Xo(o),o.flags|=128,null):(c&o.child.childLanes)!==0?N8(i,o,c):(Xo(o),i=so(i,o,c),i!==null?i.sibling:null);Xo(o);break;case 19:var y=(i.flags&128)!==0;if(x=(c&o.childLanes)!==0,x||(sl(i,o,c,!1),x=(c&o.childLanes)!==0),y){if(x)return M8(i,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),w(Dn,Dn.current),x)break;return null;case 22:return o.lanes=0,_8(i,o,c,o.pendingProps);case 24:Yo(o,In,i.memoizedState.cache)}return so(i,o,c)}function O8(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)On=!0;else{if(!rp(i,c)&&(o.flags&128)===0)return On=!1,QB(i,o,c);On=(i.flags&131072)!==0}else On=!1,Ct&&(o.flags&1048576)!==0&&hE(o,Tc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var x=o.pendingProps;if(i=Ks(o.elementType),o.type=i,typeof i=="function")lh(i)?(x=$s(i,x),o.tag=1,o=F8(null,o,i,x,c)):(o.tag=0,o=Zh(null,o,i,x,c));else{if(i!=null){var y=i.$$typeof;if(y===P){o.tag=11,o=v8(null,o,i,x,c);break e}else if(y===H){o.tag=14,o=B8(null,o,i,x,c);break e}}throw o=p(i)||i,Error(n(306,o,""))}}return o;case 0:return Zh(i,o,o.type,o.pendingProps,c);case 1:return x=o.type,y=$s(x,o.pendingProps),F8(i,o,x,y,c);case 3:e:{if(be(o,o.stateNode.containerInfo),i===null)throw Error(n(387));x=o.pendingProps;var B=o.memoizedState;y=B.element,Ch(i,o),zc(o,x,null,c);var W=o.memoizedState;if(x=W.cache,Yo(o,In,x),x!==B.cache&&mh(o,[In],c,!0),Pc(),x=W.element,B.isDehydrated)if(B={element:x,isDehydrated:!1,cache:W.cache},o.updateQueue.baseState=B,o.memoizedState=B,o.flags&256){o=T8(i,o,x,c);break e}else if(x!==y){y=Yr(Error(n(424)),o),Nc(y),o=T8(i,o,x,c);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Jt=Jr(i.firstChild),Qn=o,Ct=!0,Vo=null,Qr=!0,c=_E(o,null,x,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Us(),x===y){o=so(i,o,c);break e}Jn(i,o,x,c)}o=o.child}return o;case 26:return Yu(i,o),i===null?(c=G9(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ct||(c=o.type,i=o.pendingProps,x=dd(ne.current).createElement(c),x[ht]=o,x[At]=i,er(x,c,i),Cn(x),o.stateNode=x):o.memoizedState=G9(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Je(o),i===null&&Ct&&(x=o.stateNode=q9(o.type,o.pendingProps,ne.current),Qn=o,Qr=!0,y=Jt,as(o.type)?(Op=y,Jt=Jr(x.firstChild)):Jt=y),Jn(i,o,o.pendingProps.children,c),Yu(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Ct&&((y=x=Jt)&&(x=_3(x,o.type,o.pendingProps,Qr),x!==null?(o.stateNode=x,Qn=o,Jt=Jr(x.firstChild),Qr=!1,y=!0):y=!1),y||Go(o)),Je(o),y=o.type,B=o.pendingProps,W=i!==null?i.memoizedProps:null,x=B.children,Fp(y,B)?x=null:W!==null&&Fp(y,W)&&(o.flags|=32),o.memoizedState!==null&&(y=kh(i,o,HB,null,null,c),s0._currentValue=y),Yu(i,o),Jn(i,o,x,c),o.child;case 6:return i===null&&Ct&&((i=c=Jt)&&(c=D3(c,o.pendingProps,Qr),c!==null?(o.stateNode=c,Qn=o,Jt=null,i=!0):i=!1),i||Go(o)),null;case 13:return N8(i,o,c);case 4:return be(o,o.stateNode.containerInfo),x=o.pendingProps,i===null?o.child=Gs(o,null,x,c):Jn(i,o,x,c),o.child;case 11:return v8(i,o,o.type,o.pendingProps,c);case 7:return Jn(i,o,o.pendingProps,c),o.child;case 8:return Jn(i,o,o.pendingProps.children,c),o.child;case 12:return Jn(i,o,o.pendingProps.children,c),o.child;case 10:return x=o.pendingProps,Yo(o,o.type,x.value),Jn(i,o,x.children,c),o.child;case 9:return y=o.type._context,x=o.pendingProps.children,Ws(o),y=Xn(y),x=x(y),o.flags|=1,Jn(i,o,x,c),o.child;case 14:return B8(i,o,o.type,o.pendingProps,c);case 15:return S8(i,o,o.type,o.pendingProps,c);case 19:return M8(i,o,c);case 31:return ZB(i,o,c);case 22:return _8(i,o,c,o.pendingProps);case 24:return Ws(o),x=Xn(In),i===null?(y=bh(),y===null&&(y=qt,B=yh(),y.pooledCache=B,B.refCount++,B!==null&&(y.pooledCacheLanes|=c),y=B),o.memoizedState={parent:x,cache:y},Ah(o),Yo(o,In,y)):((i.lanes&c)!==0&&(Ch(i,o),zc(o,null,null,c),Pc()),y=i.memoizedState,B=o.memoizedState,y.parent!==x?(y={parent:x,cache:x},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Yo(o,In,x)):(x=B.cache,Yo(o,In,x),x!==y.cache&&mh(o,[In],c,!0))),Jn(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function ao(i){i.flags|=4}function ip(i,o,c,x,y){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(c9())i.flags|=8192;else throw Vs=Nu,wh}else i.flags&=-16777217}function j8(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!X9(o))if(c9())i.flags|=8192;else throw Vs=Nu,wh}function Zu(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?xn():536870912,i.lanes|=o,yl|=o)}function Vc(i,o){if(!Ct)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var x=null;c!==null;)c.alternate!==null&&(x=c),c=c.sibling;x===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function en(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,x=0;if(o)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,x|=y.subtreeFlags&65011712,x|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,x|=y.subtreeFlags,x|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=x,i.childLanes=c,o}function XB(i,o,c){var x=o.pendingProps;switch(xh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return en(o),null;case 3:return c=o.stateNode,x=null,i!==null&&(x=i.memoizedState.cache),o.memoizedState.cache!==x&&(o.flags|=2048),ro(In),we(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(ol(o)?ao(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hh())),en(o),null;case 26:var y=o.type,B=o.memoizedState;return i===null?(ao(o),B!==null?(en(o),j8(o,B)):(en(o),ip(o,y,null,x,c))):B?B!==i.memoizedState?(ao(o),en(o),j8(o,B)):(en(o),o.flags&=-16777217):(i=i.memoizedProps,i!==x&&ao(o),en(o),ip(o,y,i,x,c)),null;case 27:if(et(o),c=ne.current,y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&ao(o);else{if(!x){if(o.stateNode===null)throw Error(n(166));return en(o),null}i=j.current,ol(o)?gE(o):(i=q9(y,x,c),o.stateNode=i,ao(o))}return en(o),null;case 5:if(et(o),y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&ao(o);else{if(!x){if(o.stateNode===null)throw Error(n(166));return en(o),null}if(B=j.current,ol(o))gE(o);else{var W=dd(ne.current);switch(B){case 1:B=W.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:B=W.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":B=W.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":B=W.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":B=W.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild);break;case"select":B=typeof x.is=="string"?W.createElement("select",{is:x.is}):W.createElement("select"),x.multiple?B.multiple=!0:x.size&&(B.size=x.size);break;default:B=typeof x.is=="string"?W.createElement(y,{is:x.is}):W.createElement(y)}}B[ht]=o,B[At]=x;e:for(W=o.child;W!==null;){if(W.tag===5||W.tag===6)B.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===o)break e;for(;W.sibling===null;){if(W.return===null||W.return===o)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}o.stateNode=B;e:switch(er(B,y,x),y){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&ao(o)}}return en(o),ip(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==x&&ao(o);else{if(typeof x!="string"&&o.stateNode===null)throw Error(n(166));if(i=ne.current,ol(o)){if(i=o.stateNode,c=o.memoizedProps,x=null,y=Qn,y!==null)switch(y.tag){case 27:case 5:x=y.memoizedProps}i[ht]=o,i=!!(i.nodeValue===c||x!==null&&x.suppressHydrationWarning===!0||N9(i.nodeValue,c)),i||Go(o,!0)}else i=dd(i).createTextNode(x),i[ht]=o,o.stateNode=i}return en(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(x=ol(o),c!==null){if(i===null){if(!x)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[ht]=o}else Us(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;en(o),i=!1}else c=hh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(Ir(o),o):(Ir(o),null);if((o.flags&128)!==0)throw Error(n(558))}return en(o),null;case 13:if(x=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=ol(o),x!==null&&x.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[ht]=o}else Us(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;en(o),y=!1}else y=hh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Ir(o),o):(Ir(o),null)}return Ir(o),(o.flags&128)!==0?(o.lanes=c,o):(c=x!==null,i=i!==null&&i.memoizedState!==null,c&&(x=o.child,y=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(y=x.alternate.memoizedState.cachePool.pool),B=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(B=x.memoizedState.cachePool.pool),B!==y&&(x.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),Zu(o,o.updateQueue),en(o),null);case 4:return we(),i===null&&Sp(o.stateNode.containerInfo),en(o),null;case 10:return ro(o.type),en(o),null;case 19:if(g(Dn),x=o.memoizedState,x===null)return en(o),null;if(y=(o.flags&128)!==0,B=x.rendering,B===null)if(y)Vc(x,!1);else{if(Bn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(B=ju(i),B!==null){for(o.flags|=128,Vc(x,!1),i=B.updateQueue,o.updateQueue=i,Zu(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)dE(c,i),c=c.sibling;return w(Dn,Dn.current&1|2),Ct&&to(o,x.treeForkCount),o.child}i=i.sibling}x.tail!==null&&ft()>td&&(o.flags|=128,y=!0,Vc(x,!1),o.lanes=4194304)}else{if(!y)if(i=ju(B),i!==null){if(o.flags|=128,y=!0,i=i.updateQueue,o.updateQueue=i,Zu(o,i),Vc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!B.alternate&&!Ct)return en(o),null}else 2*ft()-x.renderingStartTime>td&&c!==536870912&&(o.flags|=128,y=!0,Vc(x,!1),o.lanes=4194304);x.isBackwards?(B.sibling=o.child,o.child=B):(i=x.last,i!==null?i.sibling=B:o.child=B,x.last=B)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=ft(),i.sibling=null,c=Dn.current,w(Dn,y?c&1|2:c&1),Ct&&to(o,x.treeForkCount),i):(en(o),null);case 22:case 23:return Ir(o),_h(),x=o.memoizedState!==null,i!==null?i.memoizedState!==null!==x&&(o.flags|=8192):x&&(o.flags|=8192),x?(c&536870912)!==0&&(o.flags&128)===0&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),c=o.updateQueue,c!==null&&Zu(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),x=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),x!==c&&(o.flags|=2048),i!==null&&g(qs),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ro(In),en(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function JB(i,o){switch(xh(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ro(In),we(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return et(o),null;case 31:if(o.memoizedState!==null){if(Ir(o),o.alternate===null)throw Error(n(340));Us()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Ir(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Us()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return g(Dn),null;case 4:return we(),null;case 10:return ro(o.type),null;case 22:case 23:return Ir(o),_h(),i!==null&&g(qs),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ro(In),null;case 25:return null;default:return null}}function L8(i,o){switch(xh(o),o.tag){case 3:ro(In),we();break;case 26:case 27:case 5:et(o);break;case 4:we();break;case 31:o.memoizedState!==null&&Ir(o);break;case 13:Ir(o);break;case 19:g(Dn);break;case 10:ro(o.type);break;case 22:case 23:Ir(o),_h(),i!==null&&g(qs);break;case 24:ro(In)}}function Gc(i,o){try{var c=o.updateQueue,x=c!==null?c.lastEffect:null;if(x!==null){var y=x.next;c=y;do{if((c.tag&i)===i){x=void 0;var B=c.create,W=c.inst;x=B(),W.destroy=x}c=c.next}while(c!==y)}}catch(ee){It(o,o.return,ee)}}function es(i,o,c){try{var x=o.updateQueue,y=x!==null?x.lastEffect:null;if(y!==null){var B=y.next;x=B;do{if((x.tag&i)===i){var W=x.inst,ee=W.destroy;if(ee!==void 0){W.destroy=void 0,y=o;var ie=c,xe=ee;try{xe()}catch(Ee){It(y,ie,Ee)}}}x=x.next}while(x!==B)}}catch(Ee){It(o,o.return,Ee)}}function P8(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{RE(o,c)}catch(x){It(i,i.return,x)}}}function z8(i,o,c){c.props=$s(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(x){It(i,o,x)}}function Yc(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var x=i.stateNode;break;case 30:x=i.stateNode;break;default:x=i.stateNode}typeof c=="function"?i.refCleanup=c(x):c.current=x}}catch(y){It(i,o,y)}}function Bi(i,o){var c=i.ref,x=i.refCleanup;if(c!==null)if(typeof x=="function")try{x()}catch(y){It(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){It(i,o,y)}else c.current=null}function U8(i){var o=i.type,c=i.memoizedProps,x=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&x.focus();break e;case"img":c.src?x.src=c.src:c.srcSet&&(x.srcset=c.srcSet)}}catch(y){It(i,i.return,y)}}function op(i,o,c){try{var x=i.stateNode;w3(x,i.type,c,o),x[At]=o}catch(y){It(i,i.return,y)}}function H8(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&as(i.type)||i.tag===4}function sp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||H8(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&as(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ap(i,o,c){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Xi));else if(x!==4&&(x===27&&as(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(ap(i,o,c),i=i.sibling;i!==null;)ap(i,o,c),i=i.sibling}function Qu(i,o,c){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(x!==4&&(x===27&&as(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Qu(i,o,c),i=i.sibling;i!==null;)Qu(i,o,c),i=i.sibling}function W8(i){var o=i.stateNode,c=i.memoizedProps;try{for(var x=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);er(o,x,c),o[ht]=i,o[At]=c}catch(B){It(i,i.return,B)}}var lo=!1,jn=!1,lp=!1,q8=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function e3(i,o){if(i=i.containerInfo,Rp=yd,i=nE(i),th(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var x=c.getSelection&&c.getSelection();if(x&&x.rangeCount!==0){c=x.anchorNode;var y=x.anchorOffset,B=x.focusNode;x=x.focusOffset;try{c.nodeType,B.nodeType}catch{c=null;break e}var W=0,ee=-1,ie=-1,xe=0,Ee=0,Ce=i,he=null;t:for(;;){for(var ye;Ce!==c||y!==0&&Ce.nodeType!==3||(ee=W+y),Ce!==B||x!==0&&Ce.nodeType!==3||(ie=W+x),Ce.nodeType===3&&(W+=Ce.nodeValue.length),(ye=Ce.firstChild)!==null;)he=Ce,Ce=ye;for(;;){if(Ce===i)break t;if(he===c&&++xe===y&&(ee=W),he===B&&++Ee===x&&(ie=W),(ye=Ce.nextSibling)!==null)break;Ce=he,he=Ce.parentNode}Ce=ye}c=ee===-1||ie===-1?null:{start:ee,end:ie}}else c=null}c=c||{start:0,end:0}}else c=null;for(kp={focusedElem:i,selectionRange:c},yd=!1,Kn=o;Kn!==null;)if(o=Kn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Kn=i;else for(;Kn!==null;){switch(o=Kn,B=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)y=i[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&B!==null){i=void 0,c=o,y=B.memoizedProps,B=B.memoizedState,x=c.stateNode;try{var Pe=$s(c.type,y);i=x.getSnapshotBeforeUpdate(Pe,B),x.__reactInternalSnapshotBeforeUpdate=i}catch(Qe){It(c,c.return,Qe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)Np(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Np(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Kn=i;break}Kn=o.return}}function K8(i,o,c){var x=c.flags;switch(c.tag){case 0:case 11:case 15:uo(i,c),x&4&&Gc(5,c);break;case 1:if(uo(i,c),x&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(W){It(c,c.return,W)}else{var y=$s(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(W){It(c,c.return,W)}}x&64&&P8(c),x&512&&Yc(c,c.return);break;case 3:if(uo(i,c),x&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{RE(i,o)}catch(W){It(c,c.return,W)}}break;case 27:o===null&&x&4&&W8(c);case 26:case 5:uo(i,c),o===null&&x&4&&U8(c),x&512&&Yc(c,c.return);break;case 12:uo(i,c);break;case 31:uo(i,c),x&4&&Y8(i,c);break;case 13:uo(i,c),x&4&&$8(i,c),x&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=c3.bind(null,c),R3(i,c))));break;case 22:if(x=c.memoizedState!==null||lo,!x){o=o!==null&&o.memoizedState!==null||jn,y=lo;var B=jn;lo=x,(jn=o)&&!B?xo(i,c,(c.subtreeFlags&8772)!==0):uo(i,c),lo=y,jn=B}break;case 30:break;default:uo(i,c)}}function V8(i){var o=i.alternate;o!==null&&(i.alternate=null,V8(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ms(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var sn=null,yr=!1;function co(i,o,c){for(c=c.child;c!==null;)G8(i,o,c),c=c.sibling}function G8(i,o,c){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(ge,c)}catch{}switch(c.tag){case 26:jn||Bi(c,o),co(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:jn||Bi(c,o);var x=sn,y=yr;as(c.type)&&(sn=c.stateNode,yr=!1),co(i,o,c),r0(c.stateNode),sn=x,yr=y;break;case 5:jn||Bi(c,o);case 6:if(x=sn,y=yr,sn=null,co(i,o,c),sn=x,yr=y,sn!==null)if(yr)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(c.stateNode)}catch(B){It(c,o,B)}else try{sn.removeChild(c.stateNode)}catch(B){It(c,o,B)}break;case 18:sn!==null&&(yr?(i=sn,P9(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Sl(i)):P9(sn,c.stateNode));break;case 4:x=sn,y=yr,sn=c.stateNode.containerInfo,yr=!0,co(i,o,c),sn=x,yr=y;break;case 0:case 11:case 14:case 15:es(2,c,o),jn||es(4,c,o),co(i,o,c);break;case 1:jn||(Bi(c,o),x=c.stateNode,typeof x.componentWillUnmount=="function"&&z8(c,o,x)),co(i,o,c);break;case 21:co(i,o,c);break;case 22:jn=(x=jn)||c.memoizedState!==null,co(i,o,c),jn=x;break;default:co(i,o,c)}}function Y8(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Sl(i)}catch(c){It(o,o.return,c)}}}function $8(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Sl(i)}catch(c){It(o,o.return,c)}}function t3(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new q8),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new q8),o;default:throw Error(n(435,i.tag))}}function Xu(i,o){var c=t3(i);o.forEach(function(x){if(!c.has(x)){c.add(x);var y=u3.bind(null,i,x);x.then(y,y)}})}function Er(i,o){var c=o.deletions;if(c!==null)for(var x=0;x<c.length;x++){var y=c[x],B=i,W=o,ee=W;e:for(;ee!==null;){switch(ee.tag){case 27:if(as(ee.type)){sn=ee.stateNode,yr=!1;break e}break;case 5:sn=ee.stateNode,yr=!1;break e;case 3:case 4:sn=ee.stateNode.containerInfo,yr=!0;break e}ee=ee.return}if(sn===null)throw Error(n(160));G8(B,W,y),sn=null,yr=!1,B=y.alternate,B!==null&&(B.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Z8(o,i),o=o.sibling}var ci=null;function Z8(i,o){var c=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Er(o,i),br(i),x&4&&(es(3,i,i.return),Gc(3,i),es(5,i,i.return));break;case 1:Er(o,i),br(i),x&512&&(jn||c===null||Bi(c,c.return)),x&64&&lo&&(i=i.updateQueue,i!==null&&(x=i.callbacks,x!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?x:c.concat(x))));break;case 26:var y=ci;if(Er(o,i),br(i),x&512&&(jn||c===null||Bi(c,c.return)),x&4){var B=c!==null?c.memoizedState:null;if(x=i.memoizedState,c===null)if(x===null)if(i.stateNode===null){e:{x=i.type,c=i.memoizedProps,y=y.ownerDocument||y;t:switch(x){case"title":B=y.getElementsByTagName("title")[0],(!B||B[$i]||B[ht]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=y.createElement(x),y.head.insertBefore(B,y.querySelector("head > title"))),er(B,x,c),B[ht]=i,Cn(B),x=B;break e;case"link":var W=Z9("link","href",y).get(x+(c.href||""));if(W){for(var ee=0;ee<W.length;ee++)if(B=W[ee],B.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&B.getAttribute("rel")===(c.rel==null?null:c.rel)&&B.getAttribute("title")===(c.title==null?null:c.title)&&B.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){W.splice(ee,1);break t}}B=y.createElement(x),er(B,x,c),y.head.appendChild(B);break;case"meta":if(W=Z9("meta","content",y).get(x+(c.content||""))){for(ee=0;ee<W.length;ee++)if(B=W[ee],B.getAttribute("content")===(c.content==null?null:""+c.content)&&B.getAttribute("name")===(c.name==null?null:c.name)&&B.getAttribute("property")===(c.property==null?null:c.property)&&B.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&B.getAttribute("charset")===(c.charSet==null?null:c.charSet)){W.splice(ee,1);break t}}B=y.createElement(x),er(B,x,c),y.head.appendChild(B);break;default:throw Error(n(468,x))}B[ht]=i,Cn(B),x=B}i.stateNode=x}else Q9(y,i.type,i.stateNode);else i.stateNode=$9(y,x,i.memoizedProps);else B!==x?(B===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):B.count--,x===null?Q9(y,i.type,i.stateNode):$9(y,x,i.memoizedProps)):x===null&&i.stateNode!==null&&op(i,i.memoizedProps,c.memoizedProps)}break;case 27:Er(o,i),br(i),x&512&&(jn||c===null||Bi(c,c.return)),c!==null&&x&4&&op(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Er(o,i),br(i),x&512&&(jn||c===null||Bi(c,c.return)),i.flags&32){y=i.stateNode;try{$a(y,"")}catch(Pe){It(i,i.return,Pe)}}x&4&&i.stateNode!=null&&(y=i.memoizedProps,op(i,y,c!==null?c.memoizedProps:y)),x&1024&&(lp=!0);break;case 6:if(Er(o,i),br(i),x&4){if(i.stateNode===null)throw Error(n(162));x=i.memoizedProps,c=i.stateNode;try{c.nodeValue=x}catch(Pe){It(i,i.return,Pe)}}break;case 3:if(hd=null,y=ci,ci=xd(o.containerInfo),Er(o,i),ci=y,br(i),x&4&&c!==null&&c.memoizedState.isDehydrated)try{Sl(o.containerInfo)}catch(Pe){It(i,i.return,Pe)}lp&&(lp=!1,Q8(i));break;case 4:x=ci,ci=xd(i.stateNode.containerInfo),Er(o,i),br(i),ci=x;break;case 12:Er(o,i),br(i);break;case 31:Er(o,i),br(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Xu(i,x)));break;case 13:Er(o,i),br(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ed=ft()),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Xu(i,x)));break;case 22:y=i.memoizedState!==null;var ie=c!==null&&c.memoizedState!==null,xe=lo,Ee=jn;if(lo=xe||y,jn=Ee||ie,Er(o,i),jn=Ee,lo=xe,br(i),x&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||ie||lo||jn||Zs(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){ie=c=o;try{if(B=ie.stateNode,y)W=B.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{ee=ie.stateNode;var Ce=ie.memoizedProps.style,he=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;ee.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Pe){It(ie,ie.return,Pe)}}}else if(o.tag===6){if(c===null){ie=o;try{ie.stateNode.nodeValue=y?"":ie.memoizedProps}catch(Pe){It(ie,ie.return,Pe)}}}else if(o.tag===18){if(c===null){ie=o;try{var ye=ie.stateNode;y?z9(ye,!0):z9(ie.stateNode,!1)}catch(Pe){It(ie,ie.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}x&4&&(x=i.updateQueue,x!==null&&(c=x.retryQueue,c!==null&&(x.retryQueue=null,Xu(i,c))));break;case 19:Er(o,i),br(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Xu(i,x)));break;case 30:break;case 21:break;default:Er(o,i),br(i)}}function br(i){var o=i.flags;if(o&2){try{for(var c,x=i.return;x!==null;){if(H8(x)){c=x;break}x=x.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var y=c.stateNode,B=sp(i);Qu(i,B,y);break;case 5:var W=c.stateNode;c.flags&32&&($a(W,""),c.flags&=-33);var ee=sp(i);Qu(i,ee,W);break;case 3:case 4:var ie=c.stateNode.containerInfo,xe=sp(i);ap(i,xe,ie);break;default:throw Error(n(161))}}catch(Ee){It(i,i.return,Ee)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Q8(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;Q8(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function uo(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)K8(i,o.alternate,o),o=o.sibling}function Zs(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:es(4,o,o.return),Zs(o);break;case 1:Bi(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&z8(o,o.return,c),Zs(o);break;case 27:r0(o.stateNode);case 26:case 5:Bi(o,o.return),Zs(o);break;case 22:o.memoizedState===null&&Zs(o);break;case 30:Zs(o);break;default:Zs(o)}i=i.sibling}}function xo(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var x=o.alternate,y=i,B=o,W=B.flags;switch(B.tag){case 0:case 11:case 15:xo(y,B,c),Gc(4,B);break;case 1:if(xo(y,B,c),x=B,y=x.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(xe){It(x,x.return,xe)}if(x=B,y=x.updateQueue,y!==null){var ee=x.stateNode;try{var ie=y.shared.hiddenCallbacks;if(ie!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ie.length;y++)DE(ie[y],ee)}catch(xe){It(x,x.return,xe)}}c&&W&64&&P8(B),Yc(B,B.return);break;case 27:W8(B);case 26:case 5:xo(y,B,c),c&&x===null&&W&4&&U8(B),Yc(B,B.return);break;case 12:xo(y,B,c);break;case 31:xo(y,B,c),c&&W&4&&Y8(y,B);break;case 13:xo(y,B,c),c&&W&4&&$8(y,B);break;case 22:B.memoizedState===null&&xo(y,B,c),Yc(B,B.return);break;case 30:break;default:xo(y,B,c)}o=o.sibling}}function cp(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Ic(c))}function up(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ic(i))}function ui(i,o,c,x){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)X8(i,o,c,x),o=o.sibling}function X8(i,o,c,x){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ui(i,o,c,x),y&2048&&Gc(9,o);break;case 1:ui(i,o,c,x);break;case 3:ui(i,o,c,x),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ic(i)));break;case 12:if(y&2048){ui(i,o,c,x),i=o.stateNode;try{var B=o.memoizedProps,W=B.id,ee=B.onPostCommit;typeof ee=="function"&&ee(W,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ie){It(o,o.return,ie)}}else ui(i,o,c,x);break;case 31:ui(i,o,c,x);break;case 13:ui(i,o,c,x);break;case 23:break;case 22:B=o.stateNode,W=o.alternate,o.memoizedState!==null?B._visibility&2?ui(i,o,c,x):$c(i,o):B._visibility&2?ui(i,o,c,x):(B._visibility|=2,pl(i,o,c,x,(o.subtreeFlags&10256)!==0||!1)),y&2048&&cp(W,o);break;case 24:ui(i,o,c,x),y&2048&&up(o.alternate,o);break;default:ui(i,o,c,x)}}function pl(i,o,c,x,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var B=i,W=o,ee=c,ie=x,xe=W.flags;switch(W.tag){case 0:case 11:case 15:pl(B,W,ee,ie,y),Gc(8,W);break;case 23:break;case 22:var Ee=W.stateNode;W.memoizedState!==null?Ee._visibility&2?pl(B,W,ee,ie,y):$c(B,W):(Ee._visibility|=2,pl(B,W,ee,ie,y)),y&&xe&2048&&cp(W.alternate,W);break;case 24:pl(B,W,ee,ie,y),y&&xe&2048&&up(W.alternate,W);break;default:pl(B,W,ee,ie,y)}o=o.sibling}}function $c(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,x=o,y=x.flags;switch(x.tag){case 22:$c(c,x),y&2048&&cp(x.alternate,x);break;case 24:$c(c,x),y&2048&&up(x.alternate,x);break;default:$c(c,x)}o=o.sibling}}var Zc=8192;function gl(i,o,c){if(i.subtreeFlags&Zc)for(i=i.child;i!==null;)J8(i,o,c),i=i.sibling}function J8(i,o,c){switch(i.tag){case 26:gl(i,o,c),i.flags&Zc&&i.memoizedState!==null&&U3(c,ci,i.memoizedState,i.memoizedProps);break;case 5:gl(i,o,c);break;case 3:case 4:var x=ci;ci=xd(i.stateNode.containerInfo),gl(i,o,c),ci=x;break;case 22:i.memoizedState===null&&(x=i.alternate,x!==null&&x.memoizedState!==null?(x=Zc,Zc=16777216,gl(i,o,c),Zc=x):gl(i,o,c));break;default:gl(i,o,c)}}function e9(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Qc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var x=o[c];Kn=x,n9(x,i)}e9(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)t9(i),i=i.sibling}function t9(i){switch(i.tag){case 0:case 11:case 15:Qc(i),i.flags&2048&&es(9,i,i.return);break;case 3:Qc(i);break;case 12:Qc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Ju(i)):Qc(i);break;default:Qc(i)}}function Ju(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var x=o[c];Kn=x,n9(x,i)}e9(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:es(8,o,o.return),Ju(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Ju(o));break;default:Ju(o)}i=i.sibling}}function n9(i,o){for(;Kn!==null;){var c=Kn;switch(c.tag){case 0:case 11:case 15:es(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var x=c.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Ic(c.memoizedState.cache)}if(x=c.child,x!==null)x.return=c,Kn=x;else e:for(c=i;Kn!==null;){x=Kn;var y=x.sibling,B=x.return;if(V8(x),x===c){Kn=null;break e}if(y!==null){y.return=B,Kn=y;break e}Kn=B}}}var n3={getCacheForType:function(i){var o=Xn(In),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return Xn(In).controller.signal}},r3=typeof WeakMap=="function"?WeakMap:Map,Ft=0,qt=null,pt=null,yt=0,Nt=0,Mr=null,ts=!1,ml=!1,dp=!1,fo=0,Bn=0,ns=0,Qs=0,xp=0,Or=0,yl=0,Xc=null,wr=null,fp=!1,ed=0,r9=0,td=1/0,nd=null,rs=null,Hn=0,is=null,El=null,ho=0,hp=0,pp=null,i9=null,Jc=0,gp=null;function jr(){return(Ft&2)!==0&&yt!==0?yt&-yt:_.T!==null?Ap():pn()}function o9(){if(Or===0)if((yt&536870912)===0||Ct){var i=Zt;Zt<<=1,(Zt&3932160)===0&&(Zt=262144),Or=i}else Or=536870912;return i=Nr.current,i!==null&&(i.flags|=32),Or}function Ar(i,o,c){(i===qt&&(Nt===2||Nt===9)||i.cancelPendingCommit!==null)&&(bl(i,0),os(i,yt,Or,!1)),Uo(i,c),((Ft&2)===0||i!==qt)&&(i===qt&&((Ft&2)===0&&(Qs|=c),Bn===4&&os(i,yt,Or,!1)),Si(i))}function s9(i,o,c){if((Ft&6)!==0)throw Error(n(327));var x=!c&&(o&127)===0&&(o&i.expiredLanes)===0||Kt(i,o),y=x?s3(i,o):yp(i,o,!0),B=x;do{if(y===0){ml&&!x&&os(i,o,0,!1);break}else{if(c=i.current.alternate,B&&!i3(c)){y=yp(i,o,!1),B=!1;continue}if(y===2){if(B=o,i.errorRecoveryDisabledLanes&B)var W=0;else W=i.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){o=W;e:{var ee=i;y=Xc;var ie=ee.current.memoizedState.isDehydrated;if(ie&&(bl(ee,W).flags|=256),W=yp(ee,W,!1),W!==2){if(dp&&!ie){ee.errorRecoveryDisabledLanes|=B,Qs|=B,y=4;break e}B=wr,wr=y,B!==null&&(wr===null?wr=B:wr.push.apply(wr,B))}y=W}if(B=!1,y!==2)continue}}if(y===1){bl(i,0),os(i,o,0,!0);break}e:{switch(x=i,B=y,B){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:os(x,o,Or,!ts);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=ed+300-ft(),10<y)){if(os(x,o,Or,!ts),Xt(x,0,!0)!==0)break e;ho=o,x.timeoutHandle=j9(a9.bind(null,x,c,wr,nd,fp,o,Or,Qs,yl,ts,B,"Throttled",-0,0),y);break e}a9(x,c,wr,nd,fp,o,Or,Qs,yl,ts,B,null,-0,0)}}break}while(!0);Si(i)}function a9(i,o,c,x,y,B,W,ee,ie,xe,Ee,Ce,he,ye){if(i.timeoutHandle=-1,Ce=o.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xi},J8(o,B,Ce);var Pe=(B&62914560)===B?ed-ft():(B&4194048)===B?r9-ft():0;if(Pe=H3(Ce,Pe),Pe!==null){ho=B,i.cancelPendingCommit=Pe(p9.bind(null,i,o,B,c,x,y,W,ee,ie,Ee,Ce,null,he,ye)),os(i,B,W,!xe);return}}p9(i,o,B,c,x,y,W,ee,ie)}function i3(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var x=0;x<c.length;x++){var y=c[x],B=y.getSnapshot;y=y.value;try{if(!Fr(B(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function os(i,o,c,x){o&=~xp,o&=~Qs,i.suspendedLanes|=o,i.pingedLanes&=~o,x&&(i.warmLanes|=o),x=i.expirationTimes;for(var y=o;0<y;){var B=31-He(y),W=1<<B;x[B]=-1,y&=~W}c!==0&&fn(i,c,o)}function rd(){return(Ft&6)===0?(e0(0),!1):!0}function mp(){if(pt!==null){if(Nt===0)var i=pt.return;else i=pt,no=Hs=null,Nh(i),ul=null,Oc=0,i=pt;for(;i!==null;)L8(i.alternate,i),i=i.return;pt=null}}function bl(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,v3(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),ho=0,mp(),qt=i,pt=c=eo(i.current,null),yt=o,Nt=0,Mr=null,ts=!1,ml=Kt(i,o),dp=!1,yl=Or=xp=Qs=ns=Bn=0,wr=Xc=null,fp=!1,(o&8)!==0&&(o|=o&32);var x=i.entangledLanes;if(x!==0)for(i=i.entanglements,x&=o;0<x;){var y=31-He(x),B=1<<y;o|=i[y],x&=~B}return fo=o,vu(),c}function l9(i,o){it=null,_.H=qc,o===cl||o===Tu?(o=vE(),Nt=3):o===wh?(o=vE(),Nt=4):Nt=o===$h?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mr=o,pt===null&&(Bn=1,Vu(i,Yr(o,i.current)))}function c9(){var i=Nr.current;return i===null?!0:(yt&4194048)===yt?Xr===null:(yt&62914560)===yt||(yt&536870912)!==0?i===Xr:!1}function u9(){var i=_.H;return _.H=qc,i===null?qc:i}function d9(){var i=_.A;return _.A=n3,i}function id(){Bn=4,ts||(yt&4194048)!==yt&&Nr.current!==null||(ml=!0),(ns&134217727)===0&&(Qs&134217727)===0||qt===null||os(qt,yt,Or,!1)}function yp(i,o,c){var x=Ft;Ft|=2;var y=u9(),B=d9();(qt!==i||yt!==o)&&(nd=null,bl(i,o)),o=!1;var W=Bn;e:do try{if(Nt!==0&&pt!==null){var ee=pt,ie=Mr;switch(Nt){case 8:mp(),W=6;break e;case 3:case 2:case 9:case 6:Nr.current===null&&(o=!0);var xe=Nt;if(Nt=0,Mr=null,wl(i,ee,ie,xe),c&&ml){W=0;break e}break;default:xe=Nt,Nt=0,Mr=null,wl(i,ee,ie,xe)}}o3(),W=Bn;break}catch(Ee){l9(i,Ee)}while(!0);return o&&i.shellSuspendCounter++,no=Hs=null,Ft=x,_.H=y,_.A=B,pt===null&&(qt=null,yt=0,vu()),W}function o3(){for(;pt!==null;)x9(pt)}function s3(i,o){var c=Ft;Ft|=2;var x=u9(),y=d9();qt!==i||yt!==o?(nd=null,td=ft()+500,bl(i,o)):ml=Kt(i,o);e:do try{if(Nt!==0&&pt!==null){o=pt;var B=Mr;t:switch(Nt){case 1:Nt=0,Mr=null,wl(i,o,B,1);break;case 2:case 9:if(AE(B)){Nt=0,Mr=null,f9(o);break}o=function(){Nt!==2&&Nt!==9||qt!==i||(Nt=7),Si(i)},B.then(o,o);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:AE(B)?(Nt=0,Mr=null,f9(o)):(Nt=0,Mr=null,wl(i,o,B,7));break;case 5:var W=null;switch(pt.tag){case 26:W=pt.memoizedState;case 5:case 27:var ee=pt;if(W?X9(W):ee.stateNode.complete){Nt=0,Mr=null;var ie=ee.sibling;if(ie!==null)pt=ie;else{var xe=ee.return;xe!==null?(pt=xe,od(xe)):pt=null}break t}}Nt=0,Mr=null,wl(i,o,B,5);break;case 6:Nt=0,Mr=null,wl(i,o,B,6);break;case 8:mp(),Bn=6;break e;default:throw Error(n(462))}}a3();break}catch(Ee){l9(i,Ee)}while(!0);return no=Hs=null,_.H=x,_.A=y,Ft=c,pt!==null?0:(qt=null,yt=0,vu(),Bn)}function a3(){for(;pt!==null&&!Nn();)x9(pt)}function x9(i){var o=O8(i.alternate,i,fo);i.memoizedProps=i.pendingProps,o===null?od(i):pt=o}function f9(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=k8(c,o,o.pendingProps,o.type,void 0,yt);break;case 11:o=k8(c,o,o.pendingProps,o.type.render,o.ref,yt);break;case 5:Nh(o);default:L8(c,o),o=pt=dE(o,fo),o=O8(c,o,fo)}i.memoizedProps=i.pendingProps,o===null?od(i):pt=o}function wl(i,o,c,x){no=Hs=null,Nh(o),ul=null,Oc=0;var y=o.return;try{if($B(i,y,o,c,yt)){Bn=1,Vu(i,Yr(c,i.current)),pt=null;return}}catch(B){if(y!==null)throw pt=y,B;Bn=1,Vu(i,Yr(c,i.current)),pt=null;return}o.flags&32768?(Ct||x===1?i=!0:ml||(yt&536870912)!==0?i=!1:(ts=i=!0,(x===2||x===9||x===3||x===6)&&(x=Nr.current,x!==null&&x.tag===13&&(x.flags|=16384))),h9(o,i)):od(o)}function od(i){var o=i;do{if((o.flags&32768)!==0){h9(o,ts);return}i=o.return;var c=XB(o.alternate,o,fo);if(c!==null){pt=c;return}if(o=o.sibling,o!==null){pt=o;return}pt=o=i}while(o!==null);Bn===0&&(Bn=5)}function h9(i,o){do{var c=JB(i.alternate,i);if(c!==null){c.flags&=32767,pt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){pt=i;return}pt=i=c}while(i!==null);Bn=6,pt=null}function p9(i,o,c,x,y,B,W,ee,ie){i.cancelPendingCommit=null;do sd();while(Hn!==0);if((Ft&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(B=o.lanes|o.childLanes,B|=sh,wn(i,c,B,W,ee,ie),i===qt&&(pt=qt=null,yt=0),El=o,is=i,ho=c,hp=B,pp=y,i9=x,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,d3(I,function(){return b9(),null})):(i.callbackNode=null,i.callbackPriority=0),x=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||x){x=_.T,_.T=null,y=O.p,O.p=2,W=Ft,Ft|=4;try{e3(i,o,c)}finally{Ft=W,O.p=y,_.T=x}}Hn=1,g9(),m9(),y9()}}function g9(){if(Hn===1){Hn=0;var i=is,o=El,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=_.T,_.T=null;var x=O.p;O.p=2;var y=Ft;Ft|=4;try{Z8(o,i);var B=kp,W=nE(i.containerInfo),ee=B.focusedElem,ie=B.selectionRange;if(W!==ee&&ee&&ee.ownerDocument&&tE(ee.ownerDocument.documentElement,ee)){if(ie!==null&&th(ee)){var xe=ie.start,Ee=ie.end;if(Ee===void 0&&(Ee=xe),"selectionStart"in ee)ee.selectionStart=xe,ee.selectionEnd=Math.min(Ee,ee.value.length);else{var Ce=ee.ownerDocument||document,he=Ce&&Ce.defaultView||window;if(he.getSelection){var ye=he.getSelection(),Pe=ee.textContent.length,Qe=Math.min(ie.start,Pe),zt=ie.end===void 0?Qe:Math.min(ie.end,Pe);!ye.extend&&Qe>zt&&(W=zt,zt=Qe,Qe=W);var ce=eE(ee,Qe),ae=eE(ee,zt);if(ce&&ae&&(ye.rangeCount!==1||ye.anchorNode!==ce.node||ye.anchorOffset!==ce.offset||ye.focusNode!==ae.node||ye.focusOffset!==ae.offset)){var de=Ce.createRange();de.setStart(ce.node,ce.offset),ye.removeAllRanges(),Qe>zt?(ye.addRange(de),ye.extend(ae.node,ae.offset)):(de.setEnd(ae.node,ae.offset),ye.addRange(de))}}}}for(Ce=[],ye=ee;ye=ye.parentNode;)ye.nodeType===1&&Ce.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<Ce.length;ee++){var Ae=Ce[ee];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}yd=!!Rp,kp=Rp=null}finally{Ft=y,O.p=x,_.T=c}}i.current=o,Hn=2}}function m9(){if(Hn===2){Hn=0;var i=is,o=El,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=_.T,_.T=null;var x=O.p;O.p=2;var y=Ft;Ft|=4;try{K8(i,o.alternate,o)}finally{Ft=y,O.p=x,_.T=c}}Hn=3}}function y9(){if(Hn===4||Hn===3){Hn=0,jt();var i=is,o=El,c=ho,x=i9;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Hn=5:(Hn=0,El=is=null,E9(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(rs=null),Ha(c),o=o.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(ge,o,void 0,(o.current.flags&128)===128)}catch{}if(x!==null){o=_.T,y=O.p,O.p=2,_.T=null;try{for(var B=i.onRecoverableError,W=0;W<x.length;W++){var ee=x[W];B(ee.value,{componentStack:ee.stack})}}finally{_.T=o,O.p=y}}(ho&3)!==0&&sd(),Si(i),y=i.pendingLanes,(c&261930)!==0&&(y&42)!==0?i===gp?Jc++:(Jc=0,gp=i):Jc=0,e0(0)}}function E9(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Ic(o)))}function sd(){return g9(),m9(),y9(),b9()}function b9(){if(Hn!==5)return!1;var i=is,o=hp;hp=0;var c=Ha(ho),x=_.T,y=O.p;try{O.p=32>c?32:c,_.T=null,c=pp,pp=null;var B=is,W=ho;if(Hn=0,El=is=null,ho=0,(Ft&6)!==0)throw Error(n(331));var ee=Ft;if(Ft|=4,t9(B.current),X8(B,B.current,W,c),Ft=ee,e0(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(ge,B)}catch{}return!0}finally{O.p=y,_.T=x,E9(i,o)}}function w9(i,o,c){o=Yr(c,o),o=Yh(i.stateNode,o,2),i=Qo(i,o,2),i!==null&&(Uo(i,2),Si(i))}function It(i,o,c){if(i.tag===3)w9(i,i,c);else for(;o!==null;){if(o.tag===3){w9(o,i,c);break}else if(o.tag===1){var x=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(rs===null||!rs.has(x))){i=Yr(c,i),c=A8(2),x=Qo(o,c,2),x!==null&&(C8(c,x,o,i),Uo(x,2),Si(x));break}}o=o.return}}function Ep(i,o,c){var x=i.pingCache;if(x===null){x=i.pingCache=new r3;var y=new Set;x.set(o,y)}else y=x.get(o),y===void 0&&(y=new Set,x.set(o,y));y.has(c)||(dp=!0,y.add(c),i=l3.bind(null,i,o,c),o.then(i,i))}function l3(i,o,c){var x=i.pingCache;x!==null&&x.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,qt===i&&(yt&c)===c&&(Bn===4||Bn===3&&(yt&62914560)===yt&&300>ft()-ed?(Ft&2)===0&&bl(i,0):xp|=c,yl===yt&&(yl=0)),Si(i)}function A9(i,o){o===0&&(o=xn()),i=Ps(i,o),i!==null&&(Uo(i,o),Si(i))}function c3(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),A9(i,c)}function u3(i,o){var c=0;switch(i.tag){case 31:case 13:var x=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:x=i.stateNode;break;case 22:x=i.stateNode._retryCache;break;default:throw Error(n(314))}x!==null&&x.delete(o),A9(i,c)}function d3(i,o){return wt(i,o)}var ad=null,Al=null,bp=!1,ld=!1,wp=!1,ss=0;function Si(i){i!==Al&&i.next===null&&(Al===null?ad=Al=i:Al=Al.next=i),ld=!0,bp||(bp=!0,f3())}function e0(i,o){if(!wp&&ld){wp=!0;do for(var c=!1,x=ad;x!==null;){if(i!==0){var y=x.pendingLanes;if(y===0)var B=0;else{var W=x.suspendedLanes,ee=x.pingedLanes;B=(1<<31-He(42|i)+1)-1,B&=y&~(W&~ee),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(c=!0,S9(x,B))}else B=yt,B=Xt(x,x===qt?B:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(B&3)===0||Kt(x,B)||(c=!0,S9(x,B));x=x.next}while(c);wp=!1}}function x3(){C9()}function C9(){ld=bp=!1;var i=0;ss!==0&&C3()&&(i=ss);for(var o=ft(),c=null,x=ad;x!==null;){var y=x.next,B=v9(x,o);B===0?(x.next=null,c===null?ad=y:c.next=y,y===null&&(Al=c)):(c=x,(i!==0||(B&3)!==0)&&(ld=!0)),x=y}Hn!==0&&Hn!==5||e0(i),ss!==0&&(ss=0)}function v9(i,o){for(var c=i.suspendedLanes,x=i.pingedLanes,y=i.expirationTimes,B=i.pendingLanes&-62914561;0<B;){var W=31-He(B),ee=1<<W,ie=y[W];ie===-1?((ee&c)===0||(ee&x)!==0)&&(y[W]=hu(ee,o)):ie<=o&&(i.expiredLanes|=ee),B&=~ee}if(o=qt,c=yt,c=Xt(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x=i.callbackNode,c===0||i===o&&(Nt===2||Nt===9)||i.cancelPendingCommit!==null)return x!==null&&x!==null&&nt(x),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Kt(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(x!==null&&nt(x),Ha(c)){case 2:case 8:c=Y;break;case 32:c=I;break;case 268435456:c=te;break;default:c=I}return x=B9.bind(null,i),c=wt(c,x),i.callbackPriority=o,i.callbackNode=c,o}return x!==null&&x!==null&&nt(x),i.callbackPriority=2,i.callbackNode=null,2}function B9(i,o){if(Hn!==0&&Hn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(sd()&&i.callbackNode!==c)return null;var x=yt;return x=Xt(i,i===qt?x:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x===0?null:(s9(i,x,o),v9(i,ft()),i.callbackNode!=null&&i.callbackNode===c?B9.bind(null,i):null)}function S9(i,o){if(sd())return null;s9(i,o,!0)}function f3(){B3(function(){(Ft&6)!==0?wt(Ht,x3):C9()})}function Ap(){if(ss===0){var i=al;i===0&&(i=Is,Is<<=1,(Is&261888)===0&&(Is=256)),ss=i}return ss}function _9(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:gu(""+i)}function D9(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function h3(i,o,c,x,y){if(o==="submit"&&c&&c.stateNode===y){var B=_9((y[At]||null).action),W=x.submitter;W&&(o=(o=W[At]||null)?_9(o.formAction):W.getAttribute("formAction"),o!==null&&(B=o,W=null));var ee=new bu("action","action",null,x,y);i.push({event:ee,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(ss!==0){var ie=W?D9(y,W):new FormData(y);Hh(c,{pending:!0,data:ie,method:y.method,action:B},null,ie)}}else typeof B=="function"&&(ee.preventDefault(),ie=W?D9(y,W):new FormData(y),Hh(c,{pending:!0,data:ie,method:y.method,action:B},B,ie))},currentTarget:y}]})}}for(var Cp=0;Cp<oh.length;Cp++){var vp=oh[Cp],p3=vp.toLowerCase(),g3=vp[0].toUpperCase()+vp.slice(1);li(p3,"on"+g3)}li(oE,"onAnimationEnd"),li(sE,"onAnimationIteration"),li(aE,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(TB,"onTransitionRun"),li(NB,"onTransitionStart"),li(IB,"onTransitionCancel"),li(lE,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var t0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(t0));function R9(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var x=i[c],y=x.event;x=x.listeners;e:{var B=void 0;if(o)for(var W=x.length-1;0<=W;W--){var ee=x[W],ie=ee.instance,xe=ee.currentTarget;if(ee=ee.listener,ie!==B&&y.isPropagationStopped())break e;B=ee,y.currentTarget=xe;try{B(y)}catch(Ee){Cu(Ee)}y.currentTarget=null,B=ie}else for(W=0;W<x.length;W++){if(ee=x[W],ie=ee.instance,xe=ee.currentTarget,ee=ee.listener,ie!==B&&y.isPropagationStopped())break e;B=ee,y.currentTarget=xe;try{B(y)}catch(Ee){Cu(Ee)}y.currentTarget=null,B=ie}}}}function gt(i,o){var c=o[on];c===void 0&&(c=o[on]=new Set);var x=i+"__bubble";c.has(x)||(k9(o,i,2,!1),c.add(x))}function Bp(i,o,c){var x=0;o&&(x|=4),k9(c,i,x,o)}var cd="_reactListening"+Math.random().toString(36).slice(2);function Sp(i){if(!i[cd]){i[cd]=!0,qa.forEach(function(c){c!=="selectionchange"&&(m3.has(c)||Bp(c,!1,i),Bp(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[cd]||(o[cd]=!0,Bp("selectionchange",!1,o))}}function k9(i,o,c,x){switch(ob(o)){case 2:var y=K3;break;case 8:y=V3;break;default:y=Up}c=y.bind(null,o,c,i),y=void 0,!Vf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),x?y!==void 0?i.addEventListener(o,c,{capture:!0,passive:y}):i.addEventListener(o,c,!0):y!==void 0?i.addEventListener(o,c,{passive:y}):i.addEventListener(o,c,!1)}function _p(i,o,c,x,y){var B=x;if((o&1)===0&&(o&2)===0&&x!==null)e:for(;;){if(x===null)return;var W=x.tag;if(W===3||W===4){var ee=x.stateNode.containerInfo;if(ee===y)break;if(W===4)for(W=x.return;W!==null;){var ie=W.tag;if((ie===3||ie===4)&&W.stateNode.containerInfo===y)return;W=W.return}for(;ee!==null;){if(W=Ei(ee),W===null)return;if(ie=W.tag,ie===5||ie===6||ie===26||ie===27){x=B=W;continue e}ee=ee.parentNode}}x=x.return}My(function(){var xe=B,Ee=qf(c),Ce=[];e:{var he=cE.get(i);if(he!==void 0){var ye=bu,Pe=i;switch(i){case"keypress":if(yu(c)===0)break e;case"keydown":case"keyup":ye=uB;break;case"focusin":Pe="focus",ye=Zf;break;case"focusout":Pe="blur",ye=Zf;break;case"beforeblur":case"afterblur":ye=Zf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=X4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=fB;break;case oE:case sE:case aE:ye=tB;break;case lE:ye=pB;break;case"scroll":case"scrollend":ye=Z4;break;case"wheel":ye=mB;break;case"copy":case"cut":case"paste":ye=rB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=zy;break;case"toggle":case"beforetoggle":ye=EB}var Qe=(o&4)!==0,zt=!Qe&&(i==="scroll"||i==="scrollend"),ce=Qe?he!==null?he+"Capture":null:he;Qe=[];for(var ae=xe,de;ae!==null;){var Ae=ae;if(de=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||de===null||ce===null||(Ae=Cc(ae,ce),Ae!=null&&Qe.push(n0(ae,Ae,de))),zt)break;ae=ae.return}0<Qe.length&&(he=new ye(he,Pe,null,c,Ee),Ce.push({event:he,listeners:Qe}))}}if((o&7)===0){e:{if(he=i==="mouseover"||i==="pointerover",ye=i==="mouseout"||i==="pointerout",he&&c!==Wf&&(Pe=c.relatedTarget||c.fromElement)&&(Ei(Pe)||Pe[Yi]))break e;if((ye||he)&&(he=Ee.window===Ee?Ee:(he=Ee.ownerDocument)?he.defaultView||he.parentWindow:window,ye?(Pe=c.relatedTarget||c.toElement,ye=xe,Pe=Pe?Ei(Pe):null,Pe!==null&&(zt=a(Pe),Qe=Pe.tag,Pe!==zt||Qe!==5&&Qe!==27&&Qe!==6)&&(Pe=null)):(ye=null,Pe=xe),ye!==Pe)){if(Qe=Ly,Ae="onMouseLeave",ce="onMouseEnter",ae="mouse",(i==="pointerout"||i==="pointerover")&&(Qe=zy,Ae="onPointerLeave",ce="onPointerEnter",ae="pointer"),zt=ye==null?he:Zi(ye),de=Pe==null?he:Zi(Pe),he=new Qe(Ae,ae+"leave",ye,c,Ee),he.target=zt,he.relatedTarget=de,Ae=null,Ei(Ee)===xe&&(Qe=new Qe(ce,ae+"enter",Pe,c,Ee),Qe.target=de,Qe.relatedTarget=zt,Ae=Qe),zt=Ae,ye&&Pe)t:{for(Qe=y3,ce=ye,ae=Pe,de=0,Ae=ce;Ae;Ae=Qe(Ae))de++;Ae=0;for(var Ke=ae;Ke;Ke=Qe(Ke))Ae++;for(;0<de-Ae;)ce=Qe(ce),de--;for(;0<Ae-de;)ae=Qe(ae),Ae--;for(;de--;){if(ce===ae||ae!==null&&ce===ae.alternate){Qe=ce;break t}ce=Qe(ce),ae=Qe(ae)}Qe=null}else Qe=null;ye!==null&&F9(Ce,he,ye,Qe,!1),Pe!==null&&zt!==null&&F9(Ce,zt,Pe,Qe,!0)}}e:{if(he=xe?Zi(xe):window,ye=he.nodeName&&he.nodeName.toLowerCase(),ye==="select"||ye==="input"&&he.type==="file")var _t=Yy;else if(Vy(he))if($y)_t=RB;else{_t=_B;var ze=SB}else ye=he.nodeName,!ye||ye.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?xe&&Hf(xe.elementType)&&(_t=Yy):_t=DB;if(_t&&(_t=_t(i,xe))){Gy(Ce,_t,c,Ee);break e}ze&&ze(i,he,xe),i==="focusout"&&xe&&he.type==="number"&&xe.memoizedProps.value!=null&&Uf(he,"number",he.value)}switch(ze=xe?Zi(xe):window,i){case"focusin":(Vy(ze)||ze.contentEditable==="true")&&(Ja=ze,nh=xe,Fc=null);break;case"focusout":Fc=nh=Ja=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,rE(Ce,c,Ee);break;case"selectionchange":if(FB)break;case"keydown":case"keyup":rE(Ce,c,Ee)}var st;if(Xf)e:{switch(i){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Xa?qy(i,c)&&(Et="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Et="onCompositionStart");Et&&(Uy&&c.locale!=="ko"&&(Xa||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Xa&&(st=Oy()):(qo=Ee,Gf="value"in qo?qo.value:qo.textContent,Xa=!0)),ze=ud(xe,Et),0<ze.length&&(Et=new Py(Et,i,null,c,Ee),Ce.push({event:Et,listeners:ze}),st?Et.data=st:(st=Ky(c),st!==null&&(Et.data=st)))),(st=wB?AB(i,c):CB(i,c))&&(Et=ud(xe,"onBeforeInput"),0<Et.length&&(ze=new Py("onBeforeInput","beforeinput",null,c,Ee),Ce.push({event:ze,listeners:Et}),ze.data=st)),h3(Ce,i,xe,c,Ee)}R9(Ce,o)})}function n0(i,o,c){return{instance:i,listener:o,currentTarget:c}}function ud(i,o){for(var c=o+"Capture",x=[];i!==null;){var y=i,B=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||B===null||(y=Cc(i,c),y!=null&&x.unshift(n0(i,y,B)),y=Cc(i,o),y!=null&&x.push(n0(i,y,B))),i.tag===3)return x;i=i.return}return[]}function y3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function F9(i,o,c,x,y){for(var B=o._reactName,W=[];c!==null&&c!==x;){var ee=c,ie=ee.alternate,xe=ee.stateNode;if(ee=ee.tag,ie!==null&&ie===x)break;ee!==5&&ee!==26&&ee!==27||xe===null||(ie=xe,y?(xe=Cc(c,B),xe!=null&&W.unshift(n0(c,xe,ie))):y||(xe=Cc(c,B),xe!=null&&W.push(n0(c,xe,ie)))),c=c.return}W.length!==0&&i.push({event:o,listeners:W})}var E3=/\r\n?/g,b3=/\u0000|\uFFFD/g;function T9(i){return(typeof i=="string"?i:""+i).replace(E3,`
`).replace(b3,"")}function N9(i,o){return o=T9(o),T9(i)===o}function Pt(i,o,c,x,y,B){switch(c){case"children":typeof x=="string"?o==="body"||o==="textarea"&&x===""||$a(i,x):(typeof x=="number"||typeof x=="bigint")&&o!=="body"&&$a(i,""+x);break;case"className":Wo(i,"class",x);break;case"tabIndex":Wo(i,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Wo(i,c,x);break;case"style":Ny(i,x,B);break;case"data":if(o!=="object"){Wo(i,"data",x);break}case"src":case"href":if(x===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(c);break}x=gu(""+x),i.setAttribute(c,x);break;case"action":case"formAction":if(typeof x=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(c==="formAction"?(o!=="input"&&Pt(i,o,"name",y.name,y,null),Pt(i,o,"formEncType",y.formEncType,y,null),Pt(i,o,"formMethod",y.formMethod,y,null),Pt(i,o,"formTarget",y.formTarget,y,null)):(Pt(i,o,"encType",y.encType,y,null),Pt(i,o,"method",y.method,y,null),Pt(i,o,"target",y.target,y,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(c);break}x=gu(""+x),i.setAttribute(c,x);break;case"onClick":x!=null&&(i.onclick=Xi);break;case"onScroll":x!=null&&gt("scroll",i);break;case"onScrollEnd":x!=null&&gt("scrollend",i);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(c=x.__html,c!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":i.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){i.removeAttribute("xlink:href");break}c=gu(""+x),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(c,""+x):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":x===!0?i.setAttribute(c,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(c,x):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?i.setAttribute(c,x):i.removeAttribute(c);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?i.removeAttribute(c):i.setAttribute(c,x);break;case"popover":gt("beforetoggle",i),gt("toggle",i),Ho(i,"popover",x);break;case"xlinkActuate":Qi(i,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Qi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Qi(i,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Qi(i,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Qi(i,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Qi(i,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Qi(i,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Qi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Qi(i,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Ho(i,"is",x);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Y4.get(c)||c,Ho(i,c,x))}}function Dp(i,o,c,x,y,B){switch(c){case"style":Ny(i,x,B);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(c=x.__html,c!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof x=="string"?$a(i,x):(typeof x=="number"||typeof x=="bigint")&&$a(i,""+x);break;case"onScroll":x!=null&&gt("scroll",i);break;case"onScrollEnd":x!=null&&gt("scrollend",i);break;case"onClick":x!=null&&(i.onclick=Xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ka.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),B=i[At]||null,B=B!=null?B[c]:null,typeof B=="function"&&i.removeEventListener(o,B,y),typeof x=="function")){typeof B!="function"&&B!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,x,y);break e}c in i?i[c]=x:x===!0?i.setAttribute(c,""):Ho(i,c,x)}}}function er(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",i),gt("load",i);var x=!1,y=!1,B;for(B in c)if(c.hasOwnProperty(B)){var W=c[B];if(W!=null)switch(B){case"src":x=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Pt(i,o,B,W,c,null)}}y&&Pt(i,o,"srcSet",c.srcSet,c,null),x&&Pt(i,o,"src",c.src,c,null);return;case"input":gt("invalid",i);var ee=B=W=y=null,ie=null,xe=null;for(x in c)if(c.hasOwnProperty(x)){var Ee=c[x];if(Ee!=null)switch(x){case"name":y=Ee;break;case"type":W=Ee;break;case"checked":ie=Ee;break;case"defaultChecked":xe=Ee;break;case"value":B=Ee;break;case"defaultValue":ee=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(137,o));break;default:Pt(i,o,x,Ee,c,null)}}Ry(i,B,ee,ie,xe,W,y,!1);return;case"select":gt("invalid",i),x=W=B=null;for(y in c)if(c.hasOwnProperty(y)&&(ee=c[y],ee!=null))switch(y){case"value":B=ee;break;case"defaultValue":W=ee;break;case"multiple":x=ee;default:Pt(i,o,y,ee,c,null)}o=B,c=W,i.multiple=!!x,o!=null?Ya(i,!!x,o,!1):c!=null&&Ya(i,!!x,c,!0);return;case"textarea":gt("invalid",i),B=y=x=null;for(W in c)if(c.hasOwnProperty(W)&&(ee=c[W],ee!=null))switch(W){case"value":x=ee;break;case"defaultValue":y=ee;break;case"children":B=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(91));break;default:Pt(i,o,W,ee,c,null)}Fy(i,x,y,B);return;case"option":for(ie in c)c.hasOwnProperty(ie)&&(x=c[ie],x!=null)&&(ie==="selected"?i.selected=x&&typeof x!="function"&&typeof x!="symbol":Pt(i,o,ie,x,c,null));return;case"dialog":gt("beforetoggle",i),gt("toggle",i),gt("cancel",i),gt("close",i);break;case"iframe":case"object":gt("load",i);break;case"video":case"audio":for(x=0;x<t0.length;x++)gt(t0[x],i);break;case"image":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"embed":case"source":case"link":gt("error",i),gt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in c)if(c.hasOwnProperty(xe)&&(x=c[xe],x!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Pt(i,o,xe,x,c,null)}return;default:if(Hf(o)){for(Ee in c)c.hasOwnProperty(Ee)&&(x=c[Ee],x!==void 0&&Dp(i,o,Ee,x,c,void 0));return}}for(ee in c)c.hasOwnProperty(ee)&&(x=c[ee],x!=null&&Pt(i,o,ee,x,c,null))}function w3(i,o,c,x){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,B=null,W=null,ee=null,ie=null,xe=null,Ee=null;for(ye in c){var Ce=c[ye];if(c.hasOwnProperty(ye)&&Ce!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":ie=Ce;default:x.hasOwnProperty(ye)||Pt(i,o,ye,null,x,Ce)}}for(var he in x){var ye=x[he];if(Ce=c[he],x.hasOwnProperty(he)&&(ye!=null||Ce!=null))switch(he){case"type":B=ye;break;case"name":y=ye;break;case"checked":xe=ye;break;case"defaultChecked":Ee=ye;break;case"value":W=ye;break;case"defaultValue":ee=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,o));break;default:ye!==Ce&&Pt(i,o,he,ye,x,Ce)}}zf(i,W,ee,ie,xe,Ee,B,y);return;case"select":ye=W=ee=he=null;for(B in c)if(ie=c[B],c.hasOwnProperty(B)&&ie!=null)switch(B){case"value":break;case"multiple":ye=ie;default:x.hasOwnProperty(B)||Pt(i,o,B,null,x,ie)}for(y in x)if(B=x[y],ie=c[y],x.hasOwnProperty(y)&&(B!=null||ie!=null))switch(y){case"value":he=B;break;case"defaultValue":ee=B;break;case"multiple":W=B;default:B!==ie&&Pt(i,o,y,B,x,ie)}o=ee,c=W,x=ye,he!=null?Ya(i,!!c,he,!1):!!x!=!!c&&(o!=null?Ya(i,!!c,o,!0):Ya(i,!!c,c?[]:"",!1));return;case"textarea":ye=he=null;for(ee in c)if(y=c[ee],c.hasOwnProperty(ee)&&y!=null&&!x.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:Pt(i,o,ee,null,x,y)}for(W in x)if(y=x[W],B=c[W],x.hasOwnProperty(W)&&(y!=null||B!=null))switch(W){case"value":he=y;break;case"defaultValue":ye=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==B&&Pt(i,o,W,y,x,B)}ky(i,he,ye);return;case"option":for(var Pe in c)he=c[Pe],c.hasOwnProperty(Pe)&&he!=null&&!x.hasOwnProperty(Pe)&&(Pe==="selected"?i.selected=!1:Pt(i,o,Pe,null,x,he));for(ie in x)he=x[ie],ye=c[ie],x.hasOwnProperty(ie)&&he!==ye&&(he!=null||ye!=null)&&(ie==="selected"?i.selected=he&&typeof he!="function"&&typeof he!="symbol":Pt(i,o,ie,he,x,ye));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in c)he=c[Qe],c.hasOwnProperty(Qe)&&he!=null&&!x.hasOwnProperty(Qe)&&Pt(i,o,Qe,null,x,he);for(xe in x)if(he=x[xe],ye=c[xe],x.hasOwnProperty(xe)&&he!==ye&&(he!=null||ye!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,o));break;default:Pt(i,o,xe,he,x,ye)}return;default:if(Hf(o)){for(var zt in c)he=c[zt],c.hasOwnProperty(zt)&&he!==void 0&&!x.hasOwnProperty(zt)&&Dp(i,o,zt,void 0,x,he);for(Ee in x)he=x[Ee],ye=c[Ee],!x.hasOwnProperty(Ee)||he===ye||he===void 0&&ye===void 0||Dp(i,o,Ee,he,x,ye);return}}for(var ce in c)he=c[ce],c.hasOwnProperty(ce)&&he!=null&&!x.hasOwnProperty(ce)&&Pt(i,o,ce,null,x,he);for(Ce in x)he=x[Ce],ye=c[Ce],!x.hasOwnProperty(Ce)||he===ye||he==null&&ye==null||Pt(i,o,Ce,he,x,ye)}function I9(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),x=0;x<c.length;x++){var y=c[x],B=y.transferSize,W=y.initiatorType,ee=y.duration;if(B&&ee&&I9(W)){for(W=0,ee=y.responseEnd,x+=1;x<c.length;x++){var ie=c[x],xe=ie.startTime;if(xe>ee)break;var Ee=ie.transferSize,Ce=ie.initiatorType;Ee&&I9(Ce)&&(ie=ie.responseEnd,W+=Ee*(ie<ee?1:(ee-xe)/(ie-xe)))}if(--x,o+=8*(B+W)/(y.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Rp=null,kp=null;function dd(i){return i.nodeType===9?i:i.ownerDocument}function M9(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O9(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Fp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Tp=null;function C3(){var i=window.event;return i&&i.type==="popstate"?i===Tp?!1:(Tp=i,!0):(Tp=null,!1)}var j9=typeof setTimeout=="function"?setTimeout:void 0,v3=typeof clearTimeout=="function"?clearTimeout:void 0,L9=typeof Promise=="function"?Promise:void 0,B3=typeof queueMicrotask=="function"?queueMicrotask:typeof L9<"u"?function(i){return L9.resolve(null).then(i).catch(S3)}:j9;function S3(i){setTimeout(function(){throw i})}function as(i){return i==="head"}function P9(i,o){var c=o,x=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(x===0){i.removeChild(y),Sl(o);return}x--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")x++;else if(c==="html")r0(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,r0(c);for(var B=c.firstChild;B;){var W=B.nextSibling,ee=B.nodeName;B[$i]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&B.rel.toLowerCase()==="stylesheet"||c.removeChild(B),B=W}}else c==="body"&&r0(i.ownerDocument.body);c=y}while(c);Sl(o)}function z9(i,o){var c=i;i=0;do{var x=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=x}while(c)}function Np(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Np(c),Ms(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function _3(i,o,c,x){for(;i.nodeType===1;){var y=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!x&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(x){if(!i[$i])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(B=i.getAttribute("rel"),B==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(B!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(B=i.getAttribute("src"),(B!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&B&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var B=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===B)return i}else return i;if(i=Jr(i.nextSibling),i===null)break}return null}function D3(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Jr(i.nextSibling),i===null))return null;return i}function U9(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jr(i.nextSibling),i===null))return null;return i}function Ip(i){return i.data==="$?"||i.data==="$~"}function Mp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function R3(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var x=function(){o(),c.removeEventListener("DOMContentLoaded",x)};c.addEventListener("DOMContentLoaded",x),i._reactRetry=x}}function Jr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Op=null;function H9(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return Jr(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function W9(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function q9(i,o,c){switch(o=dd(c),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function r0(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ms(i)}var ei=new Map,K9=new Set;function xd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var po=O.d;O.d={f:k3,r:F3,D:T3,C:N3,L:I3,m:M3,X:j3,S:O3,M:L3};function k3(){var i=po.f(),o=rd();return i||o}function F3(i){var o=bi(i);o!==null&&o.tag===5&&o.type==="form"?l8(o):po.r(i)}var Cl=typeof document>"u"?null:document;function V9(i,o,c){var x=Cl;if(x&&typeof o=="string"&&o){var y=Vr(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),K9.has(y)||(K9.add(y),i={rel:i,crossOrigin:c,href:o},x.querySelector(y)===null&&(o=x.createElement("link"),er(o,"link",i),Cn(o),x.head.appendChild(o)))}}function T3(i){po.D(i),V9("dns-prefetch",i,null)}function N3(i,o){po.C(i,o),V9("preconnect",i,o)}function I3(i,o,c){po.L(i,o,c);var x=Cl;if(x&&i&&o){var y='link[rel="preload"][as="'+Vr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Vr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Vr(c.imageSizes)+'"]')):y+='[href="'+Vr(i)+'"]';var B=y;switch(o){case"style":B=vl(i);break;case"script":B=Bl(i)}ei.has(B)||(i=E({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),ei.set(B,i),x.querySelector(y)!==null||o==="style"&&x.querySelector(i0(B))||o==="script"&&x.querySelector(o0(B))||(o=x.createElement("link"),er(o,"link",i),Cn(o),x.head.appendChild(o)))}}function M3(i,o){po.m(i,o);var c=Cl;if(c&&i){var x=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Vr(x)+'"][href="'+Vr(i)+'"]',B=y;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=Bl(i)}if(!ei.has(B)&&(i=E({rel:"modulepreload",href:i},o),ei.set(B,i),c.querySelector(y)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(o0(B)))return}x=c.createElement("link"),er(x,"link",i),Cn(x),c.head.appendChild(x)}}}function O3(i,o,c){po.S(i,o,c);var x=Cl;if(x&&i){var y=wi(x).hoistableStyles,B=vl(i);o=o||"default";var W=y.get(B);if(!W){var ee={loading:0,preload:null};if(W=x.querySelector(i0(B)))ee.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":o},c),(c=ei.get(B))&&jp(i,c);var ie=W=x.createElement("link");Cn(ie),er(ie,"link",i),ie._p=new Promise(function(xe,Ee){ie.onload=xe,ie.onerror=Ee}),ie.addEventListener("load",function(){ee.loading|=1}),ie.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,fd(W,o,x)}W={type:"stylesheet",instance:W,count:1,state:ee},y.set(B,W)}}}function j3(i,o){po.X(i,o);var c=Cl;if(c&&i){var x=wi(c).hoistableScripts,y=Bl(i),B=x.get(y);B||(B=c.querySelector(o0(y)),B||(i=E({src:i,async:!0},o),(o=ei.get(y))&&Lp(i,o),B=c.createElement("script"),Cn(B),er(B,"link",i),c.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},x.set(y,B))}}function L3(i,o){po.M(i,o);var c=Cl;if(c&&i){var x=wi(c).hoistableScripts,y=Bl(i),B=x.get(y);B||(B=c.querySelector(o0(y)),B||(i=E({src:i,async:!0,type:"module"},o),(o=ei.get(y))&&Lp(i,o),B=c.createElement("script"),Cn(B),er(B,"link",i),c.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},x.set(y,B))}}function G9(i,o,c,x){var y=(y=ne.current)?xd(y):null;if(!y)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=vl(c.href),c=wi(y).hoistableStyles,x=c.get(o),x||(x={type:"style",instance:null,count:0,state:null},c.set(o,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=vl(c.href);var B=wi(y).hoistableStyles,W=B.get(i);if(W||(y=y.ownerDocument||y,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(i,W),(B=y.querySelector(i0(i)))&&!B._p&&(W.instance=B,W.state.loading=5),ei.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ei.set(i,c),B||P3(y,i,c,W.state))),o&&x===null)throw Error(n(528,""));return W}if(o&&x!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Bl(c),c=wi(y).hoistableScripts,x=c.get(o),x||(x={type:"script",instance:null,count:0,state:null},c.set(o,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function vl(i){return'href="'+Vr(i)+'"'}function i0(i){return'link[rel="stylesheet"]['+i+"]"}function Y9(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function P3(i,o,c,x){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?x.loading=1:(o=i.createElement("link"),x.preload=o,o.addEventListener("load",function(){return x.loading|=1}),o.addEventListener("error",function(){return x.loading|=2}),er(o,"link",c),Cn(o),i.head.appendChild(o))}function Bl(i){return'[src="'+Vr(i)+'"]'}function o0(i){return"script[async]"+i}function $9(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var x=i.querySelector('style[data-href~="'+Vr(c.href)+'"]');if(x)return o.instance=x,Cn(x),x;var y=E({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return x=(i.ownerDocument||i).createElement("style"),Cn(x),er(x,"style",y),fd(x,c.precedence,i),o.instance=x;case"stylesheet":y=vl(c.href);var B=i.querySelector(i0(y));if(B)return o.state.loading|=4,o.instance=B,Cn(B),B;x=Y9(c),(y=ei.get(y))&&jp(x,y),B=(i.ownerDocument||i).createElement("link"),Cn(B);var W=B;return W._p=new Promise(function(ee,ie){W.onload=ee,W.onerror=ie}),er(B,"link",x),o.state.loading|=4,fd(B,c.precedence,i),o.instance=B;case"script":return B=Bl(c.src),(y=i.querySelector(o0(B)))?(o.instance=y,Cn(y),y):(x=c,(y=ei.get(B))&&(x=E({},c),Lp(x,y)),i=i.ownerDocument||i,y=i.createElement("script"),Cn(y),er(y,"link",x),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(x=o.instance,o.state.loading|=4,fd(x,c.precedence,i));return o.instance}function fd(i,o,c){for(var x=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=x.length?x[x.length-1]:null,B=y,W=0;W<x.length;W++){var ee=x[W];if(ee.dataset.precedence===o)B=ee;else if(B!==y)break}B?B.parentNode.insertBefore(i,B.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function jp(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Lp(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var hd=null;function Z9(i,o,c){if(hd===null){var x=new Map,y=hd=new Map;y.set(c,x)}else y=hd,x=y.get(c),x||(x=new Map,y.set(c,x));if(x.has(i))return x;for(x.set(i,null),c=c.getElementsByTagName(i),y=0;y<c.length;y++){var B=c[y];if(!(B[$i]||B[ht]||i==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var W=B.getAttribute(o)||"";W=i+W;var ee=x.get(W);ee?ee.push(B):x.set(W,[B])}}return x}function Q9(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function z3(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function X9(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function U3(i,o,c,x){if(c.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=vl(x.href),B=o.querySelector(i0(y));if(B){o=B._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=pd.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=B,Cn(B);return}B=o.ownerDocument||o,x=Y9(x),(y=ei.get(y))&&jp(x,y),B=B.createElement("link"),Cn(B);var W=B;W._p=new Promise(function(ee,ie){W.onload=ee,W.onerror=ie}),er(B,"link",x),c.instance=B}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=pd.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var Pp=0;function H3(i,o){return i.stylesheets&&i.count===0&&md(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var x=setTimeout(function(){if(i.stylesheets&&md(i,i.stylesheets),i.unsuspend){var B=i.unsuspend;i.unsuspend=null,B()}},6e4+o);0<i.imgBytes&&Pp===0&&(Pp=62500*A3());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&md(i,i.stylesheets),i.unsuspend)){var B=i.unsuspend;i.unsuspend=null,B()}},(i.imgBytes>Pp?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(x),clearTimeout(y)}}:null}function pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)md(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gd=null;function md(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gd=new Map,o.forEach(W3,i),gd=null,pd.call(i))}function W3(i,o){if(!(o.state.loading&4)){var c=gd.get(i);if(c)var x=c.get(null);else{c=new Map,gd.set(i,c);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<y.length;B++){var W=y[B];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(c.set(W.dataset.precedence,W),x=W)}x&&c.set(null,x)}y=o.instance,W=y.getAttribute("data-precedence"),B=c.get(W)||x,B===x&&c.set(null,y),c.set(W,y),this.count++,x=pd.bind(this),y.addEventListener("load",x),y.addEventListener("error",x),B?B.parentNode.insertBefore(y,B.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var s0={$$typeof:F,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function q3(i,o,c,x,y,B,W,ee,ie){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nn(0),this.hiddenUpdates=nn(null),this.identifierPrefix=x,this.onUncaughtError=y,this.onCaughtError=B,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function J9(i,o,c,x,y,B,W,ee,ie,xe,Ee,Ce){return i=new q3(i,o,c,W,ie,xe,Ee,Ce,ee),o=1,B===!0&&(o|=24),B=Tr(3,null,null,o),i.current=B,B.stateNode=i,o=yh(),o.refCount++,i.pooledCache=o,o.refCount++,B.memoizedState={element:x,isDehydrated:c,cache:o},Ah(B),i}function eb(i){return i?(i=nl,i):nl}function tb(i,o,c,x,y,B){y=eb(y),x.context===null?x.context=y:x.pendingContext=y,x=Zo(o),x.payload={element:c},B=B===void 0?null:B,B!==null&&(x.callback=B),c=Qo(i,x,o),c!==null&&(Ar(c,i,o),Lc(c,i,o))}function nb(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function zp(i,o){nb(i,o),(i=i.alternate)&&nb(i,o)}function rb(i){if(i.tag===13||i.tag===31){var o=Ps(i,67108864);o!==null&&Ar(o,i,67108864),zp(i,67108864)}}function ib(i){if(i.tag===13||i.tag===31){var o=jr();o=rn(o);var c=Ps(i,o);c!==null&&Ar(c,i,o),zp(i,o)}}var yd=!0;function K3(i,o,c,x){var y=_.T;_.T=null;var B=O.p;try{O.p=2,Up(i,o,c,x)}finally{O.p=B,_.T=y}}function V3(i,o,c,x){var y=_.T;_.T=null;var B=O.p;try{O.p=8,Up(i,o,c,x)}finally{O.p=B,_.T=y}}function Up(i,o,c,x){if(yd){var y=Hp(x);if(y===null)_p(i,o,x,Ed,c),sb(i,x);else if(Y3(y,i,o,c,x))x.stopPropagation();else if(sb(i,x),o&4&&-1<G3.indexOf(i)){for(;y!==null;){var B=bi(y);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var W=yi(B.pendingLanes);if(W!==0){var ee=B;for(ee.pendingLanes|=2,ee.entangledLanes|=2;W;){var ie=1<<31-He(W);ee.entanglements[1]|=ie,W&=~ie}Si(B),(Ft&6)===0&&(td=ft()+500,e0(0))}}break;case 31:case 13:ee=Ps(B,2),ee!==null&&Ar(ee,B,2),rd(),zp(B,2)}if(B=Hp(x),B===null&&_p(i,o,x,Ed,c),B===y)break;y=B}y!==null&&x.stopPropagation()}else _p(i,o,x,null,c)}}function Hp(i){return i=qf(i),Wp(i)}var Ed=null;function Wp(i){if(Ed=null,i=Ei(i),i!==null){var o=a(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ed=i,null}function ob(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zn()){case Ht:return 2;case Y:return 8;case I:case L:return 32;case te:return 268435456;default:return 32}default:return 32}}var qp=!1,ls=null,cs=null,us=null,a0=new Map,l0=new Map,ds=[],G3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sb(i,o){switch(i){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":a0.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":l0.delete(o.pointerId)}}function c0(i,o,c,x,y,B){return i===null||i.nativeEvent!==B?(i={blockedOn:o,domEventName:c,eventSystemFlags:x,nativeEvent:B,targetContainers:[y]},o!==null&&(o=bi(o),o!==null&&rb(o)),i):(i.eventSystemFlags|=x,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function Y3(i,o,c,x,y){switch(o){case"focusin":return ls=c0(ls,i,o,c,x,y),!0;case"dragenter":return cs=c0(cs,i,o,c,x,y),!0;case"mouseover":return us=c0(us,i,o,c,x,y),!0;case"pointerover":var B=y.pointerId;return a0.set(B,c0(a0.get(B)||null,i,o,c,x,y)),!0;case"gotpointercapture":return B=y.pointerId,l0.set(B,c0(l0.get(B)||null,i,o,c,x,y)),!0}return!1}function ab(i){var o=Ei(i.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,gn(i.priority,function(){ib(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,gn(i.priority,function(){ib(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bd(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Hp(i.nativeEvent);if(c===null){c=i.nativeEvent;var x=new c.constructor(c.type,c);Wf=x,c.target.dispatchEvent(x),Wf=null}else return o=bi(c),o!==null&&rb(o),i.blockedOn=c,!1;o.shift()}return!0}function lb(i,o,c){bd(i)&&c.delete(o)}function $3(){qp=!1,ls!==null&&bd(ls)&&(ls=null),cs!==null&&bd(cs)&&(cs=null),us!==null&&bd(us)&&(us=null),a0.forEach(lb),l0.forEach(lb)}function wd(i,o){i.blockedOn===o&&(i.blockedOn=null,qp||(qp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$3)))}var Ad=null;function cb(i){Ad!==i&&(Ad=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ad===i&&(Ad=null);for(var o=0;o<i.length;o+=3){var c=i[o],x=i[o+1],y=i[o+2];if(typeof x!="function"){if(Wp(x||c)===null)continue;break}var B=bi(c);B!==null&&(i.splice(o,3),o-=3,Hh(B,{pending:!0,data:y,method:c.method,action:x},x,y))}}))}function Sl(i){function o(ie){return wd(ie,i)}ls!==null&&wd(ls,i),cs!==null&&wd(cs,i),us!==null&&wd(us,i),a0.forEach(o),l0.forEach(o);for(var c=0;c<ds.length;c++){var x=ds[c];x.blockedOn===i&&(x.blockedOn=null)}for(;0<ds.length&&(c=ds[0],c.blockedOn===null);)ab(c),c.blockedOn===null&&ds.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(x=0;x<c.length;x+=3){var y=c[x],B=c[x+1],W=y[At]||null;if(typeof B=="function")W||cb(c);else if(W){var ee=null;if(B&&B.hasAttribute("formAction")){if(y=B,W=B[At]||null)ee=W.formAction;else if(Wp(y)!==null)continue}else ee=W.action;typeof ee=="function"?c[x+1]=ee:(c.splice(x,3),x-=3),cb(c)}}}function ub(){function i(B){B.canIntercept&&B.info==="react-transition"&&B.intercept({handler:function(){return new Promise(function(W){return y=W})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),x||setTimeout(c,20)}function c(){if(!x&&!navigation.transition){var B=navigation.currentEntry;B&&B.url!=null&&navigation.navigate(B.url,{state:B.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){x=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Kp(i){this._internalRoot=i}Cd.prototype.render=Kp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,x=jr();tb(c,x,i,o,null,null)},Cd.prototype.unmount=Kp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;tb(i.current,2,null,i,null,null),rd(),o[Yi]=null}};function Cd(i){this._internalRoot=i}Cd.prototype.unstable_scheduleHydration=function(i){if(i){var o=pn();i={blockedOn:null,target:i,priority:o};for(var c=0;c<ds.length&&o!==0&&o<ds[c].priority;c++);ds.splice(c,0,i),c===0&&ab(i)}};var db=e.version;if(db!=="19.2.3")throw Error(n(527,db,"19.2.3"));O.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var Z3={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{ge=vd.inject(Z3),qe=vd}catch{}}return x0.createRoot=function(i,o){if(!s(i))throw Error(n(299));var c=!1,x="",y=y8,B=E8,W=b8;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(B=o.onCaughtError),o.onRecoverableError!==void 0&&(W=o.onRecoverableError)),o=J9(i,1,!1,null,null,c,x,null,y,B,W,ub),i[Yi]=o.current,Sp(i),new Kp(o)},x0.hydrateRoot=function(i,o,c){if(!s(i))throw Error(n(299));var x=!1,y="",B=y8,W=E8,ee=b8,ie=null;return c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(B=c.onUncaughtError),c.onCaughtError!==void 0&&(W=c.onCaughtError),c.onRecoverableError!==void 0&&(ee=c.onRecoverableError),c.formState!==void 0&&(ie=c.formState)),o=J9(i,1,!0,o,c??null,x,y,ie,B,W,ee,ub),o.context=eb(null),c=o.current,x=jr(),x=rn(x),y=Zo(x),y.callback=null,Qo(c,y,x),c=x,o.current.lanes=c,Uo(o,c),Si(o),i[Yi]=o.current,Sp(i),new Cd(o)},x0.version="19.2.3",x0}var vb;function a7(){if(vb)return $p.exports;vb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$p.exports=s7(),$p.exports}var l7=a7();const c7=ri(l7);var Bb="popstate";function u7(r={}){function e(n,s){let{pathname:a,search:l,hash:u}=n.location;return R1("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:P0(s)}return x7(e,t,null,r)}function un(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Hr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d7(){return Math.random().toString(36).substring(2,10)}function Sb(r,e){return{usr:r.state,key:r.key,idx:e}}function R1(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?lc(e):e,state:t,key:e&&e.key||n||d7()}}function P0({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function lc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function x7(r,e,t,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,u="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function E(){u="POP";let D=m(),M=D==null?null:D-h;h=D,f&&f({action:u,location:R.location,delta:M})}function S(D,M){u="PUSH";let N=R1(R.location,D,M);h=m()+1;let F=Sb(N,h),P=R.createHref(N);try{l.pushState(F,"",P)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;s.location.assign(P)}a&&f&&f({action:u,location:R.location,delta:1})}function C(D,M){u="REPLACE";let N=R1(R.location,D,M);h=m();let F=Sb(N,h),P=R.createHref(N);l.replaceState(F,"",P),a&&f&&f({action:u,location:R.location,delta:0})}function v(D){return f7(D)}let R={get action(){return u},get location(){return r(s,l)},listen(D){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Bb,E),f=D,()=>{s.removeEventListener(Bb,E),f=null}},createHref(D){return e(s,D)},createURL:v,encodeLocation(D){let M=v(D);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:C,go(D){return l.go(D)}};return R}function f7(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),un(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:P0(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function Xw(r,e,t="/"){return h7(r,e,t,!1)}function h7(r,e,t,n){let s=typeof e=="string"?lc(e):e,a=Oo(s.pathname||"/",t);if(a==null)return null;let l=Jw(r);p7(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=S7(a);u=v7(l[f],h,n)}return u}function Jw(r,e=[],t=[],n="",s=!1){let a=(l,u,f=s,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&f)return;un(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let E=Mo([n,m.relativePath]),S=t.concat(m);l.children&&l.children.length>0&&(un(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Jw(l.children,e,S,E,f)),!(l.path==null&&!l.index)&&e.push({path:E,score:A7(E,l.index),routesMeta:S})};return r.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let f of eA(l.path))a(l,u,!0,f)}),e}function eA(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=eA(n.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&u.push(...l),u.map(f=>r.startsWith("/")&&f===""?"/":f)}function p7(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:C7(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var g7=/^:[\w-]+$/,m7=3,y7=2,E7=1,b7=10,w7=-2,_b=r=>r==="*";function A7(r,e){let t=r.split("/"),n=t.length;return t.some(_b)&&(n+=w7),e&&(n+=y7),t.filter(s=>!_b(s)).reduce((s,a)=>s+(g7.test(a)?m7:a===""?E7:b7),n)}function C7(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function v7(r,e,t=!1){let{routesMeta:n}=r,s={},a="/",l=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,m=a==="/"?e:e.slice(a.length)||"/",E=Mx({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),S=f.route;if(!E&&h&&t&&!n[n.length-1].route.index&&(E=Mx({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!E)return null;Object.assign(s,E.params),l.push({params:s,pathname:Mo([a,E.pathname]),pathnameBase:k7(Mo([a,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(a=Mo([a,E.pathnameBase]))}return l}function Mx(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=B7(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,{paramName:m,isOptional:E},S)=>{if(m==="*"){let v=u[S]||"";l=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const C=u[S];return E&&!C?h[m]=void 0:h[m]=(C||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:r}}function B7(r,e=!1,t=!0){Hr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function S7(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Oo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}var tA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_7=r=>tA.test(r);function D7(r,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?lc(r):r,a;if(t)if(_7(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Hr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=Db(t.substring(1),"/"):a=Db(t,e)}else a=e;return{pathname:a,search:F7(n),hash:T7(s)}}function Db(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Jp(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R7(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Tm(r){let e=R7(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Nm(r,e,t,n=!1){let s;typeof r=="string"?s=lc(r):(s={...r},un(!s.pathname||!s.pathname.includes("?"),Jp("?","pathname","search",s)),un(!s.pathname||!s.pathname.includes("#"),Jp("#","pathname","hash",s)),un(!s.search||!s.search.includes("#"),Jp("#","search","hash",s)));let a=r===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=t;else{let E=e.length-1;if(!n&&l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),E-=1;s.pathname=S.join("/")}u=E>=0?e[E]:"/"}let f=D7(s,u),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var Mo=r=>r.join("/").replace(/\/\/+/g,"/"),k7=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),F7=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,T7=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,N7=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function I7(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function M7(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rA(r,e){let t=r;if(typeof t!="string"||!tA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,s=!1;if(nA)try{let a=new URL(window.location.href),l=t.startsWith("//")?new URL(a.protocol+t):new URL(t),u=Oo(l.pathname,e);l.origin===a.origin&&u!=null?t=u+l.search+l.hash:s=!0}catch{Hr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iA=["POST","PUT","PATCH","DELETE"];new Set(iA);var O7=["GET",...iA];new Set(O7);var cc=U.createContext(null);cc.displayName="DataRouter";var nf=U.createContext(null);nf.displayName="DataRouterState";var j7=U.createContext(!1),oA=U.createContext({isTransitioning:!1});oA.displayName="ViewTransition";var L7=U.createContext(new Map);L7.displayName="Fetchers";var P7=U.createContext(null);P7.displayName="Await";var Wr=U.createContext(null);Wr.displayName="Navigation";var Z0=U.createContext(null);Z0.displayName="Location";var ii=U.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Im=U.createContext(null);Im.displayName="RouteError";var sA="REACT_ROUTER_ERROR",z7="REDIRECT",U7="ROUTE_ERROR_RESPONSE";function H7(r){if(r.startsWith(`${sA}:${z7}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function W7(r){if(r.startsWith(`${sA}:${U7}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new N7(e.status,e.statusText,e.data)}catch{}}function q7(r,{relative:e}={}){un(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=U.useContext(Wr),{hash:s,pathname:a,search:l}=Q0(r,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:Mo([t,a])),n.createHref({pathname:u,search:l,hash:s})}function uc(){return U.useContext(Z0)!=null}function qi(){return un(uc(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Z0).location}var aA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lA(r){U.useContext(Wr).static||U.useLayoutEffect(r)}function tn(){let{isDataRoute:r}=U.useContext(ii);return r?oS():K7()}function K7(){un(uc(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(cc),{basename:e,navigator:t}=U.useContext(Wr),{matches:n}=U.useContext(ii),{pathname:s}=qi(),a=JSON.stringify(Tm(n)),l=U.useRef(!1);return lA(()=>{l.current=!0}),U.useCallback((f,h={})=>{if(Hr(l.current,aA),!l.current)return;if(typeof f=="number"){t.go(f);return}let m=Nm(f,JSON.parse(a),s,h.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Mo([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,a,s,r])}var V7=U.createContext(null);function G7(r){let e=U.useContext(ii).outlet;return U.useMemo(()=>e&&U.createElement(V7.Provider,{value:r},e),[e,r])}function rf(){let{matches:r}=U.useContext(ii),e=r[r.length-1];return e?e.params:{}}function Q0(r,{relative:e}={}){let{matches:t}=U.useContext(ii),{pathname:n}=qi(),s=JSON.stringify(Tm(t));return U.useMemo(()=>Nm(r,JSON.parse(s),n,e==="path"),[r,s,n,e])}function Y7(r,e){return cA(r,e)}function cA(r,e,t,n,s){un(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(Wr),{matches:l}=U.useContext(ii),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",E=u&&u.route;{let N=E&&E.path||"";dA(h,!E||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let S=qi(),C;if(e){let N=typeof e=="string"?lc(e):e;un(m==="/"||N.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),C=N}else C=S;let v=C.pathname||"/",R=v;if(m!=="/"){let N=m.replace(/^\//,"").split("/");R="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let D=Xw(r,{pathname:R});Hr(E||D!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Hr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=J7(D&&D.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Mo([m,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:Mo([m,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,t,n,s);return e&&M?U.createElement(Z0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},M):M}function $7(){let r=iS(),e=I7(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:s},t):null,l)}var Z7=U.createElement($7,null),uA=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=W7(r.digest);t&&(r=t)}let e=r!==void 0?U.createElement(ii.Provider,{value:this.props.routeContext},U.createElement(Im.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(Q7,{error:r},e):e}};uA.contextType=j7;var eg=new WeakMap;function Q7({children:r,error:e}){let{basename:t}=U.useContext(Wr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=H7(e.digest);if(n){let s=eg.get(e);if(s)throw s;let a=rA(n.location,t);if(nA&&!eg.get(e))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw eg.set(e,l),l}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return r}function X7({routeContext:r,match:e,children:t}){let n=U.useContext(cc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ii.Provider,{value:r},t)}function J7(r,e=[],t=null,n=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,l=t?.errors;if(l!=null){let m=a.findIndex(E=>E.route.id&&l?.[E.route.id]!==void 0);un(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,f=-1;if(t)for(let m=0;m<a.length;m++){let E=a[m];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(f=m),E.route.id){let{loaderData:S,errors:C}=t,v=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!C||C[E.route.id]===void 0);if(E.route.lazy||v){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let h=t&&n?(m,E)=>{n(m,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:M7(t.matches),errorInfo:E})}:void 0;return a.reduceRight((m,E,S)=>{let C,v=!1,R=null,D=null;t&&(C=l&&E.route.id?l[E.route.id]:void 0,R=E.route.errorElement||Z7,u&&(f<0&&S===0?(dA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,D=null):f===S&&(v=!0,D=E.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,S+1)),N=()=>{let F;return C?F=R:v?F=D:E.route.Component?F=U.createElement(E.route.Component,null):E.route.element?F=E.route.element:F=m,U.createElement(X7,{match:E,routeContext:{outlet:m,matches:M,isDataRoute:t!=null},children:F})};return t&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?U.createElement(uA,{location:t.location,revalidation:t.revalidation,component:R,error:C,children:N(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:h}):N()},null)}function Mm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eS(r){let e=U.useContext(cc);return un(e,Mm(r)),e}function tS(r){let e=U.useContext(nf);return un(e,Mm(r)),e}function nS(r){let e=U.useContext(ii);return un(e,Mm(r)),e}function Om(r){let e=nS(r),t=e.matches[e.matches.length-1];return un(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function rS(){return Om("useRouteId")}function iS(){let r=U.useContext(Im),e=tS("useRouteError"),t=Om("useRouteError");return r!==void 0?r:e.errors?.[t]}function oS(){let{router:r}=eS("useNavigate"),e=Om("useNavigate"),t=U.useRef(!1);return lA(()=>{t.current=!0}),U.useCallback(async(s,a={})=>{Hr(t.current,aA),t.current&&(typeof s=="number"?await r.navigate(s):await r.navigate(s,{fromRouteId:e,...a}))},[r,e])}var Rb={};function dA(r,e,t){!e&&!Rb[r]&&(Rb[r]=!0,Hr(!1,t))}U.memo(sS);function sS({routes:r,future:e,state:t,onError:n}){return cA(r,void 0,t,n,e)}function z0({to:r,replace:e,state:t,relative:n}){un(uc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=U.useContext(Wr);Hr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=U.useContext(ii),{pathname:l}=qi(),u=tn(),f=Nm(r,Tm(a),l,n==="path"),h=JSON.stringify(f);return U.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:n})},[u,h,n,e,t]),null}function dc(r){return G7(r.context)}function $e(r){un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aS({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){un(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:u,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[u,s,a,l]);typeof t=="string"&&(t=lc(t));let{pathname:h="/",search:m="",hash:E="",state:S=null,key:C="default"}=t,v=U.useMemo(()=>{let R=Oo(h,u);return R==null?null:{location:{pathname:R,search:m,hash:E,state:S,key:C},navigationType:n}},[u,h,m,E,S,C,n]);return Hr(v!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${E}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:U.createElement(Wr.Provider,{value:f},U.createElement(Z0.Provider,{children:e,value:v}))}function lS({children:r,location:e}){return Y7(k1(r),e)}function k1(r,e=[]){let t=[];return U.Children.forEach(r,(n,s)=>{if(!U.isValidElement(n))return;let a=[...e,s];if(n.type===U.Fragment){t.push.apply(t,k1(n.props.children,a));return}un(n.type===$e,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),un(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=k1(n.props.children,a)),t.push(l)}),t}var sx="get",ax="application/x-www-form-urlencoded";function of(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function cS(r){return of(r)&&r.tagName.toLowerCase()==="button"}function uS(r){return of(r)&&r.tagName.toLowerCase()==="form"}function dS(r){return of(r)&&r.tagName.toLowerCase()==="input"}function xS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fS(r,e){return r.button===0&&(!e||e==="_self")&&!xS(r)}function F1(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(s=>[t,s]):[[t,n]])},[]))}function hS(r,e){let t=F1(r);return e&&e.forEach((n,s)=>{t.has(s)||e.getAll(s).forEach(a=>{t.append(s,a)})}),t}var Sd=null;function pS(){if(Sd===null)try{new FormData(document.createElement("form"),0),Sd=!1}catch{Sd=!0}return Sd}var gS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tg(r){return r!=null&&!gS.has(r)?(Hr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ax}"`),null):r}function mS(r,e){let t,n,s,a,l;if(uS(r)){let u=r.getAttribute("action");n=u?Oo(u,e):null,t=r.getAttribute("method")||sx,s=tg(r.getAttribute("enctype"))||ax,a=new FormData(r)}else if(cS(r)||dS(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||u.getAttribute("action");if(n=f?Oo(f,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||sx,s=tg(r.getAttribute("formenctype"))||tg(u.getAttribute("enctype"))||ax,a=new FormData(u,r),!pS()){let{name:h,type:m,value:E}=r;if(m==="image"){let S=h?`${h}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else h&&a.append(h,E)}}else{if(of(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sx,n=null,s=ax,l=r}return a&&s==="text/plain"&&(l=a,a=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yS(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Oo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function ES(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function wS(r,e,t){let n=await Promise.all(r.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await ES(a,t);return l.links?l.links():[]}return[]}));return BS(n.flat(1).filter(bS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function kb(r,e,t,n,s,a){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,u=(f,h)=>t[h].pathname!==f.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):a==="data"?e.filter((f,h)=>{let m=n.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function AS(r,e,{includeHydrateFallback:t}={}){return CS(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function CS(r){return[...new Set(r)]}function vS(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function BS(r,e){let t=new Set;return new Set(e),r.reduce((n,s)=>{let a=JSON.stringify(vS(s));return t.has(a)||(t.add(a),n.push({key:a,link:s})),n},[])}function xA(){let r=U.useContext(cc);return jm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function SS(){let r=U.useContext(nf);return jm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Lm=U.createContext(void 0);Lm.displayName="FrameworkContext";function fA(){let r=U.useContext(Lm);return jm(r,"You must render this element inside a <HydratedRouter> element"),r}function _S(r,e){let t=U.useContext(Lm),[n,s]=U.useState(!1),[a,l]=U.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:E}=e,S=U.useRef(null);U.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let R=M=>{M.forEach(N=>{l(N.isIntersecting)})},D=new IntersectionObserver(R,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[r]),U.useEffect(()=>{if(n){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[n]);let C=()=>{s(!0)},v=()=>{s(!1),l(!1)};return t?r!=="intent"?[a,S,{}]:[a,S,{onFocus:f0(u,C),onBlur:f0(f,v),onMouseEnter:f0(h,C),onMouseLeave:f0(m,v),onTouchStart:f0(E,C)}]:[!1,S,{}]}function f0(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function DS({page:r,...e}){let{router:t}=xA(),n=U.useMemo(()=>Xw(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?U.createElement(kS,{page:r,matches:n,...e}):null}function RS(r){let{manifest:e,routeModules:t}=fA(),[n,s]=U.useState([]);return U.useEffect(()=>{let a=!1;return wS(r,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[r,e,t]),n}function kS({page:r,matches:e,...t}){let n=qi(),{manifest:s,routeModules:a}=fA(),{basename:l}=xA(),{loaderData:u,matches:f}=SS(),h=U.useMemo(()=>kb(r,e,f,s,n,"data"),[r,e,f,s,n]),m=U.useMemo(()=>kb(r,e,f,s,n,"assets"),[r,e,f,s,n]),E=U.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let v=new Set,R=!1;if(e.forEach(M=>{let N=s.routes[M.route.id];!N||!N.hasLoader||(!h.some(F=>F.route.id===M.route.id)&&M.route.id in u&&a[M.route.id]?.shouldRevalidate||N.hasClientLoader?R=!0:v.add(M.route.id))}),v.size===0)return[];let D=yS(r,l,"data");return R&&v.size>0&&D.searchParams.set("_routes",e.filter(M=>v.has(M.route.id)).map(M=>M.route.id).join(",")),[D.pathname+D.search]},[l,u,n,s,h,e,r,a]),S=U.useMemo(()=>AS(m,s),[m,s]),C=RS(m);return U.createElement(U.Fragment,null,E.map(v=>U.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),S.map(v=>U.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),C.map(({key:v,link:R})=>U.createElement("link",{key:v,nonce:t.nonce,...R})))}function FS(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var TS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TS&&(window.__reactRouterVersion="7.11.0")}catch{}function NS({basename:r,children:e,unstable_useTransitions:t,window:n}){let s=U.useRef();s.current==null&&(s.current=u7({window:n,v5Compat:!0}));let a=s.current,[l,u]=U.useState({action:a.action,location:a.location}),f=U.useCallback(h=>{t===!1?u(h):U.startTransition(()=>u(h))},[t]);return U.useLayoutEffect(()=>a.listen(f),[a,f]),U.createElement(aS,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:t})}var hA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xl=U.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:a,replace:l,state:u,target:f,to:h,preventScrollReset:m,viewTransition:E,unstable_defaultShouldRevalidate:S,...C},v){let{basename:R,unstable_useTransitions:D}=U.useContext(Wr),M=typeof h=="string"&&hA.test(h),N=rA(h,R);h=N.to;let F=q7(h,{relative:s}),[P,K,V]=_S(n,C),H=OS(h,{replace:l,state:u,target:f,preventScrollReset:m,relative:s,viewTransition:E,unstable_defaultShouldRevalidate:S,unstable_useTransitions:D});function J(Z){e&&e(Z),Z.defaultPrevented||H(Z)}let q=U.createElement("a",{...C,...V,href:N.absoluteURL||F,onClick:N.isExternal||a?e:J,ref:FS(v,K),target:f,"data-discover":!M&&t==="render"?"true":void 0});return P&&!M?U.createElement(U.Fragment,null,q,U.createElement(DS,{page:F})):q});Xl.displayName="Link";var lt=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:a,to:l,viewTransition:u,children:f,...h},m){let E=Q0(l,{relative:h.relative}),S=qi(),C=U.useContext(nf),{navigator:v,basename:R}=U.useContext(Wr),D=C!=null&&HS(E)&&u===!0,M=v.encodeLocation?v.encodeLocation(E).pathname:E.pathname,N=S.pathname,F=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(N=N.toLowerCase(),F=F?F.toLowerCase():null,M=M.toLowerCase()),F&&R&&(F=Oo(F,R)||F);const P=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let K=N===M||!s&&N.startsWith(M)&&N.charAt(P)==="/",V=F!=null&&(F===M||!s&&F.startsWith(M)&&F.charAt(M.length)==="/"),H={isActive:K,isPending:V,isTransitioning:D},J=K?e:void 0,q;typeof n=="function"?q=n(H):q=[n,K?"active":null,V?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let Z=typeof a=="function"?a(H):a;return U.createElement(Xl,{...h,"aria-current":J,className:q,ref:m,style:Z,to:l,viewTransition:u},typeof f=="function"?f(H):f)});lt.displayName="NavLink";var IS=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:a,method:l=sx,action:u,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:E,unstable_defaultShouldRevalidate:S,...C},v)=>{let{unstable_useTransitions:R}=U.useContext(Wr),D=zS(),M=US(u,{relative:h}),N=l.toLowerCase()==="get"?"get":"post",F=typeof u=="string"&&hA.test(u),P=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let V=K.nativeEvent.submitter,H=V?.getAttribute("formmethod")||l,J=()=>D(V||K.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:E,unstable_defaultShouldRevalidate:S});R&&t!==!1?U.startTransition(()=>J()):J()};return U.createElement("form",{ref:v,method:N,action:M,onSubmit:n?f:P,...C,"data-discover":!F&&r==="render"?"true":void 0})});IS.displayName="Form";function MS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pA(r){let e=U.useContext(cc);return un(e,MS(r)),e}function OS(r,{target:e,replace:t,state:n,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let h=tn(),m=qi(),E=Q0(r,{relative:a});return U.useCallback(S=>{if(fS(S,e)){S.preventDefault();let C=t!==void 0?t:P0(m)===P0(E),v=()=>h(r,{replace:C,state:n,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:u});f?U.startTransition(()=>v()):v()}},[m,h,E,t,n,e,r,s,a,l,u,f])}function jS(r){Hr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=U.useRef(F1(r)),t=U.useRef(!1),n=qi(),s=U.useMemo(()=>hS(n.search,t.current?null:e.current),[n.search]),a=tn(),l=U.useCallback((u,f)=>{const h=F1(typeof u=="function"?u(new URLSearchParams(s)):u);t.current=!0,a("?"+h,f)},[a,s]);return[s,l]}var LS=0,PS=()=>`__${String(++LS)}__`;function zS(){let{router:r}=pA("useSubmit"),{basename:e}=U.useContext(Wr),t=rS(),n=r.fetch,s=r.navigate;return U.useCallback(async(a,l={})=>{let{action:u,method:f,encType:h,formData:m,body:E}=mS(a,e);if(l.navigate===!1){let S=l.fetcherKey||PS();await n(S,t,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:E,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await s(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:E,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,s,e,t])}function US(r,{relative:e}={}){let{basename:t}=U.useContext(Wr),n=U.useContext(ii);un(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...Q0(r||".",{relative:e})},l=qi();if(r==null){a.search=l.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(E=>E).forEach(E=>u.append("index",E));let m=u.toString();a.search=m?`?${m}`:""}}return(!r||r===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Mo([t,a.pathname])),P0(a)}function HS(r,{relative:e}={}){let t=U.useContext(oA);un(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pA("useViewTransitionState"),s=Q0(r,{relative:e});if(!t.isTransitioning)return!1;let a=Oo(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Oo(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Mx(s.pathname,l)!=null||Mx(s.pathname,a)!=null}var WS=Qw();function gA(r,e){return function(){return r.apply(e,arguments)}}const{toString:qS}=Object.prototype,{getPrototypeOf:Pm}=Object,{iterator:sf,toStringTag:mA}=Symbol,af=(r=>e=>{const t=qS.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),mi=r=>(r=r.toLowerCase(),e=>af(e)===r),lf=r=>e=>typeof e===r,{isArray:xc}=Array,Jl=lf("undefined");function X0(r){return r!==null&&!Jl(r)&&r.constructor!==null&&!Jl(r.constructor)&&_r(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const yA=mi("ArrayBuffer");function KS(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&yA(r.buffer),e}const VS=lf("string"),_r=lf("function"),EA=lf("number"),J0=r=>r!==null&&typeof r=="object",GS=r=>r===!0||r===!1,lx=r=>{if(af(r)!=="object")return!1;const e=Pm(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(mA in r)&&!(sf in r)},YS=r=>{if(!J0(r)||X0(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},$S=mi("Date"),ZS=mi("File"),QS=mi("Blob"),XS=mi("FileList"),JS=r=>J0(r)&&_r(r.pipe),e_=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||_r(r.append)&&((e=af(r))==="formdata"||e==="object"&&_r(r.toString)&&r.toString()==="[object FormData]"))},t_=mi("URLSearchParams"),[n_,r_,i_,o_]=["ReadableStream","Request","Response","Headers"].map(mi),s_=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eu(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,s;if(typeof r!="object"&&(r=[r]),xc(r))for(n=0,s=r.length;n<s;n++)e.call(null,r[n],n,r);else{if(X0(r))return;const a=t?Object.getOwnPropertyNames(r):Object.keys(r),l=a.length;let u;for(n=0;n<l;n++)u=a[n],e.call(null,r[u],u,r)}}function bA(r,e){if(X0(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wA=r=>!Jl(r)&&r!==xa;function T1(){const{caseless:r,skipUndefined:e}=wA(this)&&this||{},t={},n=(s,a)=>{const l=r&&bA(t,a)||a;lx(t[l])&&lx(s)?t[l]=T1(t[l],s):lx(s)?t[l]=T1({},s):xc(s)?t[l]=s.slice():(!e||!Jl(s))&&(t[l]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&eu(arguments[s],n);return t}const a_=(r,e,t,{allOwnKeys:n}={})=>(eu(e,(s,a)=>{t&&_r(s)?r[a]=gA(s,t):r[a]=s},{allOwnKeys:n}),r),l_=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),c_=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},u_=(r,e,t,n)=>{let s,a,l;const u={};if(e=e||{},r==null)return e;do{for(s=Object.getOwnPropertyNames(r),a=s.length;a-- >0;)l=s[a],(!n||n(l,r,e))&&!u[l]&&(e[l]=r[l],u[l]=!0);r=t!==!1&&Pm(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},d_=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},x_=r=>{if(!r)return null;if(xc(r))return r;let e=r.length;if(!EA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},f_=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Pm(Uint8Array)),h_=(r,e)=>{const n=(r&&r[sf]).call(r);let s;for(;(s=n.next())&&!s.done;){const a=s.value;e.call(r,a[0],a[1])}},p_=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},g_=mi("HTMLFormElement"),m_=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),Fb=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),y_=mi("RegExp"),AA=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};eu(t,(s,a)=>{let l;(l=e(s,a,r))!==!1&&(n[a]=l||s)}),Object.defineProperties(r,n)},E_=r=>{AA(r,(e,t)=>{if(_r(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(_r(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},b_=(r,e)=>{const t={},n=s=>{s.forEach(a=>{t[a]=!0})};return xc(r)?n(r):n(String(r).split(e)),t},w_=()=>{},A_=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function C_(r){return!!(r&&_r(r.append)&&r[mA]==="FormData"&&r[sf])}const v_=r=>{const e=new Array(10),t=(n,s)=>{if(J0(n)){if(e.indexOf(n)>=0)return;if(X0(n))return n;if(!("toJSON"in n)){e[s]=n;const a=xc(n)?[]:{};return eu(n,(l,u)=>{const f=t(l,s+1);!Jl(f)&&(a[u]=f)}),e[s]=void 0,a}}return n};return t(r,0)},B_=mi("AsyncFunction"),S_=r=>r&&(J0(r)||_r(r))&&_r(r.then)&&_r(r.catch),CA=((r,e)=>r?setImmediate:e?((t,n)=>(xa.addEventListener("message",({source:s,data:a})=>{s===xa&&a===t&&n.length&&n.shift()()},!1),s=>{n.push(s),xa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",_r(xa.postMessage)),__=typeof queueMicrotask<"u"?queueMicrotask.bind(xa):typeof process<"u"&&process.nextTick||CA,D_=r=>r!=null&&_r(r[sf]),me={isArray:xc,isArrayBuffer:yA,isBuffer:X0,isFormData:e_,isArrayBufferView:KS,isString:VS,isNumber:EA,isBoolean:GS,isObject:J0,isPlainObject:lx,isEmptyObject:YS,isReadableStream:n_,isRequest:r_,isResponse:i_,isHeaders:o_,isUndefined:Jl,isDate:$S,isFile:ZS,isBlob:QS,isRegExp:y_,isFunction:_r,isStream:JS,isURLSearchParams:t_,isTypedArray:f_,isFileList:XS,forEach:eu,merge:T1,extend:a_,trim:s_,stripBOM:l_,inherits:c_,toFlatObject:u_,kindOf:af,kindOfTest:mi,endsWith:d_,toArray:x_,forEachEntry:h_,matchAll:p_,isHTMLForm:g_,hasOwnProperty:Fb,hasOwnProp:Fb,reduceDescriptors:AA,freezeMethods:E_,toObjectSet:b_,toCamelCase:m_,noop:w_,toFiniteNumber:A_,findKey:bA,global:xa,isContextDefined:wA,isSpecCompliantForm:C_,toJSONObject:v_,isAsyncFn:B_,isThenable:S_,setImmediate:CA,asap:__,isIterable:D_};function ot(r,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}me.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const vA=ot.prototype,BA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{BA[r]={value:r}});Object.defineProperties(ot,BA);Object.defineProperty(vA,"isAxiosError",{value:!0});ot.from=(r,e,t,n,s,a)=>{const l=Object.create(vA);me.toFlatObject(r,l,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const u=r&&r.message?r.message:"Error",f=e==null&&r?r.code:e;return ot.call(l,u,f,t,n,s),r&&l.cause==null&&Object.defineProperty(l,"cause",{value:r,configurable:!0}),l.name=r&&r.name||"Error",a&&Object.assign(l,a),l};const R_=null;function N1(r){return me.isPlainObject(r)||me.isArray(r)}function SA(r){return me.endsWith(r,"[]")?r.slice(0,-2):r}function Tb(r,e,t){return r?r.concat(e).map(function(s,a){return s=SA(s),!t&&a?"["+s+"]":s}).join(t?".":""):e}function k_(r){return me.isArray(r)&&!r.some(N1)}const F_=me.toFlatObject(me,{},null,function(e){return/^is[A-Z]/.test(e)});function cf(r,e,t){if(!me.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,D){return!me.isUndefined(D[R])});const n=t.metaTokens,s=t.visitor||m,a=t.dots,l=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(e);if(!me.isFunction(s))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(me.isDate(v))return v.toISOString();if(me.isBoolean(v))return v.toString();if(!f&&me.isBlob(v))throw new ot("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(v)||me.isTypedArray(v)?f&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,R,D){let M=v;if(v&&!D&&typeof v=="object"){if(me.endsWith(R,"{}"))R=n?R:R.slice(0,-2),v=JSON.stringify(v);else if(me.isArray(v)&&k_(v)||(me.isFileList(v)||me.endsWith(R,"[]"))&&(M=me.toArray(v)))return R=SA(R),M.forEach(function(F,P){!(me.isUndefined(F)||F===null)&&e.append(l===!0?Tb([R],P,a):l===null?R:R+"[]",h(F))}),!1}return N1(v)?!0:(e.append(Tb(D,R,a),h(v)),!1)}const E=[],S=Object.assign(F_,{defaultVisitor:m,convertValue:h,isVisitable:N1});function C(v,R){if(!me.isUndefined(v)){if(E.indexOf(v)!==-1)throw Error("Circular reference detected in "+R.join("."));E.push(v),me.forEach(v,function(M,N){(!(me.isUndefined(M)||M===null)&&s.call(e,M,me.isString(N)?N.trim():N,R,S))===!0&&C(M,R?R.concat(N):[N])}),E.pop()}}if(!me.isObject(r))throw new TypeError("data must be an object");return C(r),e}function Nb(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function zm(r,e){this._pairs=[],r&&cf(r,this,e)}const _A=zm.prototype;_A.append=function(e,t){this._pairs.push([e,t])};_A.toString=function(e){const t=e?function(n){return e.call(this,n,Nb)}:Nb;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function T_(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function DA(r,e,t){if(!e)return r;const n=t&&t.encode||T_;me.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let a;if(s?a=s(e,t):a=me.isURLSearchParams(e)?e.toString():new zm(e,t).toString(n),a){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+a}return r}class Ib{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){me.forEach(this.handlers,function(n){n!==null&&e(n)})}}const RA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},N_=typeof URLSearchParams<"u"?URLSearchParams:zm,I_=typeof FormData<"u"?FormData:null,M_=typeof Blob<"u"?Blob:null,O_={isBrowser:!0,classes:{URLSearchParams:N_,FormData:I_,Blob:M_},protocols:["http","https","file","blob","url","data"]},Um=typeof window<"u"&&typeof document<"u",I1=typeof navigator=="object"&&navigator||void 0,j_=Um&&(!I1||["ReactNative","NativeScript","NS"].indexOf(I1.product)<0),L_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",P_=Um&&window.location.href||"http://localhost",z_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Um,hasStandardBrowserEnv:j_,hasStandardBrowserWebWorkerEnv:L_,navigator:I1,origin:P_},Symbol.toStringTag,{value:"Module"})),fr={...z_,...O_};function U_(r,e){return cf(r,new fr.classes.URLSearchParams,{visitor:function(t,n,s,a){return fr.isNode&&me.isBuffer(t)?(this.append(n,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function H_(r){return me.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function W_(r){const e={},t=Object.keys(r);let n;const s=t.length;let a;for(n=0;n<s;n++)a=t[n],e[a]=r[a];return e}function kA(r){function e(t,n,s,a){let l=t[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),f=a>=t.length;return l=!l&&me.isArray(s)?s.length:l,f?(me.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!me.isObject(s[l]))&&(s[l]=[]),e(t,n,s[l],a)&&me.isArray(s[l])&&(s[l]=W_(s[l])),!u)}if(me.isFormData(r)&&me.isFunction(r.entries)){const t={};return me.forEachEntry(r,(n,s)=>{e(H_(n),s,t,0)}),t}return null}function q_(r,e,t){if(me.isString(r))try{return(e||JSON.parse)(r),me.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const tu={transitional:RA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,a=me.isObject(e);if(a&&me.isHTMLForm(e)&&(e=new FormData(e)),me.isFormData(e))return s?JSON.stringify(kA(e)):e;if(me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)||me.isReadableStream(e))return e;if(me.isArrayBufferView(e))return e.buffer;if(me.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return U_(e,this.formSerializer).toString();if((u=me.isFileList(e))||n.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return cf(u?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),q_(e)):e}],transformResponse:[function(e){const t=this.transitional||tu.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(me.isResponse(e)||me.isReadableStream(e))return e;if(e&&me.isString(e)&&(n&&!this.responseType||s)){const l=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?ot.from(u,ot.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fr.classes.FormData,Blob:fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],r=>{tu.headers[r]={}});const K_=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V_=r=>{const e={};let t,n,s;return r&&r.split(`
`).forEach(function(l){s=l.indexOf(":"),t=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!t||e[t]&&K_[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Mb=Symbol("internals");function h0(r){return r&&String(r).trim().toLowerCase()}function cx(r){return r===!1||r==null?r:me.isArray(r)?r.map(cx):String(r)}function G_(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const Y_=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ng(r,e,t,n,s){if(me.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!me.isString(e)){if(me.isString(n))return e.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(e)}}function $_(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function Z_(r,e){const t=me.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(s,a,l){return this[n].call(this,e,s,a,l)},configurable:!0})})}let Dr=class{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function a(u,f,h){const m=h0(f);if(!m)throw new Error("header name must be a non-empty string");const E=me.findKey(s,m);(!E||s[E]===void 0||h===!0||h===void 0&&s[E]!==!1)&&(s[E||f]=cx(u))}const l=(u,f)=>me.forEach(u,(h,m)=>a(h,m,f));if(me.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(me.isString(e)&&(e=e.trim())&&!Y_(e))l(V_(e),t);else if(me.isObject(e)&&me.isIterable(e)){let u={},f,h;for(const m of e){if(!me.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[h=m[0]]=(f=u[h])?me.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}l(u,t)}else e!=null&&a(t,e,n);return this}get(e,t){if(e=h0(e),e){const n=me.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return G_(s);if(me.isFunction(t))return t.call(this,s,n);if(me.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=h0(e),e){const n=me.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||ng(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function a(l){if(l=h0(l),l){const u=me.findKey(n,l);u&&(!t||ng(n,n[u],u,t))&&(delete n[u],s=!0)}}return me.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const a=t[n];(!e||ng(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const t=this,n={};return me.forEach(this,(s,a)=>{const l=me.findKey(n,a);if(l){t[l]=cx(s),delete t[a];return}const u=e?$_(a):String(a).trim();u!==a&&delete t[a],t[u]=cx(s),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return me.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&me.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[Mb]=this[Mb]={accessors:{}}).accessors,s=this.prototype;function a(l){const u=h0(l);n[u]||(Z_(s,l),n[u]=!0)}return me.isArray(e)?e.forEach(a):a(e),this}};Dr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Dr.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});me.freezeMethods(Dr);function rg(r,e){const t=this||tu,n=e||t,s=Dr.from(n.headers);let a=n.data;return me.forEach(r,function(u){a=u.call(t,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function FA(r){return!!(r&&r.__CANCEL__)}function fc(r,e,t){ot.call(this,r??"canceled",ot.ERR_CANCELED,e,t),this.name="CanceledError"}me.inherits(fc,ot,{__CANCEL__:!0});function TA(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new ot("Request failed with status code "+t.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Q_(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function X_(r,e){r=r||10;const t=new Array(r),n=new Array(r);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(f){const h=Date.now(),m=n[a];l||(l=h),t[s]=f,n[s]=h;let E=a,S=0;for(;E!==s;)S+=t[E++],E=E%r;if(s=(s+1)%r,s===a&&(a=(a+1)%r),h-l<e)return;const C=m&&h-m;return C?Math.round(S*1e3/C):void 0}}function J_(r,e){let t=0,n=1e3/e,s,a;const l=(h,m=Date.now())=>{t=m,s=null,a&&(clearTimeout(a),a=null),r(...h)};return[(...h)=>{const m=Date.now(),E=m-t;E>=n?l(h,m):(s=h,a||(a=setTimeout(()=>{a=null,l(s)},n-E)))},()=>s&&l(s)]}const Ox=(r,e,t=3)=>{let n=0;const s=X_(50,250);return J_(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,f=l-n,h=s(f),m=l<=u;n=l;const E={loaded:l,total:u,progress:u?l/u:void 0,bytes:f,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};r(E)},t)},Ob=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},jb=r=>(...e)=>me.asap(()=>r(...e)),eD=fr.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,fr.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(fr.origin),fr.navigator&&/(msie|trident)/i.test(fr.navigator.userAgent)):()=>!0,tD=fr.hasStandardBrowserEnv?{write(r,e,t,n,s,a,l){if(typeof document>"u")return;const u=[`${r}=${encodeURIComponent(e)}`];me.isNumber(t)&&u.push(`expires=${new Date(t).toUTCString()}`),me.isString(n)&&u.push(`path=${n}`),me.isString(s)&&u.push(`domain=${s}`),a===!0&&u.push("secure"),me.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(r){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nD(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function rD(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function NA(r,e,t){let n=!nD(e);return r&&(n||t==!1)?rD(r,e):e}const Lb=r=>r instanceof Dr?{...r}:r;function Da(r,e){e=e||{};const t={};function n(h,m,E,S){return me.isPlainObject(h)&&me.isPlainObject(m)?me.merge.call({caseless:S},h,m):me.isPlainObject(m)?me.merge({},m):me.isArray(m)?m.slice():m}function s(h,m,E,S){if(me.isUndefined(m)){if(!me.isUndefined(h))return n(void 0,h,E,S)}else return n(h,m,E,S)}function a(h,m){if(!me.isUndefined(m))return n(void 0,m)}function l(h,m){if(me.isUndefined(m)){if(!me.isUndefined(h))return n(void 0,h)}else return n(void 0,m)}function u(h,m,E){if(E in e)return n(h,m);if(E in r)return n(void 0,h)}const f={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,E)=>s(Lb(h),Lb(m),E,!0)};return me.forEach(Object.keys({...r,...e}),function(m){const E=f[m]||s,S=E(r[m],e[m],m);me.isUndefined(S)&&E!==u||(t[m]=S)}),t}const IA=r=>{const e=Da({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:u}=e;if(e.headers=l=Dr.from(l),e.url=DA(NA(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),me.isFormData(t)){if(fr.hasStandardBrowserEnv||fr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(me.isFunction(t.getHeaders)){const f=t.getHeaders(),h=["content-type","content-length"];Object.entries(f).forEach(([m,E])=>{h.includes(m.toLowerCase())&&l.set(m,E)})}}if(fr.hasStandardBrowserEnv&&(n&&me.isFunction(n)&&(n=n(e)),n||n!==!1&&eD(e.url))){const f=s&&a&&tD.read(a);f&&l.set(s,f)}return e},iD=typeof XMLHttpRequest<"u",oD=iD&&function(r){return new Promise(function(t,n){const s=IA(r);let a=s.data;const l=Dr.from(s.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:h}=s,m,E,S,C,v;function R(){C&&C(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let D=new XMLHttpRequest;D.open(s.method.toUpperCase(),s.url,!0),D.timeout=s.timeout;function M(){if(!D)return;const F=Dr.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),K={data:!u||u==="text"||u==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:F,config:r,request:D};TA(function(H){t(H),R()},function(H){n(H),R()},K),D=null}"onloadend"in D?D.onloadend=M:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(M)},D.onabort=function(){D&&(n(new ot("Request aborted",ot.ECONNABORTED,r,D)),D=null)},D.onerror=function(P){const K=P&&P.message?P.message:"Network Error",V=new ot(K,ot.ERR_NETWORK,r,D);V.event=P||null,n(V),D=null},D.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const K=s.transitional||RA;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),n(new ot(P,K.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,r,D)),D=null},a===void 0&&l.setContentType(null),"setRequestHeader"in D&&me.forEach(l.toJSON(),function(P,K){D.setRequestHeader(K,P)}),me.isUndefined(s.withCredentials)||(D.withCredentials=!!s.withCredentials),u&&u!=="json"&&(D.responseType=s.responseType),h&&([S,v]=Ox(h,!0),D.addEventListener("progress",S)),f&&D.upload&&([E,C]=Ox(f),D.upload.addEventListener("progress",E),D.upload.addEventListener("loadend",C)),(s.cancelToken||s.signal)&&(m=F=>{D&&(n(!F||F.type?new fc(null,r,D):F),D.abort(),D=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const N=Q_(s.url);if(N&&fr.protocols.indexOf(N)===-1){n(new ot("Unsupported protocol "+N+":",ot.ERR_BAD_REQUEST,r));return}D.send(a||null)})},sD=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,s;const a=function(h){if(!s){s=!0,u();const m=h instanceof Error?h:this.reason;n.abort(m instanceof ot?m:new fc(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,a(new ot(`timeout ${e} of ms exceeded`,ot.ETIMEDOUT))},e);const u=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),r=null)};r.forEach(h=>h.addEventListener("abort",a));const{signal:f}=n;return f.unsubscribe=()=>me.asap(u),f}},aD=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,s;for(;n<t;)s=n+e,yield r.slice(n,s),n=s},lD=async function*(r,e){for await(const t of cD(r))yield*aD(t,e)},cD=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Pb=(r,e,t,n)=>{const s=lD(r,e);let a=0,l,u=f=>{l||(l=!0,n&&n(f))};return new ReadableStream({async pull(f){try{const{done:h,value:m}=await s.next();if(h){u(),f.close();return}let E=m.byteLength;if(t){let S=a+=E;t(S)}f.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(f){return u(f),s.return()}},{highWaterMark:2})},zb=64*1024,{isFunction:_d}=me,uD=(({Request:r,Response:e})=>({Request:r,Response:e}))(me.global),{ReadableStream:Ub,TextEncoder:Hb}=me.global,Wb=(r,...e)=>{try{return!!r(...e)}catch{return!1}},dD=r=>{r=me.merge.call({skipUndefined:!0},uD,r);const{fetch:e,Request:t,Response:n}=r,s=e?_d(e):typeof fetch=="function",a=_d(t),l=_d(n);if(!s)return!1;const u=s&&_d(Ub),f=s&&(typeof Hb=="function"?(v=>R=>v.encode(R))(new Hb):async v=>new Uint8Array(await new t(v).arrayBuffer())),h=a&&u&&Wb(()=>{let v=!1;const R=new t(fr.origin,{body:new Ub,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!R}),m=l&&u&&Wb(()=>me.isReadableStream(new n("").body)),E={stream:m&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!E[v]&&(E[v]=(R,D)=>{let M=R&&R[v];if(M)return M.call(R);throw new ot(`Response type '${v}' is not supported`,ot.ERR_NOT_SUPPORT,D)})});const S=async v=>{if(v==null)return 0;if(me.isBlob(v))return v.size;if(me.isSpecCompliantForm(v))return(await new t(fr.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(me.isArrayBufferView(v)||me.isArrayBuffer(v))return v.byteLength;if(me.isURLSearchParams(v)&&(v=v+""),me.isString(v))return(await f(v)).byteLength},C=async(v,R)=>{const D=me.toFiniteNumber(v.getContentLength());return D??S(R)};return async v=>{let{url:R,method:D,data:M,signal:N,cancelToken:F,timeout:P,onDownloadProgress:K,onUploadProgress:V,responseType:H,headers:J,withCredentials:q="same-origin",fetchOptions:Z}=IA(v),Q=e||fetch;H=H?(H+"").toLowerCase():"text";let $=sD([N,F&&F.toAbortSignal()],P),T=null;const p=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let b;try{if(V&&h&&D!=="get"&&D!=="head"&&(b=await C(J,M))!==0){let A=new t(R,{method:"POST",body:M,duplex:"half"}),g;if(me.isFormData(M)&&(g=A.headers.get("content-type"))&&J.setContentType(g),A.body){const[w,j]=Ob(b,Ox(jb(V)));M=Pb(A.body,zb,w,j)}}me.isString(q)||(q=q?"include":"omit");const _=a&&"credentials"in t.prototype,O={...Z,signal:$,method:D.toUpperCase(),headers:J.normalize().toJSON(),body:M,duplex:"half",credentials:_?q:void 0};T=a&&new t(R,O);let G=await(a?Q(T,Z):Q(R,O));const z=m&&(H==="stream"||H==="response");if(m&&(K||z&&p)){const A={};["status","statusText","headers"].forEach(X=>{A[X]=G[X]});const g=me.toFiniteNumber(G.headers.get("content-length")),[w,j]=K&&Ob(g,Ox(jb(K),!0))||[];G=new n(Pb(G.body,zb,w,()=>{j&&j(),p&&p()}),A)}H=H||"text";let k=await E[me.findKey(E,H)||"text"](G,v);return!z&&p&&p(),await new Promise((A,g)=>{TA(A,g,{data:k,headers:Dr.from(G.headers),status:G.status,statusText:G.statusText,config:v,request:T})})}catch(_){throw p&&p(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new ot("Network Error",ot.ERR_NETWORK,v,T),{cause:_.cause||_}):ot.from(_,_&&_.code,v,T)}}},xD=new Map,MA=r=>{let e=r&&r.env||{};const{fetch:t,Request:n,Response:s}=e,a=[n,s,t];let l=a.length,u=l,f,h,m=xD;for(;u--;)f=a[u],h=m.get(f),h===void 0&&m.set(f,h=u?new Map:dD(e)),m=h;return h};MA();const Hm={http:R_,xhr:oD,fetch:{get:MA}};me.forEach(Hm,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const qb=r=>`- ${r}`,fD=r=>me.isFunction(r)||r===null||r===!1;function hD(r,e){r=me.isArray(r)?r:[r];const{length:t}=r;let n,s;const a={};for(let l=0;l<t;l++){n=r[l];let u;if(s=n,!fD(n)&&(s=Hm[(u=String(n)).toLowerCase()],s===void 0))throw new ot(`Unknown adapter '${u}'`);if(s&&(me.isFunction(s)||(s=s.get(e))))break;a[u||"#"+l]=s}if(!s){const l=Object.entries(a).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=t?l.length>1?`since :
`+l.map(qb).join(`
`):" "+qb(l[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const OA={getAdapter:hD,adapters:Hm};function ig(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new fc(null,r)}function Kb(r){return ig(r),r.headers=Dr.from(r.headers),r.data=rg.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),OA.getAdapter(r.adapter||tu.adapter,r)(r).then(function(n){return ig(r),n.data=rg.call(r,r.transformResponse,n),n.headers=Dr.from(n.headers),n},function(n){return FA(n)||(ig(r),n&&n.response&&(n.response.data=rg.call(r,r.transformResponse,n.response),n.response.headers=Dr.from(n.response.headers))),Promise.reject(n)})}const jA="1.13.2",uf={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{uf[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const Vb={};uf.transitional=function(e,t,n){function s(a,l){return"[Axios v"+jA+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,u)=>{if(e===!1)throw new ot(s(l," has been removed"+(t?" in "+t:"")),ot.ERR_DEPRECATED);return t&&!Vb[l]&&(Vb[l]=!0,console.warn(s(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,l,u):!0}};uf.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function pD(r,e,t){if(typeof r!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let s=n.length;for(;s-- >0;){const a=n[s],l=e[a];if(l){const u=r[a],f=u===void 0||l(u,a,r);if(f!==!0)throw new ot("option "+a+" must be "+f,ot.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ot("Unknown option "+a,ot.ERR_BAD_OPTION)}}const ux={assertOptions:pD,validators:uf},_i=ux.validators;let Ba=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ib,response:new Ib}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Da(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:a}=t;n!==void 0&&ux.assertOptions(n,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),s!=null&&(me.isFunction(s)?t.paramsSerializer={serialize:s}:ux.assertOptions(s,{encode:_i.function,serialize:_i.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ux.assertOptions(t,{baseUrl:_i.spelling("baseURL"),withXsrfToken:_i.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=a&&me.merge(a.common,a[t.method]);a&&me.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),t.headers=Dr.concat(l,a);const u=[];let f=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(f=f&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const h=[];this.interceptors.response.forEach(function(R){h.push(R.fulfilled,R.rejected)});let m,E=0,S;if(!f){const v=[Kb.bind(this),void 0];for(v.unshift(...u),v.push(...h),S=v.length,m=Promise.resolve(t);E<S;)m=m.then(v[E++],v[E++]);return m}S=u.length;let C=t;for(;E<S;){const v=u[E++],R=u[E++];try{C=v(C)}catch(D){R.call(this,D);break}}try{m=Kb.call(this,C)}catch(v){return Promise.reject(v)}for(E=0,S=h.length;E<S;)m=m.then(h[E++],h[E++]);return m}getUri(e){e=Da(this.defaults,e);const t=NA(e.baseURL,e.url,e.allowAbsoluteUrls);return DA(t,e.params,e.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(e){Ba.prototype[e]=function(t,n){return this.request(Da(n||{},{method:e,url:t,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(e){function t(n){return function(a,l,u){return this.request(Da(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Ba.prototype[e]=t(),Ba.prototype[e+"Form"]=t(!0)});let gD=class LA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(u=>{n.subscribe(u),a=u}).then(s);return l.cancel=function(){n.unsubscribe(a)},l},e(function(a,l,u){n.reason||(n.reason=new fc(a,l,u),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new LA(function(s){e=s}),cancel:e}}};function mD(r){return function(t){return r.apply(null,t)}}function yD(r){return me.isObject(r)&&r.isAxiosError===!0}const M1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(M1).forEach(([r,e])=>{M1[e]=r});function PA(r){const e=new Ba(r),t=gA(Ba.prototype.request,e);return me.extend(t,Ba.prototype,e,{allOwnKeys:!0}),me.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return PA(Da(r,s))},t}const De=PA(tu);De.Axios=Ba;De.CanceledError=fc;De.CancelToken=gD;De.isCancel=FA;De.VERSION=jA;De.toFormData=cf;De.AxiosError=ot;De.Cancel=De.CanceledError;De.all=function(e){return Promise.all(e)};De.spread=mD;De.isAxiosError=yD;De.mergeConfig=Da;De.AxiosHeaders=Dr;De.formToJSON=r=>kA(me.isHTMLForm(r)?new FormData(r):r);De.getAdapter=OA.getAdapter;De.HttpStatusCode=M1;De.default=De;const{Axios:xU,AxiosError:fU,CanceledError:hU,isCancel:pU,CancelToken:gU,VERSION:mU,all:yU,Cancel:EU,isAxiosError:bU,spread:wU,toFormData:AU,AxiosHeaders:CU,HttpStatusCode:vU,formToJSON:BU,getAdapter:SU,mergeConfig:_U}=De;function zA({children:r}){return d.jsxs("div",{className:"auth-page",children:[d.jsx("div",{className:"auth-hero",children:d.jsxs("div",{className:"auth-hero-inner",children:[d.jsxs("div",{className:"auth-logo",children:[d.jsx("div",{className:"auth-logo-icon",children:"BT"}),d.jsxs("div",{children:[d.jsx("div",{className:"auth-logo-title",children:"BlockTrace"}),d.jsx("div",{className:"auth-logo-subtitle",children:"Blockchain Anti-counterfeiting"})]})]}),d.jsxs("h1",{className:"auth-hero-title",children:["Blockchain-based",d.jsx("br",{}),"Traceable Anti-counterfeiting System"]}),d.jsx("p",{className:"auth-hero-text",children:"Secure your products with blockchain-backed authenticity. Track every transaction from manufacturer to end consumer."}),d.jsxs("div",{className:"auth-hero-features",children:[d.jsxs("div",{className:"auth-feature",children:[d.jsx("div",{className:"auth-feature-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"auth-feature-title",children:"Immutable Records"}),d.jsx("div",{className:"auth-feature-text",children:"Every product event recorded on the blockchain."})]})]}),d.jsxs("div",{className:"auth-feature",children:[d.jsx("div",{className:"auth-feature-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"auth-feature-title",children:"QR Verification"}),d.jsx("div",{className:"auth-feature-text",children:"Scan to verify authenticity in seconds."})]})]}),d.jsxs("div",{className:"auth-feature",children:[d.jsx("div",{className:"auth-feature-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"auth-feature-title",children:"Multi-role Access"}),d.jsx("div",{className:"auth-feature-text",children:"Manufacturer, Distributor, Retailer & Consumer."})]})]})]}),d.jsx("div",{className:"auth-hero-footer",children:" 2025 BlockTrace. All rights reserved."})]})}),d.jsx("div",{className:"auth-form-wrapper",children:r})]})}const Ki="http://34.177.85.28:3000",Rr=`${Ki}/users`,ji=`${Ki}/products`,As=`${Ki}/notifications`,Fo=`${Ki}/admins`,Gb=r=>r==="admin"||r==="manufacturer"||r==="distributor"||r==="retailer"||r==="consumer",Yb=r=>{switch(r){case"admin":return"/admin";case"manufacturer":return"/manufacturer";case"distributor":return"/distributor";case"retailer":return"/retailer";case"consumer":return"/consumer";default:return"/login"}};function ED(){const[r,e]=U.useState(""),[t,n]=U.useState(""),[s,a]=U.useState("credentials"),[l,u]=U.useState(null),[f,h]=U.useState(""),[m,E]=U.useState(null),[S,C]=U.useState(null),[v,R]=U.useState(""),[D,M]=U.useState(""),[N,F]=U.useState(""),[P,K]=U.useState(""),[V,H]=U.useState(null),[J,q]=U.useState(null),[Z,Q]=U.useState(!1),[$,T]=U.useState(!1),[p,b]=U.useState(null),_=tn();U.useEffect(()=>{const g=localStorage.getItem("userRole");localStorage.getItem("isAuthenticated")==="true"&&Gb(g)&&_(Yb(g))},[]);const O=async g=>{g.preventDefault(),b(null),T(!0);try{const w=await De.post(`${Rr}/login-account`,{username:r,password:t});if(!w.data.success){b(w.data.error||"Failed to login");return}if(!w.data.role){b("Server did not return your role. Please try again.");return}const j=w.data.userId??w.data.userid??null;u(w.data.otp),E(w.data.role),C(j),localStorage.setItem("pendingRole",w.data.role),j!=null&&!Number.isNaN(j)?localStorage.setItem("pendingUserId",String(j)):localStorage.removeItem("pendingUserId"),a("otp")}catch(w){b(w?.response?.data?.error||w?.response?.data?.details||"Invalid username or password")}finally{T(!1)}},G=g=>{if(g.preventDefault(),b(null),!l){b("No OTP found. Please login again."),a("credentials");return}let w=m;if(!w){const X=localStorage.getItem("pendingRole");Gb(X)&&(w=X)}if(!w){b("User role not found. Please login again."),a("credentials");return}let j=S;if(j==null){const X=localStorage.getItem("pendingUserId");j=X?Number(X):null}parseInt(f,10)===l?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("username",r),localStorage.setItem("userRole",w),j!=null&&!Number.isNaN(j)?localStorage.setItem("userId",String(j)):localStorage.removeItem("userId"),localStorage.removeItem("pendingRole"),localStorage.removeItem("pendingUserId"),_(Yb(w))):b("Incorrect OTP. Please try again.")},z=async g=>{g.preventDefault(),b(null),T(!0);try{const w=await De.post(`${Rr}/forgot-password`,{username:v});if(!w.data.success){b(w.data.error||"User not found");return}const j=w.data.userId??w.data.userid??null;H(w.data.otp),q(j),a("forgot-password-otp")}catch(w){b(w?.response?.data?.error||w?.response?.data?.details||"User not found")}finally{T(!1)}},k=g=>{if(g.preventDefault(),b(null),!V){b("No OTP found. Please try again."),a("forgot-password");return}if(parseInt(D,10)!==V){b("Incorrect OTP. Please try again.");return}Q(!0),a("forgot-password-reset")},A=async g=>{if(g.preventDefault(),b(null),T(!0),!Z){b("Please verify OTP first."),T(!1);return}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(N)){b("Password must be at least 8 characters and include at least 1 uppercase letter, 1 lowercase letter, and 1 number."),T(!1);return}if(N!==P){b("Passwords do not match."),T(!1);return}if(!J){b("User ID not found. Please try again."),T(!1);return}try{const j=await De.put(`${Rr}/update-password`,{userId:J,newPassword:N});j.data?.success?(b(null),alert("Password reset successfully. You can now login with your new password."),a("credentials"),R(""),M(""),F(""),K(""),H(null),q(null),Q(!1)):b(j.data?.error||"Failed to reset password.")}catch(j){b(j?.response?.data?.error||"Failed to reset password.")}finally{T(!1)}};return d.jsx(zA,{children:d.jsxs("div",{className:"auth-panel",children:[d.jsxs("div",{className:"auth-tabs",children:[d.jsx("button",{className:"auth-tab auth-tab-active",children:"Login"}),d.jsx(Xl,{to:"/register",className:"auth-tab auth-tab-link",children:"Register"})]}),d.jsxs("div",{className:"auth-card",children:[d.jsxs("div",{className:"auth-card-header",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"auth-card-title",children:s==="credentials"?"Welcome back":s==="otp"?"Enter OTP":s==="forgot-password"?"Forgot Password":s==="forgot-password-otp"?"Verify OTP":"Reset Password"}),d.jsx("p",{className:"auth-card-subtitle",children:s==="credentials"?"Login to access your BlockTrace account.":s==="otp"?"We've sent a one-time password (OTP) to your email.":s==="forgot-password"?"Enter your username to reset your password.":s==="forgot-password-otp"?"Enter the OTP sent to your email.":"Enter your new password."})]}),d.jsx("div",{className:"auth-info-icon",children:"i"})]}),s==="credentials"&&d.jsxs("form",{onSubmit:O,className:"auth-form",children:[d.jsxs("label",{className:"auth-label",children:["Username",d.jsx("input",{className:"auth-input",type:"text",placeholder:"Enter your username",value:r,onChange:g=>e(g.target.value),required:!0})]}),d.jsxs("label",{className:"auth-label",children:[d.jsx("div",{className:"auth-label-row",children:d.jsx("span",{children:"Password"})}),d.jsx("input",{className:"auth-input",type:"password",placeholder:"Enter your password",value:t,onChange:g=>n(g.target.value),required:!0}),d.jsx("div",{children:d.jsx("button",{type:"button",className:"auth-link-button",onClick:()=>{a("forgot-password"),b(null)},children:"Forgot password?"})})]}),p&&d.jsx("p",{className:"auth-error-text",children:p}),d.jsx("button",{type:"submit",className:"auth-submit",disabled:$,children:$?"Logging in...":"Continue"})]}),s==="forgot-password"&&d.jsxs("form",{onSubmit:z,className:"auth-form",children:[d.jsxs("label",{className:"auth-label",children:["Username",d.jsx("input",{className:"auth-input",type:"text",placeholder:"Enter your username",value:v,onChange:g=>R(g.target.value),required:!0})]}),p&&d.jsx("p",{className:"auth-error-text",children:p}),d.jsx("button",{type:"submit",className:"auth-submit",disabled:$,children:$?"Sending OTP...":"Send OTP"}),d.jsx("button",{type:"button",className:"auth-link-button",onClick:()=>{a("credentials"),R(""),b(null)},children:"Back to login"})]}),s==="forgot-password-otp"&&d.jsxs("form",{onSubmit:k,className:"auth-form",children:[d.jsxs("label",{className:"auth-label",children:["OTP",d.jsx("input",{className:"auth-input",type:"number",placeholder:"Enter the OTP sent to your email",value:D,onChange:g=>M(g.target.value),required:!0})]}),p&&d.jsx("p",{className:"auth-error-text",children:p}),d.jsx("button",{type:"submit",className:"auth-submit",children:"Verify OTP"}),d.jsx("button",{type:"button",className:"auth-link-button",onClick:()=>{a("forgot-password"),M(""),b(null)},children:"Back"})]}),s==="forgot-password-reset"&&d.jsxs("form",{onSubmit:A,className:"auth-form",children:[d.jsxs("label",{className:"auth-label",children:["New Password",d.jsx("input",{className:"auth-input",type:"password",placeholder:"Enter new password",value:N,onChange:g=>F(g.target.value),required:!0}),d.jsx("small",{className:"auth-helper-text",children:"Must be at least 8 characters and include 1 uppercase letter, 1 lowercase letter, and 1 number."})]}),d.jsxs("label",{className:"auth-label",children:["Confirm Password",d.jsx("input",{className:"auth-input",type:"password",placeholder:"Confirm new password",value:P,onChange:g=>K(g.target.value),required:!0})]}),p&&d.jsx("p",{className:"auth-error-text",children:p}),d.jsx("button",{type:"submit",className:"auth-submit",disabled:$,children:$?"Resetting...":"Reset Password"}),d.jsx("button",{type:"button",className:"auth-link-button",onClick:()=>{a("credentials"),R(""),M(""),F(""),K(""),H(null),q(null),Q(!1),b(null)},children:"Back to login"})]}),s==="otp"&&d.jsxs("form",{onSubmit:G,className:"auth-form",children:[d.jsxs("label",{className:"auth-label",children:["OTP",d.jsx("input",{className:"auth-input",type:"number",placeholder:"Enter the OTP sent to your email",value:f,onChange:g=>h(g.target.value),required:!0})]}),p&&d.jsx("p",{className:"auth-error-text",children:p}),d.jsx("button",{type:"submit",className:"auth-submit",children:"Verify OTP"}),d.jsx("button",{type:"button",className:"auth-link-button",onClick:()=>{a("credentials"),h(""),u(null),E(null),C(null),localStorage.removeItem("pendingRole"),localStorage.removeItem("pendingUserId")},children:"Back to login"})]}),s==="credentials"&&d.jsxs("p",{className:"auth-footer-text",children:["Don't have an account?"," ",d.jsx(Xl,{to:"/register",className:"auth-link",children:"Register"})]})]})]})})}const _l=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function nu(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function U0(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function jo(r,...e){if(!nu(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function UA(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");U0(r.outputLen),U0(r.blockLen)}function ec(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function HA(r,e){jo(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function bD(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function ks(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function og(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Di(r,e){return r<<32-e|r>>>e}const wD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function AD(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function CD(r){for(let e=0;e<r.length;e++)r[e]=AD(r[e]);return r}const $b=wD?r=>r:CD,WA=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",vD=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Sa(r){if(jo(r),WA)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=vD[r[t]];return e}const go={_0:48,_9:57,A:65,F:70,a:97,f:102};function Zb(r){if(r>=go._0&&r<=go._9)return r-go._0;if(r>=go.A&&r<=go.F)return r-(go.A-10);if(r>=go.a&&r<=go.f)return r-(go.a-10)}function jx(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(WA)return Uint8Array.fromHex(r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(t);for(let s=0,a=0;s<t;s++,a+=2){const l=Zb(r.charCodeAt(a)),u=Zb(r.charCodeAt(a+1));if(l===void 0||u===void 0){const f=r[a]+r[a+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+a)}n[s]=l*16+u}return n}function BD(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function df(r){return typeof r=="string"&&(r=BD(r)),jo(r),r}function Li(...r){let e=0;for(let n=0;n<r.length;n++){const s=r[n];jo(s),e+=s.length}const t=new Uint8Array(e);for(let n=0,s=0;n<r.length;n++){const a=r[n];t.set(a,s),s+=a.length}return t}class Wm{}function qm(r){const e=n=>r().update(df(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Km(r=32){if(_l&&typeof _l.getRandomValues=="function")return _l.getRandomValues(new Uint8Array(r));if(_l&&typeof _l.randomBytes=="function")return Uint8Array.from(_l.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}function SD(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const s=BigInt(32),a=BigInt(4294967295),l=Number(t>>s&a),u=Number(t&a),f=n?4:0,h=n?0:4;r.setUint32(e+f,l,n),r.setUint32(e+h,u,n)}function _D(r,e,t){return r&e^~r&t}function DD(r,e,t){return r&e^r&t^e&t}class qA extends Wm{constructor(e,t,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=og(this.buffer)}update(e){ec(this),e=df(e),jo(e);const{view:t,buffer:n,blockLen:s}=this,a=e.length;for(let l=0;l<a;){const u=Math.min(s-this.pos,a-l);if(u===s){const f=og(e);for(;s<=a-l;l+=s)this.process(f,l);continue}n.set(e.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ec(this),HA(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:a}=this;let{pos:l}=this;t[l++]=128,ks(this.buffer.subarray(l)),this.padOffset>s-l&&(this.process(n,0),l=0);for(let E=l;E<s;E++)t[E]=0;SD(n,s-8,BigInt(this.length*8),a),this.process(n,0);const u=og(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,m=this.get();if(h>m.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<h;E++)u.setUint32(4*E,m[E],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:s,finished:a,destroyed:l,pos:u}=this;return e.destroyed=l,e.finished=a,e.length=s,e.pos=u,s%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const fs=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Dd=BigInt(2**32-1),Qb=BigInt(32);function RD(r,e=!1){return e?{h:Number(r&Dd),l:Number(r>>Qb&Dd)}:{h:Number(r>>Qb&Dd)|0,l:Number(r&Dd)|0}}function KA(r,e=!1){const t=r.length;let n=new Uint32Array(t),s=new Uint32Array(t);for(let a=0;a<t;a++){const{h:l,l:u}=RD(r[a],e);[n[a],s[a]]=[l,u]}return[n,s]}const Xb=(r,e,t)=>r>>>t,Jb=(r,e,t)=>r<<32-t|e>>>t,Dl=(r,e,t)=>r>>>t|e<<32-t,Rl=(r,e,t)=>r<<32-t|e>>>t,Rd=(r,e,t)=>r<<64-t|e>>>t-32,kd=(r,e,t)=>r>>>t-32|e<<64-t,kD=(r,e,t)=>r<<t|e>>>32-t,FD=(r,e,t)=>e<<t|r>>>32-t,TD=(r,e,t)=>e<<t-32|r>>>64-t,ND=(r,e,t)=>r<<t-32|e>>>64-t;function mo(r,e,t,n){const s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}const ID=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),MD=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,OD=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),jD=(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0,LD=(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0),PD=(r,e,t,n,s,a)=>e+t+n+s+a+(r/2**32|0)|0,zD=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hs=new Uint32Array(64);class UD extends qA{constructor(e=32){super(64,e,8,!1),this.A=fs[0]|0,this.B=fs[1]|0,this.C=fs[2]|0,this.D=fs[3]|0,this.E=fs[4]|0,this.F=fs[5]|0,this.G=fs[6]|0,this.H=fs[7]|0}get(){const{A:e,B:t,C:n,D:s,E:a,F:l,G:u,H:f}=this;return[e,t,n,s,a,l,u,f]}set(e,t,n,s,a,l,u,f){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=a|0,this.F=l|0,this.G=u|0,this.H=f|0}process(e,t){for(let E=0;E<16;E++,t+=4)hs[E]=e.getUint32(t,!1);for(let E=16;E<64;E++){const S=hs[E-15],C=hs[E-2],v=Di(S,7)^Di(S,18)^S>>>3,R=Di(C,17)^Di(C,19)^C>>>10;hs[E]=R+hs[E-7]+v+hs[E-16]|0}let{A:n,B:s,C:a,D:l,E:u,F:f,G:h,H:m}=this;for(let E=0;E<64;E++){const S=Di(u,6)^Di(u,11)^Di(u,25),C=m+S+_D(u,f,h)+zD[E]+hs[E]|0,R=(Di(n,2)^Di(n,13)^Di(n,22))+DD(n,s,a)|0;m=h,h=f,f=u,u=l+C|0,l=a,a=s,s=n,n=C+R|0}n=n+this.A|0,s=s+this.B|0,a=a+this.C|0,l=l+this.D|0,u=u+this.E|0,f=f+this.F|0,h=h+this.G|0,m=m+this.H|0,this.set(n,s,a,l,u,f,h,m)}roundClean(){ks(hs)}destroy(){this.set(0,0,0,0,0,0,0,0),ks(this.buffer)}}const VA=KA(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),HD=VA[0],WD=VA[1],ps=new Uint32Array(80),gs=new Uint32Array(80);class qD extends qA{constructor(e=64){super(128,e,16,!1),this.Ah=sr[0]|0,this.Al=sr[1]|0,this.Bh=sr[2]|0,this.Bl=sr[3]|0,this.Ch=sr[4]|0,this.Cl=sr[5]|0,this.Dh=sr[6]|0,this.Dl=sr[7]|0,this.Eh=sr[8]|0,this.El=sr[9]|0,this.Fh=sr[10]|0,this.Fl=sr[11]|0,this.Gh=sr[12]|0,this.Gl=sr[13]|0,this.Hh=sr[14]|0,this.Hl=sr[15]|0}get(){const{Ah:e,Al:t,Bh:n,Bl:s,Ch:a,Cl:l,Dh:u,Dl:f,Eh:h,El:m,Fh:E,Fl:S,Gh:C,Gl:v,Hh:R,Hl:D}=this;return[e,t,n,s,a,l,u,f,h,m,E,S,C,v,R,D]}set(e,t,n,s,a,l,u,f,h,m,E,S,C,v,R,D){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=a|0,this.Cl=l|0,this.Dh=u|0,this.Dl=f|0,this.Eh=h|0,this.El=m|0,this.Fh=E|0,this.Fl=S|0,this.Gh=C|0,this.Gl=v|0,this.Hh=R|0,this.Hl=D|0}process(e,t){for(let F=0;F<16;F++,t+=4)ps[F]=e.getUint32(t),gs[F]=e.getUint32(t+=4);for(let F=16;F<80;F++){const P=ps[F-15]|0,K=gs[F-15]|0,V=Dl(P,K,1)^Dl(P,K,8)^Xb(P,K,7),H=Rl(P,K,1)^Rl(P,K,8)^Jb(P,K,7),J=ps[F-2]|0,q=gs[F-2]|0,Z=Dl(J,q,19)^Rd(J,q,61)^Xb(J,q,6),Q=Rl(J,q,19)^kd(J,q,61)^Jb(J,q,6),$=OD(H,Q,gs[F-7],gs[F-16]),T=jD($,V,Z,ps[F-7],ps[F-16]);ps[F]=T|0,gs[F]=$|0}let{Ah:n,Al:s,Bh:a,Bl:l,Ch:u,Cl:f,Dh:h,Dl:m,Eh:E,El:S,Fh:C,Fl:v,Gh:R,Gl:D,Hh:M,Hl:N}=this;for(let F=0;F<80;F++){const P=Dl(E,S,14)^Dl(E,S,18)^Rd(E,S,41),K=Rl(E,S,14)^Rl(E,S,18)^kd(E,S,41),V=E&C^~E&R,H=S&v^~S&D,J=LD(N,K,H,WD[F],gs[F]),q=PD(J,M,P,V,HD[F],ps[F]),Z=J|0,Q=Dl(n,s,28)^Rd(n,s,34)^Rd(n,s,39),$=Rl(n,s,28)^kd(n,s,34)^kd(n,s,39),T=n&a^n&u^a&u,p=s&l^s&f^l&f;M=R|0,N=D|0,R=C|0,D=v|0,C=E|0,v=S|0,{h:E,l:S}=mo(h|0,m|0,q|0,Z|0),h=u|0,m=f|0,u=a|0,f=l|0,a=n|0,l=s|0;const b=ID(Z,$,p);n=MD(b,q,Q,T),s=b|0}({h:n,l:s}=mo(this.Ah|0,this.Al|0,n|0,s|0)),{h:a,l}=mo(this.Bh|0,this.Bl|0,a|0,l|0),{h:u,l:f}=mo(this.Ch|0,this.Cl|0,u|0,f|0),{h,l:m}=mo(this.Dh|0,this.Dl|0,h|0,m|0),{h:E,l:S}=mo(this.Eh|0,this.El|0,E|0,S|0),{h:C,l:v}=mo(this.Fh|0,this.Fl|0,C|0,v|0),{h:R,l:D}=mo(this.Gh|0,this.Gl|0,R|0,D|0),{h:M,l:N}=mo(this.Hh|0,this.Hl|0,M|0,N|0),this.set(n,s,a,l,u,f,h,m,E,S,C,v,R,D,M,N)}roundClean(){ks(ps,gs)}destroy(){ks(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const GA=qm(()=>new UD),KD=qm(()=>new qD);const Vm=BigInt(0),O1=BigInt(1);function Ra(r,e=""){if(typeof r!="boolean"){const t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof r)}return r}function xi(r,e,t=""){const n=nu(r),s=r?.length,a=e!==void 0;if(!n||a&&s!==e){const l=t&&`"${t}" `,u=a?` of length ${e}`:"",f=n?`length=${s}`:`type=${typeof r}`;throw new Error(l+"expected Uint8Array"+u+", got "+f)}return r}function Fd(r){const e=r.toString(16);return e.length&1?"0"+e:e}function YA(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?Vm:BigInt("0x"+r)}function xf(r){return YA(Sa(r))}function H0(r){return jo(r),YA(Sa(Uint8Array.from(r).reverse()))}function Gm(r,e){return jx(r.toString(16).padStart(e*2,"0"))}function $A(r,e){return Gm(r,e).reverse()}function _n(r,e,t){let n;if(typeof e=="string")try{n=jx(e)}catch(a){throw new Error(r+" must be hex string or Uint8Array, cause: "+a)}else if(nu(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const s=n.length;if(typeof t=="number"&&s!==t)throw new Error(r+" of length "+t+" expected, got "+s);return n}function e2(r){return Uint8Array.from(r)}const sg=r=>typeof r=="bigint"&&Vm<=r;function VD(r,e,t){return sg(r)&&sg(e)&&sg(t)&&e<=r&&r<t}function j1(r,e,t,n){if(!VD(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}function ZA(r){let e;for(e=0;r>Vm;r>>=O1,e+=1);return e}const ru=r=>(O1<<BigInt(r))-O1;function GD(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const n=C=>new Uint8Array(C),s=C=>Uint8Array.of(C);let a=n(r),l=n(r),u=0;const f=()=>{a.fill(1),l.fill(0),u=0},h=(...C)=>t(l,a,...C),m=(C=n(0))=>{l=h(s(0),C),a=h(),C.length!==0&&(l=h(s(1),C),a=h())},E=()=>{if(u++>=1e3)throw new Error("drbg: tried 1000 values");let C=0;const v=[];for(;C<e;){a=h();const R=a.slice();v.push(R),C+=a.length}return Li(...v)};return(C,v)=>{f(),m(C);let R;for(;!(R=v(E()));)m();return f(),R}}function iu(r,e,t={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function n(s,a,l){const u=r[s];if(l&&u===void 0)return;const f=typeof u;if(f!==a||u===null)throw new Error(`param "${s}" is invalid: expected ${a}, got ${f}`)}Object.entries(e).forEach(([s,a])=>n(s,a,!1)),Object.entries(t).forEach(([s,a])=>n(s,a,!0))}function Lx(r){const e=new WeakMap;return(t,...n)=>{const s=e.get(t);if(s!==void 0)return s;const a=r(t,...n);return e.set(t,a),a}}const Sr=BigInt(0),ir=BigInt(1),fa=BigInt(2),QA=BigInt(3),XA=BigInt(4),JA=BigInt(5),YD=BigInt(7),e5=BigInt(8),$D=BigInt(9),t5=BigInt(16);function zn(r,e){const t=r%e;return t>=Sr?t:e+t}function Sn(r,e,t){let n=r;for(;e-- >Sr;)n*=n,n%=t;return n}function t2(r,e){if(r===Sr)throw new Error("invert: expected non-zero number");if(e<=Sr)throw new Error("invert: expected positive modulus, got "+e);let t=zn(r,e),n=e,s=Sr,a=ir;for(;t!==Sr;){const u=n/t,f=n%t,h=s-a*u;n=t,t=f,s=a,a=h}if(n!==ir)throw new Error("invert: does not exist");return zn(s,e)}function Ym(r,e,t){if(!r.eql(r.sqr(e),t))throw new Error("Cannot find square root")}function n5(r,e){const t=(r.ORDER+ir)/XA,n=r.pow(e,t);return Ym(r,n,e),n}function ZD(r,e){const t=(r.ORDER-JA)/e5,n=r.mul(e,fa),s=r.pow(n,t),a=r.mul(e,s),l=r.mul(r.mul(a,fa),s),u=r.mul(a,r.sub(l,r.ONE));return Ym(r,u,e),u}function QD(r){const e=Ma(r),t=r5(r),n=t(e,e.neg(e.ONE)),s=t(e,n),a=t(e,e.neg(n)),l=(r+YD)/t5;return(u,f)=>{let h=u.pow(f,l),m=u.mul(h,n);const E=u.mul(h,s),S=u.mul(h,a),C=u.eql(u.sqr(m),f),v=u.eql(u.sqr(E),f);h=u.cmov(h,m,C),m=u.cmov(S,E,v);const R=u.eql(u.sqr(m),f),D=u.cmov(h,m,R);return Ym(u,D,f),D}}function r5(r){if(r<QA)throw new Error("sqrt is not defined for small field");let e=r-ir,t=0;for(;e%fa===Sr;)e/=fa,t++;let n=fa;const s=Ma(r);for(;n2(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return n5;let a=s.pow(n,e);const l=(e+ir)/fa;return function(f,h){if(f.is0(h))return h;if(n2(f,h)!==1)throw new Error("Cannot find square root");let m=t,E=f.mul(f.ONE,a),S=f.pow(h,e),C=f.pow(h,l);for(;!f.eql(S,f.ONE);){if(f.is0(S))return f.ZERO;let v=1,R=f.sqr(S);for(;!f.eql(R,f.ONE);)if(v++,R=f.sqr(R),v===m)throw new Error("Cannot find square root");const D=ir<<BigInt(m-v-1),M=f.pow(E,D);m=v,E=f.sqr(M),S=f.mul(S,E),C=f.mul(C,M)}return C}}function XD(r){return r%XA===QA?n5:r%e5===JA?ZD:r%t5===$D?QD(r):r5(r)}const JD=(r,e)=>(zn(r,e)&ir)===ir,eR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tR(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=eR.reduce((n,s)=>(n[s]="function",n),e);return iu(r,t),r}function nR(r,e,t){if(t<Sr)throw new Error("invalid exponent, negatives unsupported");if(t===Sr)return r.ONE;if(t===ir)return e;let n=r.ONE,s=e;for(;t>Sr;)t&ir&&(n=r.mul(n,s)),s=r.sqr(s),t>>=ir;return n}function i5(r,e,t=!1){const n=new Array(e.length).fill(t?r.ZERO:void 0),s=e.reduce((l,u,f)=>r.is0(u)?l:(n[f]=l,r.mul(l,u)),r.ONE),a=r.inv(s);return e.reduceRight((l,u,f)=>r.is0(u)?l:(n[f]=r.mul(l,n[f]),r.mul(l,u)),a),n}function n2(r,e){const t=(r.ORDER-ir)/fa,n=r.pow(e,t),s=r.eql(n,r.ONE),a=r.eql(n,r.ZERO),l=r.eql(n,r.neg(r.ONE));if(!s&&!a&&!l)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function o5(r,e){e!==void 0&&U0(e);const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function Ma(r,e,t=!1,n={}){if(r<=Sr)throw new Error("invalid field: expected ORDER > 0, got "+r);let s,a,l=!1,u;if(typeof e=="object"&&e!=null){if(n.sqrt||t)throw new Error("cannot specify opts in two arguments");const S=e;S.BITS&&(s=S.BITS),S.sqrt&&(a=S.sqrt),typeof S.isLE=="boolean"&&(t=S.isLE),typeof S.modFromBytes=="boolean"&&(l=S.modFromBytes),u=S.allowedLengths}else typeof e=="number"&&(s=e),n.sqrt&&(a=n.sqrt);const{nBitLength:f,nByteLength:h}=o5(r,s);if(h>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let m;const E=Object.freeze({ORDER:r,isLE:t,BITS:f,BYTES:h,MASK:ru(f),ZERO:Sr,ONE:ir,allowedLengths:u,create:S=>zn(S,r),isValid:S=>{if(typeof S!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof S);return Sr<=S&&S<r},is0:S=>S===Sr,isValidNot0:S=>!E.is0(S)&&E.isValid(S),isOdd:S=>(S&ir)===ir,neg:S=>zn(-S,r),eql:(S,C)=>S===C,sqr:S=>zn(S*S,r),add:(S,C)=>zn(S+C,r),sub:(S,C)=>zn(S-C,r),mul:(S,C)=>zn(S*C,r),pow:(S,C)=>nR(E,S,C),div:(S,C)=>zn(S*t2(C,r),r),sqrN:S=>S*S,addN:(S,C)=>S+C,subN:(S,C)=>S-C,mulN:(S,C)=>S*C,inv:S=>t2(S,r),sqrt:a||(S=>(m||(m=XD(r)),m(E,S))),toBytes:S=>t?$A(S,h):Gm(S,h),fromBytes:(S,C=!0)=>{if(u){if(!u.includes(S.length)||S.length>h)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+S.length);const R=new Uint8Array(h);R.set(S,t?0:R.length-S.length),S=R}if(S.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+S.length);let v=t?H0(S):xf(S);if(l&&(v=zn(v,r)),!C&&!E.isValid(v))throw new Error("invalid field element: outside of range 0..ORDER");return v},invertBatch:S=>i5(E,S),cmov:(S,C,v)=>v?C:S});return Object.freeze(E)}function s5(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function a5(r){const e=s5(r);return e+Math.ceil(e/2)}function rR(r,e,t=!1){const n=r.length,s=s5(e),a=a5(e);if(n<16||n<a||n>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+n);const l=t?H0(r):xf(r),u=zn(l,e-ir)+ir;return t?$A(u,s):Gm(u,s)}const tc=BigInt(0),ha=BigInt(1);function Px(r,e){const t=e.negate();return r?t:e}function pa(r,e){const t=i5(r.Fp,e.map(n=>n.Z));return e.map((n,s)=>r.fromAffine(n.toAffine(t[s])))}function l5(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function ag(r,e){l5(r,e);const t=Math.ceil(e/r)+1,n=2**(r-1),s=2**r,a=ru(r),l=BigInt(r);return{windows:t,windowSize:n,mask:a,maxNumber:s,shiftBy:l}}function r2(r,e,t){const{windowSize:n,mask:s,maxNumber:a,shiftBy:l}=t;let u=Number(r&s),f=r>>l;u>n&&(u-=a,f+=ha);const h=e*n,m=h+Math.abs(u)-1,E=u===0,S=u<0,C=e%2!==0;return{nextN:f,offset:m,isZero:E,isNeg:S,isNegF:C,offsetF:h}}function iR(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}function oR(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}const lg=new WeakMap,c5=new WeakMap;function cg(r){return c5.get(r)||1}function i2(r){if(r!==tc)throw new Error("invalid wNAF")}class u5{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let s=e;for(;t>tc;)t&ha&&(n=n.add(s)),s=s.double(),t>>=ha;return n}precomputeWindow(e,t){const{windows:n,windowSize:s}=ag(t,this.bits),a=[];let l=e,u=l;for(let f=0;f<n;f++){u=l,a.push(u);for(let h=1;h<s;h++)u=u.add(l),a.push(u);l=u.double()}return a}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,a=this.BASE;const l=ag(e,this.bits);for(let u=0;u<l.windows;u++){const{nextN:f,offset:h,isZero:m,isNeg:E,isNegF:S,offsetF:C}=r2(n,u,l);n=f,m?a=a.add(Px(S,t[C])):s=s.add(Px(E,t[h]))}return i2(n),{p:s,f:a}}wNAFUnsafe(e,t,n,s=this.ZERO){const a=ag(e,this.bits);for(let l=0;l<a.windows&&n!==tc;l++){const{nextN:u,offset:f,isZero:h,isNeg:m}=r2(n,l,a);if(n=u,!h){const E=t[f];s=s.add(m?E.negate():E)}}return i2(n),s}getPrecomputes(e,t,n){let s=lg.get(t);return s||(s=this.precomputeWindow(t,e),e!==1&&(typeof n=="function"&&(s=n(s)),lg.set(t,s))),s}cached(e,t,n){const s=cg(e);return this.wNAF(s,this.getPrecomputes(s,e,n),t)}unsafe(e,t,n,s){const a=cg(e);return a===1?this._unsafeLadder(e,t,s):this.wNAFUnsafe(a,this.getPrecomputes(a,e,n),t,s)}createCache(e,t){l5(t,this.bits),c5.set(e,t),lg.delete(e)}hasCache(e){return cg(e)!==1}}function sR(r,e,t,n){let s=e,a=r.ZERO,l=r.ZERO;for(;t>tc||n>tc;)t&ha&&(a=a.add(s)),n&ha&&(l=l.add(s)),s=s.double(),t>>=ha,n>>=ha;return{p1:a,p2:l}}function d5(r,e,t,n){iR(t,r),oR(n,e);const s=t.length,a=n.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const l=r.ZERO,u=ZA(BigInt(s));let f=1;u>12?f=u-3:u>4?f=u-2:u>0&&(f=2);const h=ru(f),m=new Array(Number(h)+1).fill(l),E=Math.floor((e.BITS-1)/f)*f;let S=l;for(let C=E;C>=0;C-=f){m.fill(l);for(let R=0;R<a;R++){const D=n[R],M=Number(D>>BigInt(C)&h);m[M]=m[M].add(t[R])}let v=l;for(let R=m.length-1,D=l;R>0;R--)D=D.add(m[R]),v=v.add(D);if(S=S.add(v),C!==0)for(let R=0;R<f;R++)S=S.double()}return S}function o2(r,e,t){if(e){if(e.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return tR(e),e}else return Ma(r,{isLE:t})}function x5(r,e,t={},n){if(n===void 0&&(n=r==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${r} CURVE object`);for(const f of["p","n","h"]){const h=e[f];if(!(typeof h=="bigint"&&h>tc))throw new Error(`CURVE.${f} must be positive bigint`)}const s=o2(e.p,t.Fp,n),a=o2(e.n,t.Fn,n),u=["Gx","Gy","a",r==="weierstrass"?"b":"d"];for(const f of u)if(!s.isValid(e[f]))throw new Error(`CURVE.${f} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:a}}const ms=BigInt(0),Gn=BigInt(1),ug=BigInt(2),aR=BigInt(8);function lR(r,e,t,n){const s=r.sqr(t),a=r.sqr(n),l=r.add(r.mul(e.a,s),a),u=r.add(r.ONE,r.mul(e.d,r.mul(s,a)));return r.eql(l,u)}function cR(r,e={}){const t=x5("edwards",r,e,e.FpFnLE),{Fp:n,Fn:s}=t;let a=t.CURVE;const{h:l}=a;iu(e,{},{uvRatio:"function"});const u=ug<<BigInt(s.BYTES*8)-Gn,f=D=>n.create(D),h=e.uvRatio||((D,M)=>{try{return{isValid:!0,value:n.sqrt(n.div(D,M))}}catch{return{isValid:!1,value:ms}}});if(!lR(n,a,a.Gx,a.Gy))throw new Error("bad curve params: generator point");function m(D,M,N=!1){const F=N?Gn:ms;return j1("coordinate "+D,M,F,u),M}function E(D){if(!(D instanceof v))throw new Error("ExtendedPoint expected")}const S=Lx((D,M)=>{const{X:N,Y:F,Z:P}=D,K=D.is0();M==null&&(M=K?aR:n.inv(P));const V=f(N*M),H=f(F*M),J=n.mul(P,M);if(K)return{x:ms,y:Gn};if(J!==Gn)throw new Error("invZ was invalid");return{x:V,y:H}}),C=Lx(D=>{const{a:M,d:N}=a;if(D.is0())throw new Error("bad point: ZERO");const{X:F,Y:P,Z:K,T:V}=D,H=f(F*F),J=f(P*P),q=f(K*K),Z=f(q*q),Q=f(H*M),$=f(q*f(Q+J)),T=f(Z+f(N*f(H*J)));if($!==T)throw new Error("bad point: equation left != right (1)");const p=f(F*P),b=f(K*V);if(p!==b)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(M,N,F,P){this.X=m("x",M),this.Y=m("y",N),this.Z=m("z",F,!0),this.T=m("t",P),Object.freeze(this)}static CURVE(){return a}static fromAffine(M){if(M instanceof v)throw new Error("extended point not allowed");const{x:N,y:F}=M||{};return m("x",N),m("y",F),new v(N,F,Gn,f(N*F))}static fromBytes(M,N=!1){const F=n.BYTES,{a:P,d:K}=a;M=e2(xi(M,F,"point")),Ra(N,"zip215");const V=e2(M),H=M[F-1];V[F-1]=H&-129;const J=H0(V),q=N?u:n.ORDER;j1("point.y",J,ms,q);const Z=f(J*J),Q=f(Z-Gn),$=f(K*Z-P);let{isValid:T,value:p}=h(Q,$);if(!T)throw new Error("bad point: invalid y coordinate");const b=(p&Gn)===Gn,_=(H&128)!==0;if(!N&&p===ms&&_)throw new Error("bad point: x=0 and x_0=1");return _!==b&&(p=f(-p)),v.fromAffine({x:p,y:J})}static fromHex(M,N=!1){return v.fromBytes(_n("point",M),N)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(M=8,N=!0){return R.createCache(this,M),N||this.multiply(ug),this}assertValidity(){C(this)}equals(M){E(M);const{X:N,Y:F,Z:P}=this,{X:K,Y:V,Z:H}=M,J=f(N*H),q=f(K*P),Z=f(F*H),Q=f(V*P);return J===q&&Z===Q}is0(){return this.equals(v.ZERO)}negate(){return new v(f(-this.X),this.Y,this.Z,f(-this.T))}double(){const{a:M}=a,{X:N,Y:F,Z:P}=this,K=f(N*N),V=f(F*F),H=f(ug*f(P*P)),J=f(M*K),q=N+F,Z=f(f(q*q)-K-V),Q=J+V,$=Q-H,T=J-V,p=f(Z*$),b=f(Q*T),_=f(Z*T),O=f($*Q);return new v(p,b,O,_)}add(M){E(M);const{a:N,d:F}=a,{X:P,Y:K,Z:V,T:H}=this,{X:J,Y:q,Z,T:Q}=M,$=f(P*J),T=f(K*q),p=f(H*F*Q),b=f(V*Z),_=f((P+K)*(J+q)-$-T),O=b-p,G=b+p,z=f(T-N*$),k=f(_*O),A=f(G*z),g=f(_*z),w=f(O*G);return new v(k,A,w,g)}subtract(M){return this.add(M.negate())}multiply(M){if(!s.isValidNot0(M))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:N,f:F}=R.cached(this,M,P=>pa(v,P));return pa(v,[N,F])[0]}multiplyUnsafe(M,N=v.ZERO){if(!s.isValid(M))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return M===ms?v.ZERO:this.is0()||M===Gn?this:R.unsafe(this,M,F=>pa(v,F),N)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return R.unsafe(this,a.n).is0()}toAffine(M){return S(this,M)}clearCofactor(){return l===Gn?this:this.multiplyUnsafe(l)}toBytes(){const{x:M,y:N}=this.toAffine(),F=n.toBytes(N);return F[F.length-1]|=M&Gn?128:0,F}toHex(){return Sa(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(M){return pa(v,M)}static msm(M,N){return d5(v,s,M,N)}_setWindowSize(M){this.precompute(M)}toRawBytes(){return this.toBytes()}}v.BASE=new v(a.Gx,a.Gy,Gn,f(a.Gx*a.Gy)),v.ZERO=new v(ms,Gn,Gn,ms),v.Fp=n,v.Fn=s;const R=new u5(v,s.BITS);return v.BASE.precompute(8),v}function uR(r,e,t={}){if(typeof e!="function")throw new Error('"hash" function param is required');iu(t,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n}=t,{BASE:s,Fp:a,Fn:l}=r,u=t.randomBytes||Km,f=t.adjustScalarBytes||(q=>q),h=t.domain||((q,Z,Q)=>{if(Ra(Q,"phflag"),Z.length||Q)throw new Error("Contexts/pre-hash are not supported");return q});function m(q){return l.create(H0(q))}function E(q){const Z=F.secretKey;q=_n("private key",q,Z);const Q=_n("hashed private key",e(q),2*Z),$=f(Q.slice(0,Z)),T=Q.slice(Z,2*Z),p=m($);return{head:$,prefix:T,scalar:p}}function S(q){const{head:Z,prefix:Q,scalar:$}=E(q),T=s.multiply($),p=T.toBytes();return{head:Z,prefix:Q,scalar:$,point:T,pointBytes:p}}function C(q){return S(q).pointBytes}function v(q=Uint8Array.of(),...Z){const Q=Li(...Z);return m(e(h(Q,_n("context",q),!!n)))}function R(q,Z,Q={}){q=_n("message",q),n&&(q=n(q));const{prefix:$,scalar:T,pointBytes:p}=S(Z),b=v(Q.context,$,q),_=s.multiply(b).toBytes(),O=v(Q.context,_,p,q),G=l.create(b+O*T);if(!l.isValid(G))throw new Error("sign failed: invalid s");const z=Li(_,l.toBytes(G));return xi(z,F.signature,"result")}const D={zip215:!0};function M(q,Z,Q,$=D){const{context:T,zip215:p}=$,b=F.signature;q=_n("signature",q,b),Z=_n("message",Z),Q=_n("publicKey",Q,F.publicKey),p!==void 0&&Ra(p,"zip215"),n&&(Z=n(Z));const _=b/2,O=q.subarray(0,_),G=H0(q.subarray(_,b));let z,k,A;try{z=r.fromBytes(Q,p),k=r.fromBytes(O,p),A=s.multiplyUnsafe(G)}catch{return!1}if(!p&&z.isSmallOrder())return!1;const g=v(T,k.toBytes(),z.toBytes(),Z);return k.add(z.multiplyUnsafe(g)).subtract(A).clearCofactor().is0()}const N=a.BYTES,F={secretKey:N,publicKey:N,signature:2*N,seed:N};function P(q=u(F.seed)){return xi(q,F.seed,"seed")}function K(q){const Z=J.randomSecretKey(q);return{secretKey:Z,publicKey:C(Z)}}function V(q){return nu(q)&&q.length===l.BYTES}function H(q,Z){try{return!!r.fromBytes(q,Z)}catch{return!1}}const J={getExtendedPublicKey:S,randomSecretKey:P,isValidSecretKey:V,isValidPublicKey:H,toMontgomery(q){const{y:Z}=r.fromBytes(q),Q=F.publicKey,$=Q===32;if(!$&&Q!==57)throw new Error("only defined for 25519 and 448");const T=$?a.div(Gn+Z,Gn-Z):a.div(Z-Gn,Z+Gn);return a.toBytes(T)},toMontgomerySecret(q){const Z=F.secretKey;xi(q,Z);const Q=e(q.subarray(0,Z));return f(Q).subarray(0,Z)},randomPrivateKey:P,precompute(q=8,Z=r.BASE){return Z.precompute(q,!1)}};return Object.freeze({keygen:K,getPublicKey:C,sign:R,verify:M,utils:J,Point:r,lengths:F})}function dR(r){const e={a:r.a,d:r.d,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},t=r.Fp,n=Ma(e.n,r.nBitLength,!0),s={Fp:t,Fn:n,uvRatio:r.uvRatio},a={randomBytes:r.randomBytes,adjustScalarBytes:r.adjustScalarBytes,domain:r.domain,prehash:r.prehash,mapToCurve:r.mapToCurve};return{CURVE:e,curveOpts:s,hash:r.hash,eddsaOpts:a}}function xR(r,e){const t=e.Point;return Object.assign({},e,{ExtendedPoint:t,CURVE:r,nBitLength:t.Fn.BITS,nByteLength:t.Fn.BYTES})}function fR(r){const{CURVE:e,curveOpts:t,hash:n,eddsaOpts:s}=dR(r),a=cR(e,t),l=uR(a,n,s);return xR(r,l)}const hR=BigInt(1),s2=BigInt(2);BigInt(3);const pR=BigInt(5),gR=BigInt(8),$m=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),f5={p:$m,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:gR,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function mR(r){const e=BigInt(10),t=BigInt(20),n=BigInt(40),s=BigInt(80),a=$m,u=r*r%a*r%a,f=Sn(u,s2,a)*u%a,h=Sn(f,hR,a)*r%a,m=Sn(h,pR,a)*h%a,E=Sn(m,e,a)*m%a,S=Sn(E,t,a)*E%a,C=Sn(S,n,a)*S%a,v=Sn(C,s,a)*C%a,R=Sn(v,s,a)*C%a,D=Sn(R,e,a)*m%a;return{pow_p_5_8:Sn(D,s2,a)*r%a,b2:u}}function yR(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const a2=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function ER(r,e){const t=$m,n=zn(e*e*e,t),s=zn(n*n*e,t),a=mR(r*s).pow_p_5_8;let l=zn(r*n*a,t);const u=zn(e*l*l,t),f=l,h=zn(l*a2,t),m=u===r,E=u===zn(-r,t),S=u===zn(-r*a2,t);return m&&(l=f),(E||S)&&(l=h),JD(l,t)&&(l=zn(-l,t)),{isValid:m||E,value:l}}const bR=Ma(f5.p,{isLE:!0}),wR={...f5,Fp:bR,hash:KD,adjustScalarBytes:yR,uvRatio:ER},hc=fR(wR);var dx={exports:{}};const AR={},CR=Object.freeze(Object.defineProperty({__proto__:null,default:AR},Symbol.toStringTag,{value:"Module"})),vR=tf(CR);var BR=dx.exports,l2;function Zm(){return l2||(l2=1,(function(r){(function(e,t){function n(T,p){if(!T)throw new Error(p||"Assertion failed")}function s(T,p){T.super_=p;var b=function(){};b.prototype=p.prototype,T.prototype=new b,T.prototype.constructor=T}function a(T,p,b){if(a.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((p==="le"||p==="be")&&(b=p,p=10),this._init(T||0,p||10,b||"be"))}typeof e=="object"?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=vR.Buffer}catch{}a.isBN=function(p){return p instanceof a?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===a.wordSize&&Array.isArray(p.words)},a.max=function(p,b){return p.cmp(b)>0?p:b},a.min=function(p,b){return p.cmp(b)<0?p:b},a.prototype._init=function(p,b,_){if(typeof p=="number")return this._initNumber(p,b,_);if(typeof p=="object")return this._initArray(p,b,_);b==="hex"&&(b=16),n(b===(b|0)&&b>=2&&b<=36),p=p.toString().replace(/\s+/g,"");var O=0;p[0]==="-"&&(O++,this.negative=1),O<p.length&&(b===16?this._parseHex(p,O,_):(this._parseBase(p,b,O),_==="le"&&this._initArray(this.toArray(),b,_)))},a.prototype._initNumber=function(p,b,_){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),b,_)},a.prototype._initArray=function(p,b,_){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var G,z,k=0;if(_==="be")for(O=p.length-1,G=0;O>=0;O-=3)z=p[O]|p[O-1]<<8|p[O-2]<<16,this.words[G]|=z<<k&67108863,this.words[G+1]=z>>>26-k&67108863,k+=24,k>=26&&(k-=26,G++);else if(_==="le")for(O=0,G=0;O<p.length;O+=3)z=p[O]|p[O+1]<<8|p[O+2]<<16,this.words[G]|=z<<k&67108863,this.words[G+1]=z>>>26-k&67108863,k+=24,k>=26&&(k-=26,G++);return this._strip()};function u(T,p){var b=T.charCodeAt(p);if(b>=48&&b<=57)return b-48;if(b>=65&&b<=70)return b-55;if(b>=97&&b<=102)return b-87;n(!1,"Invalid character in "+T)}function f(T,p,b){var _=u(T,b);return b-1>=p&&(_|=u(T,b-1)<<4),_}a.prototype._parseHex=function(p,b,_){this.length=Math.ceil((p.length-b)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var G=0,z=0,k;if(_==="be")for(O=p.length-1;O>=b;O-=2)k=f(p,b,O)<<G,this.words[z]|=k&67108863,G>=18?(G-=18,z+=1,this.words[z]|=k>>>26):G+=8;else{var A=p.length-b;for(O=A%2===0?b+1:b;O<p.length;O+=2)k=f(p,b,O)<<G,this.words[z]|=k&67108863,G>=18?(G-=18,z+=1,this.words[z]|=k>>>26):G+=8}this._strip()};function h(T,p,b,_){for(var O=0,G=0,z=Math.min(T.length,b),k=p;k<z;k++){var A=T.charCodeAt(k)-48;O*=_,A>=49?G=A-49+10:A>=17?G=A-17+10:G=A,n(A>=0&&G<_,"Invalid character"),O+=G}return O}a.prototype._parseBase=function(p,b,_){this.words=[0],this.length=1;for(var O=0,G=1;G<=67108863;G*=b)O++;O--,G=G/b|0;for(var z=p.length-_,k=z%O,A=Math.min(z,z-k)+_,g=0,w=_;w<A;w+=O)g=h(p,w,w+O,b),this.imuln(G),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(k!==0){var j=1;for(g=h(p,w,p.length,b),w=0;w<k;w++)j*=b;this.imuln(j),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}this._strip()},a.prototype.copy=function(p){p.words=new Array(this.length);for(var b=0;b<this.length;b++)p.words[b]=this.words[b];p.length=this.length,p.negative=this.negative,p.red=this.red};function m(T,p){T.words=p.words,T.length=p.length,T.negative=p.negative,T.red=p.red}if(a.prototype._move=function(p){m(p,this)},a.prototype.clone=function(){var p=new a(null);return this.copy(p),p},a.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=E}catch{a.prototype.inspect=E}else a.prototype.inspect=E;function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(p,b){p=p||10,b=b|0||1;var _;if(p===16||p==="hex"){_="";for(var O=0,G=0,z=0;z<this.length;z++){var k=this.words[z],A=((k<<O|G)&16777215).toString(16);G=k>>>24-O&16777215,O+=2,O>=26&&(O-=26,z--),G!==0||z!==this.length-1?_=S[6-A.length]+A+_:_=A+_}for(G!==0&&(_=G.toString(16)+_);_.length%b!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(p===(p|0)&&p>=2&&p<=36){var g=C[p],w=v[p];_="";var j=this.clone();for(j.negative=0;!j.isZero();){var X=j.modrn(w).toString(p);j=j.idivn(w),j.isZero()?_=X+_:_=S[g-X.length]+X+_}for(this.isZero()&&(_="0"+_);_.length%b!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},a.prototype.toJSON=function(){return this.toString(16,2)},l&&(a.prototype.toBuffer=function(p,b){return this.toArrayLike(l,p,b)}),a.prototype.toArray=function(p,b){return this.toArrayLike(Array,p,b)};var R=function(p,b){return p.allocUnsafe?p.allocUnsafe(b):new p(b)};a.prototype.toArrayLike=function(p,b,_){this._strip();var O=this.byteLength(),G=_||Math.max(1,O);n(O<=G,"byte array longer than desired length"),n(G>0,"Requested array length <= 0");var z=R(p,G),k=b==="le"?"LE":"BE";return this["_toArrayLike"+k](z,O),z},a.prototype._toArrayLikeLE=function(p,b){for(var _=0,O=0,G=0,z=0;G<this.length;G++){var k=this.words[G]<<z|O;p[_++]=k&255,_<p.length&&(p[_++]=k>>8&255),_<p.length&&(p[_++]=k>>16&255),z===6?(_<p.length&&(p[_++]=k>>24&255),O=0,z=0):(O=k>>>24,z+=2)}if(_<p.length)for(p[_++]=O;_<p.length;)p[_++]=0},a.prototype._toArrayLikeBE=function(p,b){for(var _=p.length-1,O=0,G=0,z=0;G<this.length;G++){var k=this.words[G]<<z|O;p[_--]=k&255,_>=0&&(p[_--]=k>>8&255),_>=0&&(p[_--]=k>>16&255),z===6?(_>=0&&(p[_--]=k>>24&255),O=0,z=0):(O=k>>>24,z+=2)}if(_>=0)for(p[_--]=O;_>=0;)p[_--]=0},Math.clz32?a.prototype._countBits=function(p){return 32-Math.clz32(p)}:a.prototype._countBits=function(p){var b=p,_=0;return b>=4096&&(_+=13,b>>>=13),b>=64&&(_+=7,b>>>=7),b>=8&&(_+=4,b>>>=4),b>=2&&(_+=2,b>>>=2),_+b},a.prototype._zeroBits=function(p){if(p===0)return 26;var b=p,_=0;return(b&8191)===0&&(_+=13,b>>>=13),(b&127)===0&&(_+=7,b>>>=7),(b&15)===0&&(_+=4,b>>>=4),(b&3)===0&&(_+=2,b>>>=2),(b&1)===0&&_++,_},a.prototype.bitLength=function(){var p=this.words[this.length-1],b=this._countBits(p);return(this.length-1)*26+b};function D(T){for(var p=new Array(T.bitLength()),b=0;b<p.length;b++){var _=b/26|0,O=b%26;p[b]=T.words[_]>>>O&1}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,b=0;b<this.length;b++){var _=this._zeroBits(this.words[b]);if(p+=_,_!==26)break}return p},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},a.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var b=0;b<p.length;b++)this.words[b]=this.words[b]|p.words[b];return this._strip()},a.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},a.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},a.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},a.prototype.iuand=function(p){var b;this.length>p.length?b=p:b=this;for(var _=0;_<b.length;_++)this.words[_]=this.words[_]&p.words[_];return this.length=b.length,this._strip()},a.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},a.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},a.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},a.prototype.iuxor=function(p){var b,_;this.length>p.length?(b=this,_=p):(b=p,_=this);for(var O=0;O<_.length;O++)this.words[O]=b.words[O]^_.words[O];if(this!==b)for(;O<b.length;O++)this.words[O]=b.words[O];return this.length=b.length,this._strip()},a.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},a.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},a.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},a.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var b=Math.ceil(p/26)|0,_=p%26;this._expand(b),_>0&&b--;for(var O=0;O<b;O++)this.words[O]=~this.words[O]&67108863;return _>0&&(this.words[O]=~this.words[O]&67108863>>26-_),this._strip()},a.prototype.notn=function(p){return this.clone().inotn(p)},a.prototype.setn=function(p,b){n(typeof p=="number"&&p>=0);var _=p/26|0,O=p%26;return this._expand(_+1),b?this.words[_]=this.words[_]|1<<O:this.words[_]=this.words[_]&~(1<<O),this._strip()},a.prototype.iadd=function(p){var b;if(this.negative!==0&&p.negative===0)return this.negative=0,b=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,b=this.isub(p),p.negative=1,b._normSign();var _,O;this.length>p.length?(_=this,O=p):(_=p,O=this);for(var G=0,z=0;z<O.length;z++)b=(_.words[z]|0)+(O.words[z]|0)+G,this.words[z]=b&67108863,G=b>>>26;for(;G!==0&&z<_.length;z++)b=(_.words[z]|0)+G,this.words[z]=b&67108863,G=b>>>26;if(this.length=_.length,G!==0)this.words[this.length]=G,this.length++;else if(_!==this)for(;z<_.length;z++)this.words[z]=_.words[z];return this},a.prototype.add=function(p){var b;return p.negative!==0&&this.negative===0?(p.negative=0,b=this.sub(p),p.negative^=1,b):p.negative===0&&this.negative!==0?(this.negative=0,b=p.sub(this),this.negative=1,b):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},a.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var b=this.iadd(p);return p.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var _=this.cmp(p);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,G;_>0?(O=this,G=p):(O=p,G=this);for(var z=0,k=0;k<G.length;k++)b=(O.words[k]|0)-(G.words[k]|0)+z,z=b>>26,this.words[k]=b&67108863;for(;z!==0&&k<O.length;k++)b=(O.words[k]|0)+z,z=b>>26,this.words[k]=b&67108863;if(z===0&&k<O.length&&O!==this)for(;k<O.length;k++)this.words[k]=O.words[k];return this.length=Math.max(this.length,k),O!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(p){return this.clone().isub(p)};function M(T,p,b){b.negative=p.negative^T.negative;var _=T.length+p.length|0;b.length=_,_=_-1|0;var O=T.words[0]|0,G=p.words[0]|0,z=O*G,k=z&67108863,A=z/67108864|0;b.words[0]=k;for(var g=1;g<_;g++){for(var w=A>>>26,j=A&67108863,X=Math.min(g,p.length-1),ne=Math.max(0,g-T.length+1);ne<=X;ne++){var oe=g-ne|0;O=T.words[oe]|0,G=p.words[ne]|0,z=O*G+j,w+=z/67108864|0,j=z&67108863}b.words[g]=j|0,A=w|0}return A!==0?b.words[g]=A|0:b.length--,b._strip()}var N=function(p,b,_){var O=p.words,G=b.words,z=_.words,k=0,A,g,w,j=O[0]|0,X=j&8191,ne=j>>>13,oe=O[1]|0,be=oe&8191,we=oe>>>13,Je=O[2]|0,et=Je&8191,Re=Je>>>13,rt=O[3]|0,Le=rt&8191,Ge=rt>>>13,$t=O[4]|0,ct=$t&8191,vt=$t>>>13,dn=O[5]|0,wt=dn&8191,nt=dn>>>13,Nn=O[6]|0,jt=Nn&8191,ft=Nn>>>13,Zn=O[7]|0,Ht=Zn&8191,Y=Zn>>>13,I=O[8]|0,L=I&8191,te=I>>>13,se=O[9]|0,le=se&8191,ge=se>>>13,qe=G[0]|0,Ye=qe&8191,He=qe>>>13,Wt=G[1]|0,Xe=Wt&8191,bn=Wt>>>13,Is=G[2]|0,Zt=Is&8191,Qt=Is>>>13,yi=G[3]|0,Xt=yi&8191,Kt=yi>>>13,hu=G[4]|0,xn=hu&8191,nn=hu>>>13,Uo=G[5]|0,wn=Uo&8191,fn=Uo>>>13,Ec=G[6]|0,hn=Ec&8191,rn=Ec>>>13,Ha=G[7]|0,pn=Ha&8191,gn=Ha>>>13,si=G[8]|0,ht=si&8191,At=si>>>13,Yi=G[9]|0,on=Yi&8191,An=Yi>>>13;_.negative=p.negative^b.negative,_.length=19,A=Math.imul(X,Ye),g=Math.imul(X,He),g=g+Math.imul(ne,Ye)|0,w=Math.imul(ne,He);var bc=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(bc>>>26)|0,bc&=67108863,A=Math.imul(be,Ye),g=Math.imul(be,He),g=g+Math.imul(we,Ye)|0,w=Math.imul(we,He),A=A+Math.imul(X,Xe)|0,g=g+Math.imul(X,bn)|0,g=g+Math.imul(ne,Xe)|0,w=w+Math.imul(ne,bn)|0;var Wa=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(Wa>>>26)|0,Wa&=67108863,A=Math.imul(et,Ye),g=Math.imul(et,He),g=g+Math.imul(Re,Ye)|0,w=Math.imul(Re,He),A=A+Math.imul(be,Xe)|0,g=g+Math.imul(be,bn)|0,g=g+Math.imul(we,Xe)|0,w=w+Math.imul(we,bn)|0,A=A+Math.imul(X,Zt)|0,g=g+Math.imul(X,Qt)|0,g=g+Math.imul(ne,Zt)|0,w=w+Math.imul(ne,Qt)|0;var $i=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+($i>>>26)|0,$i&=67108863,A=Math.imul(Le,Ye),g=Math.imul(Le,He),g=g+Math.imul(Ge,Ye)|0,w=Math.imul(Ge,He),A=A+Math.imul(et,Xe)|0,g=g+Math.imul(et,bn)|0,g=g+Math.imul(Re,Xe)|0,w=w+Math.imul(Re,bn)|0,A=A+Math.imul(be,Zt)|0,g=g+Math.imul(be,Qt)|0,g=g+Math.imul(we,Zt)|0,w=w+Math.imul(we,Qt)|0,A=A+Math.imul(X,Xt)|0,g=g+Math.imul(X,Kt)|0,g=g+Math.imul(ne,Xt)|0,w=w+Math.imul(ne,Kt)|0;var Ms=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(Ms>>>26)|0,Ms&=67108863,A=Math.imul(ct,Ye),g=Math.imul(ct,He),g=g+Math.imul(vt,Ye)|0,w=Math.imul(vt,He),A=A+Math.imul(Le,Xe)|0,g=g+Math.imul(Le,bn)|0,g=g+Math.imul(Ge,Xe)|0,w=w+Math.imul(Ge,bn)|0,A=A+Math.imul(et,Zt)|0,g=g+Math.imul(et,Qt)|0,g=g+Math.imul(Re,Zt)|0,w=w+Math.imul(Re,Qt)|0,A=A+Math.imul(be,Xt)|0,g=g+Math.imul(be,Kt)|0,g=g+Math.imul(we,Xt)|0,w=w+Math.imul(we,Kt)|0,A=A+Math.imul(X,xn)|0,g=g+Math.imul(X,nn)|0,g=g+Math.imul(ne,xn)|0,w=w+Math.imul(ne,nn)|0;var Ei=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,A=Math.imul(wt,Ye),g=Math.imul(wt,He),g=g+Math.imul(nt,Ye)|0,w=Math.imul(nt,He),A=A+Math.imul(ct,Xe)|0,g=g+Math.imul(ct,bn)|0,g=g+Math.imul(vt,Xe)|0,w=w+Math.imul(vt,bn)|0,A=A+Math.imul(Le,Zt)|0,g=g+Math.imul(Le,Qt)|0,g=g+Math.imul(Ge,Zt)|0,w=w+Math.imul(Ge,Qt)|0,A=A+Math.imul(et,Xt)|0,g=g+Math.imul(et,Kt)|0,g=g+Math.imul(Re,Xt)|0,w=w+Math.imul(Re,Kt)|0,A=A+Math.imul(be,xn)|0,g=g+Math.imul(be,nn)|0,g=g+Math.imul(we,xn)|0,w=w+Math.imul(we,nn)|0,A=A+Math.imul(X,wn)|0,g=g+Math.imul(X,fn)|0,g=g+Math.imul(ne,wn)|0,w=w+Math.imul(ne,fn)|0;var bi=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(bi>>>26)|0,bi&=67108863,A=Math.imul(jt,Ye),g=Math.imul(jt,He),g=g+Math.imul(ft,Ye)|0,w=Math.imul(ft,He),A=A+Math.imul(wt,Xe)|0,g=g+Math.imul(wt,bn)|0,g=g+Math.imul(nt,Xe)|0,w=w+Math.imul(nt,bn)|0,A=A+Math.imul(ct,Zt)|0,g=g+Math.imul(ct,Qt)|0,g=g+Math.imul(vt,Zt)|0,w=w+Math.imul(vt,Qt)|0,A=A+Math.imul(Le,Xt)|0,g=g+Math.imul(Le,Kt)|0,g=g+Math.imul(Ge,Xt)|0,w=w+Math.imul(Ge,Kt)|0,A=A+Math.imul(et,xn)|0,g=g+Math.imul(et,nn)|0,g=g+Math.imul(Re,xn)|0,w=w+Math.imul(Re,nn)|0,A=A+Math.imul(be,wn)|0,g=g+Math.imul(be,fn)|0,g=g+Math.imul(we,wn)|0,w=w+Math.imul(we,fn)|0,A=A+Math.imul(X,hn)|0,g=g+Math.imul(X,rn)|0,g=g+Math.imul(ne,hn)|0,w=w+Math.imul(ne,rn)|0;var Zi=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,A=Math.imul(Ht,Ye),g=Math.imul(Ht,He),g=g+Math.imul(Y,Ye)|0,w=Math.imul(Y,He),A=A+Math.imul(jt,Xe)|0,g=g+Math.imul(jt,bn)|0,g=g+Math.imul(ft,Xe)|0,w=w+Math.imul(ft,bn)|0,A=A+Math.imul(wt,Zt)|0,g=g+Math.imul(wt,Qt)|0,g=g+Math.imul(nt,Zt)|0,w=w+Math.imul(nt,Qt)|0,A=A+Math.imul(ct,Xt)|0,g=g+Math.imul(ct,Kt)|0,g=g+Math.imul(vt,Xt)|0,w=w+Math.imul(vt,Kt)|0,A=A+Math.imul(Le,xn)|0,g=g+Math.imul(Le,nn)|0,g=g+Math.imul(Ge,xn)|0,w=w+Math.imul(Ge,nn)|0,A=A+Math.imul(et,wn)|0,g=g+Math.imul(et,fn)|0,g=g+Math.imul(Re,wn)|0,w=w+Math.imul(Re,fn)|0,A=A+Math.imul(be,hn)|0,g=g+Math.imul(be,rn)|0,g=g+Math.imul(we,hn)|0,w=w+Math.imul(we,rn)|0,A=A+Math.imul(X,pn)|0,g=g+Math.imul(X,gn)|0,g=g+Math.imul(ne,pn)|0,w=w+Math.imul(ne,gn)|0;var wi=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(wi>>>26)|0,wi&=67108863,A=Math.imul(L,Ye),g=Math.imul(L,He),g=g+Math.imul(te,Ye)|0,w=Math.imul(te,He),A=A+Math.imul(Ht,Xe)|0,g=g+Math.imul(Ht,bn)|0,g=g+Math.imul(Y,Xe)|0,w=w+Math.imul(Y,bn)|0,A=A+Math.imul(jt,Zt)|0,g=g+Math.imul(jt,Qt)|0,g=g+Math.imul(ft,Zt)|0,w=w+Math.imul(ft,Qt)|0,A=A+Math.imul(wt,Xt)|0,g=g+Math.imul(wt,Kt)|0,g=g+Math.imul(nt,Xt)|0,w=w+Math.imul(nt,Kt)|0,A=A+Math.imul(ct,xn)|0,g=g+Math.imul(ct,nn)|0,g=g+Math.imul(vt,xn)|0,w=w+Math.imul(vt,nn)|0,A=A+Math.imul(Le,wn)|0,g=g+Math.imul(Le,fn)|0,g=g+Math.imul(Ge,wn)|0,w=w+Math.imul(Ge,fn)|0,A=A+Math.imul(et,hn)|0,g=g+Math.imul(et,rn)|0,g=g+Math.imul(Re,hn)|0,w=w+Math.imul(Re,rn)|0,A=A+Math.imul(be,pn)|0,g=g+Math.imul(be,gn)|0,g=g+Math.imul(we,pn)|0,w=w+Math.imul(we,gn)|0,A=A+Math.imul(X,ht)|0,g=g+Math.imul(X,At)|0,g=g+Math.imul(ne,ht)|0,w=w+Math.imul(ne,At)|0;var Cn=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,A=Math.imul(le,Ye),g=Math.imul(le,He),g=g+Math.imul(ge,Ye)|0,w=Math.imul(ge,He),A=A+Math.imul(L,Xe)|0,g=g+Math.imul(L,bn)|0,g=g+Math.imul(te,Xe)|0,w=w+Math.imul(te,bn)|0,A=A+Math.imul(Ht,Zt)|0,g=g+Math.imul(Ht,Qt)|0,g=g+Math.imul(Y,Zt)|0,w=w+Math.imul(Y,Qt)|0,A=A+Math.imul(jt,Xt)|0,g=g+Math.imul(jt,Kt)|0,g=g+Math.imul(ft,Xt)|0,w=w+Math.imul(ft,Kt)|0,A=A+Math.imul(wt,xn)|0,g=g+Math.imul(wt,nn)|0,g=g+Math.imul(nt,xn)|0,w=w+Math.imul(nt,nn)|0,A=A+Math.imul(ct,wn)|0,g=g+Math.imul(ct,fn)|0,g=g+Math.imul(vt,wn)|0,w=w+Math.imul(vt,fn)|0,A=A+Math.imul(Le,hn)|0,g=g+Math.imul(Le,rn)|0,g=g+Math.imul(Ge,hn)|0,w=w+Math.imul(Ge,rn)|0,A=A+Math.imul(et,pn)|0,g=g+Math.imul(et,gn)|0,g=g+Math.imul(Re,pn)|0,w=w+Math.imul(Re,gn)|0,A=A+Math.imul(be,ht)|0,g=g+Math.imul(be,At)|0,g=g+Math.imul(we,ht)|0,w=w+Math.imul(we,At)|0,A=A+Math.imul(X,on)|0,g=g+Math.imul(X,An)|0,g=g+Math.imul(ne,on)|0,w=w+Math.imul(ne,An)|0;var qa=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(qa>>>26)|0,qa&=67108863,A=Math.imul(le,Xe),g=Math.imul(le,bn),g=g+Math.imul(ge,Xe)|0,w=Math.imul(ge,bn),A=A+Math.imul(L,Zt)|0,g=g+Math.imul(L,Qt)|0,g=g+Math.imul(te,Zt)|0,w=w+Math.imul(te,Qt)|0,A=A+Math.imul(Ht,Xt)|0,g=g+Math.imul(Ht,Kt)|0,g=g+Math.imul(Y,Xt)|0,w=w+Math.imul(Y,Kt)|0,A=A+Math.imul(jt,xn)|0,g=g+Math.imul(jt,nn)|0,g=g+Math.imul(ft,xn)|0,w=w+Math.imul(ft,nn)|0,A=A+Math.imul(wt,wn)|0,g=g+Math.imul(wt,fn)|0,g=g+Math.imul(nt,wn)|0,w=w+Math.imul(nt,fn)|0,A=A+Math.imul(ct,hn)|0,g=g+Math.imul(ct,rn)|0,g=g+Math.imul(vt,hn)|0,w=w+Math.imul(vt,rn)|0,A=A+Math.imul(Le,pn)|0,g=g+Math.imul(Le,gn)|0,g=g+Math.imul(Ge,pn)|0,w=w+Math.imul(Ge,gn)|0,A=A+Math.imul(et,ht)|0,g=g+Math.imul(et,At)|0,g=g+Math.imul(Re,ht)|0,w=w+Math.imul(Re,At)|0,A=A+Math.imul(be,on)|0,g=g+Math.imul(be,An)|0,g=g+Math.imul(we,on)|0,w=w+Math.imul(we,An)|0;var Ka=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(Ka>>>26)|0,Ka&=67108863,A=Math.imul(le,Zt),g=Math.imul(le,Qt),g=g+Math.imul(ge,Zt)|0,w=Math.imul(ge,Qt),A=A+Math.imul(L,Xt)|0,g=g+Math.imul(L,Kt)|0,g=g+Math.imul(te,Xt)|0,w=w+Math.imul(te,Kt)|0,A=A+Math.imul(Ht,xn)|0,g=g+Math.imul(Ht,nn)|0,g=g+Math.imul(Y,xn)|0,w=w+Math.imul(Y,nn)|0,A=A+Math.imul(jt,wn)|0,g=g+Math.imul(jt,fn)|0,g=g+Math.imul(ft,wn)|0,w=w+Math.imul(ft,fn)|0,A=A+Math.imul(wt,hn)|0,g=g+Math.imul(wt,rn)|0,g=g+Math.imul(nt,hn)|0,w=w+Math.imul(nt,rn)|0,A=A+Math.imul(ct,pn)|0,g=g+Math.imul(ct,gn)|0,g=g+Math.imul(vt,pn)|0,w=w+Math.imul(vt,gn)|0,A=A+Math.imul(Le,ht)|0,g=g+Math.imul(Le,At)|0,g=g+Math.imul(Ge,ht)|0,w=w+Math.imul(Ge,At)|0,A=A+Math.imul(et,on)|0,g=g+Math.imul(et,An)|0,g=g+Math.imul(Re,on)|0,w=w+Math.imul(Re,An)|0;var ai=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(ai>>>26)|0,ai&=67108863,A=Math.imul(le,Xt),g=Math.imul(le,Kt),g=g+Math.imul(ge,Xt)|0,w=Math.imul(ge,Kt),A=A+Math.imul(L,xn)|0,g=g+Math.imul(L,nn)|0,g=g+Math.imul(te,xn)|0,w=w+Math.imul(te,nn)|0,A=A+Math.imul(Ht,wn)|0,g=g+Math.imul(Ht,fn)|0,g=g+Math.imul(Y,wn)|0,w=w+Math.imul(Y,fn)|0,A=A+Math.imul(jt,hn)|0,g=g+Math.imul(jt,rn)|0,g=g+Math.imul(ft,hn)|0,w=w+Math.imul(ft,rn)|0,A=A+Math.imul(wt,pn)|0,g=g+Math.imul(wt,gn)|0,g=g+Math.imul(nt,pn)|0,w=w+Math.imul(nt,gn)|0,A=A+Math.imul(ct,ht)|0,g=g+Math.imul(ct,At)|0,g=g+Math.imul(vt,ht)|0,w=w+Math.imul(vt,At)|0,A=A+Math.imul(Le,on)|0,g=g+Math.imul(Le,An)|0,g=g+Math.imul(Ge,on)|0,w=w+Math.imul(Ge,An)|0;var Ai=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,A=Math.imul(le,xn),g=Math.imul(le,nn),g=g+Math.imul(ge,xn)|0,w=Math.imul(ge,nn),A=A+Math.imul(L,wn)|0,g=g+Math.imul(L,fn)|0,g=g+Math.imul(te,wn)|0,w=w+Math.imul(te,fn)|0,A=A+Math.imul(Ht,hn)|0,g=g+Math.imul(Ht,rn)|0,g=g+Math.imul(Y,hn)|0,w=w+Math.imul(Y,rn)|0,A=A+Math.imul(jt,pn)|0,g=g+Math.imul(jt,gn)|0,g=g+Math.imul(ft,pn)|0,w=w+Math.imul(ft,gn)|0,A=A+Math.imul(wt,ht)|0,g=g+Math.imul(wt,At)|0,g=g+Math.imul(nt,ht)|0,w=w+Math.imul(nt,At)|0,A=A+Math.imul(ct,on)|0,g=g+Math.imul(ct,An)|0,g=g+Math.imul(vt,on)|0,w=w+Math.imul(vt,An)|0;var wc=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(wc>>>26)|0,wc&=67108863,A=Math.imul(le,wn),g=Math.imul(le,fn),g=g+Math.imul(ge,wn)|0,w=Math.imul(ge,fn),A=A+Math.imul(L,hn)|0,g=g+Math.imul(L,rn)|0,g=g+Math.imul(te,hn)|0,w=w+Math.imul(te,rn)|0,A=A+Math.imul(Ht,pn)|0,g=g+Math.imul(Ht,gn)|0,g=g+Math.imul(Y,pn)|0,w=w+Math.imul(Y,gn)|0,A=A+Math.imul(jt,ht)|0,g=g+Math.imul(jt,At)|0,g=g+Math.imul(ft,ht)|0,w=w+Math.imul(ft,At)|0,A=A+Math.imul(wt,on)|0,g=g+Math.imul(wt,An)|0,g=g+Math.imul(nt,on)|0,w=w+Math.imul(nt,An)|0;var Va=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(Va>>>26)|0,Va&=67108863,A=Math.imul(le,hn),g=Math.imul(le,rn),g=g+Math.imul(ge,hn)|0,w=Math.imul(ge,rn),A=A+Math.imul(L,pn)|0,g=g+Math.imul(L,gn)|0,g=g+Math.imul(te,pn)|0,w=w+Math.imul(te,gn)|0,A=A+Math.imul(Ht,ht)|0,g=g+Math.imul(Ht,At)|0,g=g+Math.imul(Y,ht)|0,w=w+Math.imul(Y,At)|0,A=A+Math.imul(jt,on)|0,g=g+Math.imul(jt,An)|0,g=g+Math.imul(ft,on)|0,w=w+Math.imul(ft,An)|0;var Ga=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(Ga>>>26)|0,Ga&=67108863,A=Math.imul(le,pn),g=Math.imul(le,gn),g=g+Math.imul(ge,pn)|0,w=Math.imul(ge,gn),A=A+Math.imul(L,ht)|0,g=g+Math.imul(L,At)|0,g=g+Math.imul(te,ht)|0,w=w+Math.imul(te,At)|0,A=A+Math.imul(Ht,on)|0,g=g+Math.imul(Ht,An)|0,g=g+Math.imul(Y,on)|0,w=w+Math.imul(Y,An)|0;var Ac=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(Ac>>>26)|0,Ac&=67108863,A=Math.imul(le,ht),g=Math.imul(le,At),g=g+Math.imul(ge,ht)|0,w=Math.imul(ge,At),A=A+Math.imul(L,on)|0,g=g+Math.imul(L,An)|0,g=g+Math.imul(te,on)|0,w=w+Math.imul(te,An)|0;var Ho=(k+A|0)+((g&8191)<<13)|0;k=(w+(g>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,A=Math.imul(le,on),g=Math.imul(le,An),g=g+Math.imul(ge,on)|0,w=Math.imul(ge,An);var Wo=(k+A|0)+((g&8191)<<13)|0;return k=(w+(g>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,z[0]=bc,z[1]=Wa,z[2]=$i,z[3]=Ms,z[4]=Ei,z[5]=bi,z[6]=Zi,z[7]=wi,z[8]=Cn,z[9]=qa,z[10]=Ka,z[11]=ai,z[12]=Ai,z[13]=wc,z[14]=Va,z[15]=Ga,z[16]=Ac,z[17]=Ho,z[18]=Wo,k!==0&&(z[19]=k,_.length++),_};Math.imul||(N=M);function F(T,p,b){b.negative=p.negative^T.negative,b.length=T.length+p.length;for(var _=0,O=0,G=0;G<b.length-1;G++){var z=O;O=0;for(var k=_&67108863,A=Math.min(G,p.length-1),g=Math.max(0,G-T.length+1);g<=A;g++){var w=G-g,j=T.words[w]|0,X=p.words[g]|0,ne=j*X,oe=ne&67108863;z=z+(ne/67108864|0)|0,oe=oe+k|0,k=oe&67108863,z=z+(oe>>>26)|0,O+=z>>>26,z&=67108863}b.words[G]=k,_=z,z=O}return _!==0?b.words[G]=_:b.length--,b._strip()}function P(T,p,b){return F(T,p,b)}a.prototype.mulTo=function(p,b){var _,O=this.length+p.length;return this.length===10&&p.length===10?_=N(this,p,b):O<63?_=M(this,p,b):O<1024?_=F(this,p,b):_=P(this,p,b),_},a.prototype.mul=function(p){var b=new a(null);return b.words=new Array(this.length+p.length),this.mulTo(p,b)},a.prototype.mulf=function(p){var b=new a(null);return b.words=new Array(this.length+p.length),P(this,p,b)},a.prototype.imul=function(p){return this.clone().mulTo(p,this)},a.prototype.imuln=function(p){var b=p<0;b&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var _=0,O=0;O<this.length;O++){var G=(this.words[O]|0)*p,z=(G&67108863)+(_&67108863);_>>=26,_+=G/67108864|0,_+=z>>>26,this.words[O]=z&67108863}return _!==0&&(this.words[O]=_,this.length++),this.length=p===0?1:this.length,b?this.ineg():this},a.prototype.muln=function(p){return this.clone().imuln(p)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(p){var b=D(p);if(b.length===0)return new a(1);for(var _=this,O=0;O<b.length&&b[O]===0;O++,_=_.sqr());if(++O<b.length)for(var G=_.sqr();O<b.length;O++,G=G.sqr())b[O]!==0&&(_=_.mul(G));return _},a.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var b=p%26,_=(p-b)/26,O=67108863>>>26-b<<26-b,G;if(b!==0){var z=0;for(G=0;G<this.length;G++){var k=this.words[G]&O,A=(this.words[G]|0)-k<<b;this.words[G]=A|z,z=k>>>26-b}z&&(this.words[G]=z,this.length++)}if(_!==0){for(G=this.length-1;G>=0;G--)this.words[G+_]=this.words[G];for(G=0;G<_;G++)this.words[G]=0;this.length+=_}return this._strip()},a.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},a.prototype.iushrn=function(p,b,_){n(typeof p=="number"&&p>=0);var O;b?O=(b-b%26)/26:O=0;var G=p%26,z=Math.min((p-G)/26,this.length),k=67108863^67108863>>>G<<G,A=_;if(O-=z,O=Math.max(0,O),A){for(var g=0;g<z;g++)A.words[g]=this.words[g];A.length=z}if(z!==0)if(this.length>z)for(this.length-=z,g=0;g<this.length;g++)this.words[g]=this.words[g+z];else this.words[0]=0,this.length=1;var w=0;for(g=this.length-1;g>=0&&(w!==0||g>=O);g--){var j=this.words[g]|0;this.words[g]=w<<26-G|j>>>G,w=j&k}return A&&w!==0&&(A.words[A.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(p,b,_){return n(this.negative===0),this.iushrn(p,b,_)},a.prototype.shln=function(p){return this.clone().ishln(p)},a.prototype.ushln=function(p){return this.clone().iushln(p)},a.prototype.shrn=function(p){return this.clone().ishrn(p)},a.prototype.ushrn=function(p){return this.clone().iushrn(p)},a.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var b=p%26,_=(p-b)/26,O=1<<b;if(this.length<=_)return!1;var G=this.words[_];return!!(G&O)},a.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var b=p%26,_=(p-b)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(b!==0&&_++,this.length=Math.min(_,this.length),b!==0){var O=67108863^67108863>>>b<<b;this.words[this.length-1]&=O}return this._strip()},a.prototype.maskn=function(p){return this.clone().imaskn(p)},a.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},a.prototype._iaddn=function(p){this.words[0]+=p;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},a.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},a.prototype.addn=function(p){return this.clone().iaddn(p)},a.prototype.subn=function(p){return this.clone().isubn(p)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(p,b,_){var O=p.length+_,G;this._expand(O);var z,k=0;for(G=0;G<p.length;G++){z=(this.words[G+_]|0)+k;var A=(p.words[G]|0)*b;z-=A&67108863,k=(z>>26)-(A/67108864|0),this.words[G+_]=z&67108863}for(;G<this.length-_;G++)z=(this.words[G+_]|0)+k,k=z>>26,this.words[G+_]=z&67108863;if(k===0)return this._strip();for(n(k===-1),k=0,G=0;G<this.length;G++)z=-(this.words[G]|0)+k,k=z>>26,this.words[G]=z&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(p,b){var _=this.length-p.length,O=this.clone(),G=p,z=G.words[G.length-1]|0,k=this._countBits(z);_=26-k,_!==0&&(G=G.ushln(_),O.iushln(_),z=G.words[G.length-1]|0);var A=O.length-G.length,g;if(b!=="mod"){g=new a(null),g.length=A+1,g.words=new Array(g.length);for(var w=0;w<g.length;w++)g.words[w]=0}var j=O.clone()._ishlnsubmul(G,1,A);j.negative===0&&(O=j,g&&(g.words[A]=1));for(var X=A-1;X>=0;X--){var ne=(O.words[G.length+X]|0)*67108864+(O.words[G.length+X-1]|0);for(ne=Math.min(ne/z|0,67108863),O._ishlnsubmul(G,ne,X);O.negative!==0;)ne--,O.negative=0,O._ishlnsubmul(G,1,X),O.isZero()||(O.negative^=1);g&&(g.words[X]=ne)}return g&&g._strip(),O._strip(),b!=="div"&&_!==0&&O.iushrn(_),{div:g||null,mod:O}},a.prototype.divmod=function(p,b,_){if(n(!p.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var O,G,z;return this.negative!==0&&p.negative===0?(z=this.neg().divmod(p,b),b!=="mod"&&(O=z.div.neg()),b!=="div"&&(G=z.mod.neg(),_&&G.negative!==0&&G.iadd(p)),{div:O,mod:G}):this.negative===0&&p.negative!==0?(z=this.divmod(p.neg(),b),b!=="mod"&&(O=z.div.neg()),{div:O,mod:z.mod}):(this.negative&p.negative)!==0?(z=this.neg().divmod(p.neg(),b),b!=="div"&&(G=z.mod.neg(),_&&G.negative!==0&&G.isub(p)),{div:z.div,mod:G}):p.length>this.length||this.cmp(p)<0?{div:new a(0),mod:this}:p.length===1?b==="div"?{div:this.divn(p.words[0]),mod:null}:b==="mod"?{div:null,mod:new a(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new a(this.modrn(p.words[0]))}:this._wordDiv(p,b)},a.prototype.div=function(p){return this.divmod(p,"div",!1).div},a.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},a.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},a.prototype.divRound=function(p){var b=this.divmod(p);if(b.mod.isZero())return b.div;var _=b.div.negative!==0?b.mod.isub(p):b.mod,O=p.ushrn(1),G=p.andln(1),z=_.cmp(O);return z<0||G===1&&z===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},a.prototype.modrn=function(p){var b=p<0;b&&(p=-p),n(p<=67108863);for(var _=(1<<26)%p,O=0,G=this.length-1;G>=0;G--)O=(_*O+(this.words[G]|0))%p;return b?-O:O},a.prototype.modn=function(p){return this.modrn(p)},a.prototype.idivn=function(p){var b=p<0;b&&(p=-p),n(p<=67108863);for(var _=0,O=this.length-1;O>=0;O--){var G=(this.words[O]|0)+_*67108864;this.words[O]=G/p|0,_=G%p}return this._strip(),b?this.ineg():this},a.prototype.divn=function(p){return this.clone().idivn(p)},a.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var b=this,_=p.clone();b.negative!==0?b=b.umod(p):b=b.clone();for(var O=new a(1),G=new a(0),z=new a(0),k=new a(1),A=0;b.isEven()&&_.isEven();)b.iushrn(1),_.iushrn(1),++A;for(var g=_.clone(),w=b.clone();!b.isZero();){for(var j=0,X=1;(b.words[0]&X)===0&&j<26;++j,X<<=1);if(j>0)for(b.iushrn(j);j-- >0;)(O.isOdd()||G.isOdd())&&(O.iadd(g),G.isub(w)),O.iushrn(1),G.iushrn(1);for(var ne=0,oe=1;(_.words[0]&oe)===0&&ne<26;++ne,oe<<=1);if(ne>0)for(_.iushrn(ne);ne-- >0;)(z.isOdd()||k.isOdd())&&(z.iadd(g),k.isub(w)),z.iushrn(1),k.iushrn(1);b.cmp(_)>=0?(b.isub(_),O.isub(z),G.isub(k)):(_.isub(b),z.isub(O),k.isub(G))}return{a:z,b:k,gcd:_.iushln(A)}},a.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var b=this,_=p.clone();b.negative!==0?b=b.umod(p):b=b.clone();for(var O=new a(1),G=new a(0),z=_.clone();b.cmpn(1)>0&&_.cmpn(1)>0;){for(var k=0,A=1;(b.words[0]&A)===0&&k<26;++k,A<<=1);if(k>0)for(b.iushrn(k);k-- >0;)O.isOdd()&&O.iadd(z),O.iushrn(1);for(var g=0,w=1;(_.words[0]&w)===0&&g<26;++g,w<<=1);if(g>0)for(_.iushrn(g);g-- >0;)G.isOdd()&&G.iadd(z),G.iushrn(1);b.cmp(_)>=0?(b.isub(_),O.isub(G)):(_.isub(b),G.isub(O))}var j;return b.cmpn(1)===0?j=O:j=G,j.cmpn(0)<0&&j.iadd(p),j},a.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var b=this.clone(),_=p.clone();b.negative=0,_.negative=0;for(var O=0;b.isEven()&&_.isEven();O++)b.iushrn(1),_.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;_.isEven();)_.iushrn(1);var G=b.cmp(_);if(G<0){var z=b;b=_,_=z}else if(G===0||_.cmpn(1)===0)break;b.isub(_)}while(!0);return _.iushln(O)},a.prototype.invm=function(p){return this.egcd(p).a.umod(p)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(p){return this.words[0]&p},a.prototype.bincn=function(p){n(typeof p=="number");var b=p%26,_=(p-b)/26,O=1<<b;if(this.length<=_)return this._expand(_+1),this.words[_]|=O,this;for(var G=O,z=_;G!==0&&z<this.length;z++){var k=this.words[z]|0;k+=G,G=k>>>26,k&=67108863,this.words[z]=k}return G!==0&&(this.words[z]=G,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(p){var b=p<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this._strip();var _;if(this.length>1)_=1;else{b&&(p=-p),n(p<=67108863,"Number is too big");var O=this.words[0]|0;_=O===p?0:O<p?-1:1}return this.negative!==0?-_|0:_},a.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var b=this.ucmp(p);return this.negative!==0?-b|0:b},a.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var b=0,_=this.length-1;_>=0;_--){var O=this.words[_]|0,G=p.words[_]|0;if(O!==G){O<G?b=-1:O>G&&(b=1);break}}return b},a.prototype.gtn=function(p){return this.cmpn(p)===1},a.prototype.gt=function(p){return this.cmp(p)===1},a.prototype.gten=function(p){return this.cmpn(p)>=0},a.prototype.gte=function(p){return this.cmp(p)>=0},a.prototype.ltn=function(p){return this.cmpn(p)===-1},a.prototype.lt=function(p){return this.cmp(p)===-1},a.prototype.lten=function(p){return this.cmpn(p)<=0},a.prototype.lte=function(p){return this.cmp(p)<=0},a.prototype.eqn=function(p){return this.cmpn(p)===0},a.prototype.eq=function(p){return this.cmp(p)===0},a.red=function(p){return new Q(p)},a.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(p){return this.red=p,this},a.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},a.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},a.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},a.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},a.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},a.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},a.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},a.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var K={k256:null,p224:null,p192:null,p25519:null};function V(T,p){this.name=T,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var p=new a(null);return p.words=new Array(Math.ceil(this.n/13)),p},V.prototype.ireduce=function(p){var b=p,_;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),_=b.bitLength();while(_>this.n);var O=_<this.n?-1:b.ucmp(this.p);return O===0?(b.words[0]=0,b.length=1):O>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},V.prototype.split=function(p,b){p.iushrn(this.n,0,b)},V.prototype.imulK=function(p){return p.imul(this.k)};function H(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(H,V),H.prototype.split=function(p,b){for(var _=4194303,O=Math.min(p.length,9),G=0;G<O;G++)b.words[G]=p.words[G];if(b.length=O,p.length<=9){p.words[0]=0,p.length=1;return}var z=p.words[9];for(b.words[b.length++]=z&_,G=10;G<p.length;G++){var k=p.words[G]|0;p.words[G-10]=(k&_)<<4|z>>>22,z=k}z>>>=22,p.words[G-10]=z,z===0&&p.length>10?p.length-=10:p.length-=9},H.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var b=0,_=0;_<p.length;_++){var O=p.words[_]|0;b+=O*977,p.words[_]=b&67108863,b=O*64+(b/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function J(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(J,V);function q(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(q,V);function Z(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Z,V),Z.prototype.imulK=function(p){for(var b=0,_=0;_<p.length;_++){var O=(p.words[_]|0)*19+b,G=O&67108863;O>>>=26,p.words[_]=G,b=O}return b!==0&&(p.words[p.length++]=b),p},a._prime=function(p){if(K[p])return K[p];var b;if(p==="k256")b=new H;else if(p==="p224")b=new J;else if(p==="p192")b=new q;else if(p==="p25519")b=new Z;else throw new Error("Unknown prime "+p);return K[p]=b,b};function Q(T){if(typeof T=="string"){var p=a._prime(T);this.m=p.p,this.prime=p}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}Q.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},Q.prototype._verify2=function(p,b){n((p.negative|b.negative)===0,"red works only with positives"),n(p.red&&p.red===b.red,"red works only with red numbers")},Q.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(m(p,p.umod(this.m)._forceRed(this)),p)},Q.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},Q.prototype.add=function(p,b){this._verify2(p,b);var _=p.add(b);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},Q.prototype.iadd=function(p,b){this._verify2(p,b);var _=p.iadd(b);return _.cmp(this.m)>=0&&_.isub(this.m),_},Q.prototype.sub=function(p,b){this._verify2(p,b);var _=p.sub(b);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},Q.prototype.isub=function(p,b){this._verify2(p,b);var _=p.isub(b);return _.cmpn(0)<0&&_.iadd(this.m),_},Q.prototype.shl=function(p,b){return this._verify1(p),this.imod(p.ushln(b))},Q.prototype.imul=function(p,b){return this._verify2(p,b),this.imod(p.imul(b))},Q.prototype.mul=function(p,b){return this._verify2(p,b),this.imod(p.mul(b))},Q.prototype.isqr=function(p){return this.imul(p,p.clone())},Q.prototype.sqr=function(p){return this.mul(p,p)},Q.prototype.sqrt=function(p){if(p.isZero())return p.clone();var b=this.m.andln(3);if(n(b%2===1),b===3){var _=this.m.add(new a(1)).iushrn(2);return this.pow(p,_)}for(var O=this.m.subn(1),G=0;!O.isZero()&&O.andln(1)===0;)G++,O.iushrn(1);n(!O.isZero());var z=new a(1).toRed(this),k=z.redNeg(),A=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new a(2*g*g).toRed(this);this.pow(g,A).cmp(k)!==0;)g.redIAdd(k);for(var w=this.pow(g,O),j=this.pow(p,O.addn(1).iushrn(1)),X=this.pow(p,O),ne=G;X.cmp(z)!==0;){for(var oe=X,be=0;oe.cmp(z)!==0;be++)oe=oe.redSqr();n(be<ne);var we=this.pow(w,new a(1).iushln(ne-be-1));j=j.redMul(we),w=we.redSqr(),X=X.redMul(w),ne=be}return j},Q.prototype.invm=function(p){var b=p._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},Q.prototype.pow=function(p,b){if(b.isZero())return new a(1).toRed(this);if(b.cmpn(1)===0)return p.clone();var _=4,O=new Array(1<<_);O[0]=new a(1).toRed(this),O[1]=p;for(var G=2;G<O.length;G++)O[G]=this.mul(O[G-1],p);var z=O[0],k=0,A=0,g=b.bitLength()%26;for(g===0&&(g=26),G=b.length-1;G>=0;G--){for(var w=b.words[G],j=g-1;j>=0;j--){var X=w>>j&1;if(z!==O[0]&&(z=this.sqr(z)),X===0&&k===0){A=0;continue}k<<=1,k|=X,A++,!(A!==_&&(G!==0||j!==0))&&(z=this.mul(z,O[k]),A=0,k=0)}g=26}return z},Q.prototype.convertTo=function(p){var b=p.umod(this.m);return b===p?b.clone():b},Q.prototype.convertFrom=function(p){var b=p.clone();return b.red=null,b},a.mont=function(p){return new $(p)};function $(T){Q.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s($,Q),$.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},$.prototype.convertFrom=function(p){var b=this.imod(p.mul(this.rinv));return b.red=null,b},$.prototype.imul=function(p,b){if(p.isZero()||b.isZero())return p.words[0]=0,p.length=1,p;var _=p.imul(b),O=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),G=_.isub(O).iushrn(this.shift),z=G;return G.cmp(this.m)>=0?z=G.isub(this.m):G.cmpn(0)<0&&(z=G.iadd(this.m)),z._forceRed(this)},$.prototype.mul=function(p,b){if(p.isZero()||b.isZero())return new a(0)._forceRed(this);var _=p.mul(b),O=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),G=_.isub(O).iushrn(this.shift),z=G;return G.cmp(this.m)>=0?z=G.isub(this.m):G.cmpn(0)<0&&(z=G.iadd(this.m)),z._forceRed(this)},$.prototype.invm=function(p){var b=this.imod(p._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(r,BR)})(dx)),dx.exports}var SR=Zm();const Bo=ri(SR);var Td={exports:{}};var c2;function Qm(){return c2||(c2=1,(function(r,e){var t=km(),n=t.Buffer;function s(l,u){for(var f in l)u[f]=l[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(s(t,e),e.Buffer=a);function a(l,u,f){return n(l,u,f)}a.prototype=Object.create(n.prototype),s(n,a),a.from=function(l,u,f){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,u,f)},a.alloc=function(l,u,f){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=n(l);return u!==void 0?typeof f=="string"?h.fill(u,f):h.fill(u):h.fill(0),h},a.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},a.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(l)}})(Td,Td.exports)),Td.exports}var dg,u2;function _R(){if(u2)return dg;u2=1;var r=Qm().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var a=0;a<t.length;a++){var l=t.charAt(a),u=l.charCodeAt(0);if(n[u]!==255)throw new TypeError(l+" is ambiguous");n[u]=a}var f=t.length,h=t.charAt(0),m=Math.log(f)/Math.log(256),E=Math.log(256)/Math.log(f);function S(R){if((Array.isArray(R)||R instanceof Uint8Array)&&(R=r.from(R)),!r.isBuffer(R))throw new TypeError("Expected Buffer");if(R.length===0)return"";for(var D=0,M=0,N=0,F=R.length;N!==F&&R[N]===0;)N++,D++;for(var P=(F-N)*E+1>>>0,K=new Uint8Array(P);N!==F;){for(var V=R[N],H=0,J=P-1;(V!==0||H<M)&&J!==-1;J--,H++)V+=256*K[J]>>>0,K[J]=V%f>>>0,V=V/f>>>0;if(V!==0)throw new Error("Non-zero carry");M=H,N++}for(var q=P-M;q!==P&&K[q]===0;)q++;for(var Z=h.repeat(D);q<P;++q)Z+=t.charAt(K[q]);return Z}function C(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return r.alloc(0);for(var D=0,M=0,N=0;R[D]===h;)M++,D++;for(var F=(R.length-D)*m+1>>>0,P=new Uint8Array(F);D<R.length;){var K=R.charCodeAt(D);if(K>255)return;var V=n[K];if(V===255)return;for(var H=0,J=F-1;(V!==0||H<N)&&J!==-1;J--,H++)V+=f*P[J]>>>0,P[J]=V%256>>>0,V=V/256>>>0;if(V!==0)throw new Error("Non-zero carry");N=H,D++}for(var q=F-N;q!==F&&P[q]===0;)q++;var Z=r.allocUnsafe(M+(F-q));Z.fill(0,0,M);for(var Q=M;q!==F;)Z[Q++]=P[q++];return Z}function v(R){var D=C(R);if(D)return D;throw new Error("Non-base"+f+" character")}return{encode:S,decodeUnsafe:C,decode:v}}return dg=e,dg}var xg,d2;function DR(){if(d2)return xg;d2=1;var r=_R(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return xg=r(e),xg}var RR=DR();const rr=ri(RR),x2=GA;var Mt={},fg,f2;function kR(){if(f2)return fg;f2=1;var r=Qm().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var a=0;a<t.length;a++){var l=t.charAt(a),u=l.charCodeAt(0);if(n[u]!==255)throw new TypeError(l+" is ambiguous");n[u]=a}var f=t.length,h=t.charAt(0),m=Math.log(f)/Math.log(256),E=Math.log(256)/Math.log(f);function S(R){if((Array.isArray(R)||R instanceof Uint8Array)&&(R=r.from(R)),!r.isBuffer(R))throw new TypeError("Expected Buffer");if(R.length===0)return"";for(var D=0,M=0,N=0,F=R.length;N!==F&&R[N]===0;)N++,D++;for(var P=(F-N)*E+1>>>0,K=new Uint8Array(P);N!==F;){for(var V=R[N],H=0,J=P-1;(V!==0||H<M)&&J!==-1;J--,H++)V+=256*K[J]>>>0,K[J]=V%f>>>0,V=V/f>>>0;if(V!==0)throw new Error("Non-zero carry");M=H,N++}for(var q=P-M;q!==P&&K[q]===0;)q++;for(var Z=h.repeat(D);q<P;++q)Z+=t.charAt(K[q]);return Z}function C(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return r.alloc(0);for(var D=0,M=0,N=0;R[D]===h;)M++,D++;for(var F=(R.length-D)*m+1>>>0,P=new Uint8Array(F);D<R.length;){var K=R.charCodeAt(D);if(K>255)return;var V=n[K];if(V===255)return;for(var H=0,J=F-1;(V!==0||H<N)&&J!==-1;J--,H++)V+=f*P[J]>>>0,P[J]=V%256>>>0,V=V/256>>>0;if(V!==0)throw new Error("Non-zero carry");N=H,D++}for(var q=F-N;q!==F&&P[q]===0;)q++;var Z=r.allocUnsafe(M+(F-q));Z.fill(0,0,M);for(var Q=M;q!==F;)Z[Q++]=P[q++];return Z}function v(R){var D=C(R);if(D)return D;throw new Error("Non-base"+f+" character")}return{encode:S,decodeUnsafe:C,decode:v}}return fg=e,fg}var hg,h2;function FR(){if(h2)return hg;h2=1;var r=kR(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return hg=r(e),hg}function So(r,e,t){return e<=r&&r<=t}function ff(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function TR(r){for(var e=String(r),t=e.length,n=0,s=[];n<t;){var a=e.charCodeAt(n);if(a<55296||a>57343)s.push(a);else if(56320<=a&&a<=57343)s.push(65533);else if(55296<=a&&a<=56319)if(n===t-1)s.push(65533);else{var l=r.charCodeAt(n+1);if(56320<=l&&l<=57343){var u=a&1023,f=l&1023;s.push(65536+(u<<10)+f),n+=1}else s.push(65533)}n+=1}return s}function NR(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var zx=-1;function Xm(r){this.tokens=[].slice.call(r)}Xm.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():zx},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var nc=-1;function pg(r,e){if(r)throw TypeError("Decoder error");return e||65533}var Ux="utf-8";function Hx(r,e){if(!(this instanceof Hx))return new Hx(r,e);if(r=r!==void 0?String(r).toLowerCase():Ux,r!==Ux)throw new Error("Encoding not supported. Only utf-8 is supported");e=ff(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Hx.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=ff(t),this._streaming||(this._decoder=new IR({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var s=new Xm(n),a=[],l;!s.endOfStream()&&(l=this._decoder.handler(s,s.read()),l!==nc);)l!==null&&(Array.isArray(l)?a.push.apply(a,l):a.push(l));if(!this._streaming){do{if(l=this._decoder.handler(s,s.read()),l===nc)break;l!==null&&(Array.isArray(l)?a.push.apply(a,l):a.push(l))}while(!s.endOfStream());this._decoder=null}return a.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(a[0]===65279?(this._BOMseen=!0,a.shift()):this._BOMseen=!0),NR(a)}};function Wx(r,e){if(!(this instanceof Wx))return new Wx(r,e);if(r=r!==void 0?String(r).toLowerCase():Ux,r!==Ux)throw new Error("Encoding not supported. Only utf-8 is supported");e=ff(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Wx.prototype={encode:function(e,t){e=e?String(e):"",t=ff(t),this._streaming||(this._encoder=new MR(this._options)),this._streaming=!!t.stream;for(var n=[],s=new Xm(TR(e)),a;!s.endOfStream()&&(a=this._encoder.handler(s,s.read()),a!==nc);)Array.isArray(a)?n.push.apply(n,a):n.push(a);if(!this._streaming){for(;a=this._encoder.handler(s,s.read()),a!==nc;)Array.isArray(a)?n.push.apply(n,a):n.push(a);this._encoder=null}return new Uint8Array(n)}};function IR(r){var e=r.fatal,t=0,n=0,s=0,a=128,l=191;this.handler=function(u,f){if(f===zx&&s!==0)return s=0,pg(e);if(f===zx)return nc;if(s===0){if(So(f,0,127))return f;if(So(f,194,223))s=1,t=f-192;else if(So(f,224,239))f===224&&(a=160),f===237&&(l=159),s=2,t=f-224;else if(So(f,240,244))f===240&&(a=144),f===244&&(l=143),s=3,t=f-240;else return pg(e);return t=t<<6*s,null}if(!So(f,a,l))return t=s=n=0,a=128,l=191,u.prepend(f),pg(e);if(a=128,l=191,n+=1,t+=f-128<<6*(s-n),n!==s)return null;var h=t;return t=s=n=0,h}}function MR(r){r.fatal,this.handler=function(e,t){if(t===zx)return nc;if(So(t,0,127))return t;var n,s;So(t,128,2047)?(n=1,s=192):So(t,2048,65535)?(n=2,s=224):So(t,65536,1114111)&&(n=3,s=240);for(var a=[(t>>6*n)+s];n>0;){var l=t>>6*(n-1);a.push(128|l&63),n-=1}return a}}const OR=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Hx,TextEncoder:Wx},Symbol.toStringTag,{value:"Module"})),jR=tf(OR);var p2;function LR(){if(p2)return Mt;p2=1;var r=Mt&&Mt.__createBinding||(Object.create?(function(q,Z,Q,$){$===void 0&&($=Q),Object.defineProperty(q,$,{enumerable:!0,get:function(){return Z[Q]}})}):(function(q,Z,Q,$){$===void 0&&($=Q),q[$]=Z[Q]})),e=Mt&&Mt.__setModuleDefault||(Object.create?(function(q,Z){Object.defineProperty(q,"default",{enumerable:!0,value:Z})}):function(q,Z){q.default=Z}),t=Mt&&Mt.__decorate||function(q,Z,Q,$){var T=arguments.length,p=T<3?Z:$===null?$=Object.getOwnPropertyDescriptor(Z,Q):$,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(q,Z,Q,$);else for(var _=q.length-1;_>=0;_--)(b=q[_])&&(p=(T<3?b(p):T>3?b(Z,Q,p):b(Z,Q))||p);return T>3&&p&&Object.defineProperty(Z,Q,p),p},n=Mt&&Mt.__importStar||function(q){if(q&&q.__esModule)return q;var Z={};if(q!=null)for(var Q in q)Q!=="default"&&Object.hasOwnProperty.call(q,Q)&&r(Z,q,Q);return e(Z,q),Z},s=Mt&&Mt.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.deserializeUnchecked=Mt.deserialize=Mt.serialize=Mt.BinaryReader=Mt.BinaryWriter=Mt.BorshError=Mt.baseDecode=Mt.baseEncode=void 0;const a=s(Zm()),l=s(FR()),u=n(jR),f=typeof TextDecoder!="function"?u.TextDecoder:TextDecoder,h=new f("utf-8",{fatal:!0});function m(q){return typeof q=="string"&&(q=Buffer.from(q,"utf8")),l.default.encode(Buffer.from(q))}Mt.baseEncode=m;function E(q){return Buffer.from(l.default.decode(q))}Mt.baseDecode=E;const S=1024;class C extends Error{constructor(Z){super(Z),this.fieldPath=[],this.originalMessage=Z}addToFieldPath(Z){this.fieldPath.splice(0,0,Z),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Mt.BorshError=C;class v{constructor(){this.buf=Buffer.alloc(S),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(S)]))}writeU8(Z){this.maybeResize(),this.buf.writeUInt8(Z,this.length),this.length+=1}writeU16(Z){this.maybeResize(),this.buf.writeUInt16LE(Z,this.length),this.length+=2}writeU32(Z){this.maybeResize(),this.buf.writeUInt32LE(Z,this.length),this.length+=4}writeU64(Z){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(Z).toArray("le",8)))}writeU128(Z){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(Z).toArray("le",16)))}writeU256(Z){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(Z).toArray("le",32)))}writeU512(Z){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(Z).toArray("le",64)))}writeBuffer(Z){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),Z,Buffer.alloc(S)]),this.length+=Z.length}writeString(Z){this.maybeResize();const Q=Buffer.from(Z,"utf8");this.writeU32(Q.length),this.writeBuffer(Q)}writeFixedArray(Z){this.writeBuffer(Buffer.from(Z))}writeArray(Z,Q){this.maybeResize(),this.writeU32(Z.length);for(const $ of Z)this.maybeResize(),Q($)}toArray(){return this.buf.subarray(0,this.length)}}Mt.BinaryWriter=v;function R(q,Z,Q){const $=Q.value;Q.value=function(...T){try{return $.apply(this,T)}catch(p){if(p instanceof RangeError){const b=p.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(b)>=0)throw new C("Reached the end of buffer when deserializing")}throw p}}}class D{constructor(Z){this.buf=Z,this.offset=0}readU8(){const Z=this.buf.readUInt8(this.offset);return this.offset+=1,Z}readU16(){const Z=this.buf.readUInt16LE(this.offset);return this.offset+=2,Z}readU32(){const Z=this.buf.readUInt32LE(this.offset);return this.offset+=4,Z}readU64(){const Z=this.readBuffer(8);return new a.default(Z,"le")}readU128(){const Z=this.readBuffer(16);return new a.default(Z,"le")}readU256(){const Z=this.readBuffer(32);return new a.default(Z,"le")}readU512(){const Z=this.readBuffer(64);return new a.default(Z,"le")}readBuffer(Z){if(this.offset+Z>this.buf.length)throw new C(`Expected buffer length ${Z} isn't within bounds`);const Q=this.buf.slice(this.offset,this.offset+Z);return this.offset+=Z,Q}readString(){const Z=this.readU32(),Q=this.readBuffer(Z);try{return h.decode(Q)}catch($){throw new C(`Error decoding UTF-8 string: ${$}`)}}readFixedArray(Z){return new Uint8Array(this.readBuffer(Z))}readArray(Z){const Q=this.readU32(),$=Array();for(let T=0;T<Q;++T)$.push(Z());return $}}t([R],D.prototype,"readU8",null),t([R],D.prototype,"readU16",null),t([R],D.prototype,"readU32",null),t([R],D.prototype,"readU64",null),t([R],D.prototype,"readU128",null),t([R],D.prototype,"readU256",null),t([R],D.prototype,"readU512",null),t([R],D.prototype,"readString",null),t([R],D.prototype,"readFixedArray",null),t([R],D.prototype,"readArray",null),Mt.BinaryReader=D;function M(q){return q.charAt(0).toUpperCase()+q.slice(1)}function N(q,Z,Q,$,T){try{if(typeof $=="string")T[`write${M($)}`](Q);else if($ instanceof Array)if(typeof $[0]=="number"){if(Q.length!==$[0])throw new C(`Expecting byte array of length ${$[0]}, but got ${Q.length} bytes`);T.writeFixedArray(Q)}else if($.length===2&&typeof $[1]=="number"){if(Q.length!==$[1])throw new C(`Expecting byte array of length ${$[1]}, but got ${Q.length} bytes`);for(let p=0;p<$[1];p++)N(q,null,Q[p],$[0],T)}else T.writeArray(Q,p=>{N(q,Z,p,$[0],T)});else if($.kind!==void 0)switch($.kind){case"option":{Q==null?T.writeU8(0):(T.writeU8(1),N(q,Z,Q,$.type,T));break}case"map":{T.writeU32(Q.size),Q.forEach((p,b)=>{N(q,Z,b,$.key,T),N(q,Z,p,$.value,T)});break}default:throw new C(`FieldType ${$} unrecognized`)}else F(q,Q,T)}catch(p){throw p instanceof C&&p.addToFieldPath(Z),p}}function F(q,Z,Q){if(typeof Z.borshSerialize=="function"){Z.borshSerialize(Q);return}const $=q.get(Z.constructor);if(!$)throw new C(`Class ${Z.constructor.name} is missing in schema`);if($.kind==="struct")$.fields.map(([T,p])=>{N(q,T,Z[T],p,Q)});else if($.kind==="enum"){const T=Z[$.field];for(let p=0;p<$.values.length;++p){const[b,_]=$.values[p];if(b===T){Q.writeU8(p),N(q,b,Z[b],_,Q);break}}}else throw new C(`Unexpected schema kind: ${$.kind} for ${Z.constructor.name}`)}function P(q,Z,Q=v){const $=new Q;return F(q,Z,$),$.toArray()}Mt.serialize=P;function K(q,Z,Q,$){try{if(typeof Q=="string")return $[`read${M(Q)}`]();if(Q instanceof Array){if(typeof Q[0]=="number")return $.readFixedArray(Q[0]);if(typeof Q[1]=="number"){const T=[];for(let p=0;p<Q[1];p++)T.push(K(q,null,Q[0],$));return T}else return $.readArray(()=>K(q,Z,Q[0],$))}if(Q.kind==="option")return $.readU8()?K(q,Z,Q.type,$):void 0;if(Q.kind==="map"){let T=new Map;const p=$.readU32();for(let b=0;b<p;b++){const _=K(q,Z,Q.key,$),O=K(q,Z,Q.value,$);T.set(_,O)}return T}return V(q,Q,$)}catch(T){throw T instanceof C&&T.addToFieldPath(Z),T}}function V(q,Z,Q){if(typeof Z.borshDeserialize=="function")return Z.borshDeserialize(Q);const $=q.get(Z);if(!$)throw new C(`Class ${Z.name} is missing in schema`);if($.kind==="struct"){const T={};for(const[p,b]of q.get(Z).fields)T[p]=K(q,p,b,Q);return new Z(T)}if($.kind==="enum"){const T=Q.readU8();if(T>=$.values.length)throw new C(`Enum index: ${T} is out of range`);const[p,b]=$.values[T],_=K(q,p,b,Q);return new Z({[p]:_})}throw new C(`Unexpected schema kind: ${$.kind} for ${Z.constructor.name}`)}function H(q,Z,Q,$=D){const T=new $(Q),p=V(q,Z,T);if(T.offset<Q.length)throw new C(`Unexpected ${Q.length-T.offset} bytes after deserialized data`);return p}Mt.deserialize=H;function J(q,Z,Q,$=D){const T=new $(Q);return V(q,Z,T)}return Mt.deserializeUnchecked=J,Mt}var gg=LR(),pe={},g2;function PR(){if(g2)return pe;g2=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.s16=pe.s8=pe.nu64be=pe.u48be=pe.u40be=pe.u32be=pe.u24be=pe.u16be=pe.nu64=pe.u48=pe.u40=pe.u32=pe.u24=pe.u16=pe.u8=pe.offset=pe.greedy=pe.Constant=pe.UTF8=pe.CString=pe.Blob=pe.Boolean=pe.BitField=pe.BitStructure=pe.VariantLayout=pe.Union=pe.UnionLayoutDiscriminator=pe.UnionDiscriminator=pe.Structure=pe.Sequence=pe.DoubleBE=pe.Double=pe.FloatBE=pe.Float=pe.NearInt64BE=pe.NearInt64=pe.NearUInt64BE=pe.NearUInt64=pe.IntBE=pe.Int=pe.UIntBE=pe.UInt=pe.OffsetLayout=pe.GreedyCount=pe.ExternalLayout=pe.bindConstructorLayout=pe.nameWithProperty=pe.Layout=pe.uint8ArrayToBuffer=pe.checkUint8Array=void 0,pe.constant=pe.utf8=pe.cstr=pe.blob=pe.unionLayoutDiscriminator=pe.union=pe.seq=pe.bits=pe.struct=pe.f64be=pe.f64=pe.f32be=pe.f32=pe.ns64be=pe.s48be=pe.s40be=pe.s32be=pe.s24be=pe.s16be=pe.ns64=pe.s48=pe.s40=pe.s32=pe.s24=void 0;const r=km();function e(g){if(!(g instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}pe.checkUint8Array=e;function t(g){return e(g),r.Buffer.from(g.buffer,g.byteOffset,g.length)}pe.uint8ArrayToBuffer=t;class n{constructor(w,j){if(!Number.isInteger(w))throw new TypeError("span must be an integer");this.span=w,this.property=j}makeDestinationObject(){return{}}getSpan(w,j){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(w){const j=Object.create(this.constructor.prototype);return Object.assign(j,this),j.property=w,j}fromArray(w){}}pe.Layout=n;function s(g,w){return w.property?g+"["+w.property+"]":g}pe.nameWithProperty=s;function a(g,w){if(typeof g!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(g,"layout_"))throw new Error("Class is already bound to a layout");if(!(w&&w instanceof n))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(w,"boundConstructor_"))throw new Error("layout is already bound to a constructor");g.layout_=w,w.boundConstructor_=g,w.makeDestinationObject=(()=>new g),Object.defineProperty(g.prototype,"encode",{value(j,X){return w.encode(this,j,X)},writable:!0}),Object.defineProperty(g,"decode",{value(j,X){return w.decode(j,X)},writable:!0})}pe.bindConstructorLayout=a;class l extends n{isCount(){throw new Error("ExternalLayout is abstract")}}pe.ExternalLayout=l;class u extends l{constructor(w=1,j){if(!Number.isInteger(w)||0>=w)throw new TypeError("elementSpan must be a (positive) integer");super(-1,j),this.elementSpan=w}isCount(){return!0}decode(w,j=0){e(w);const X=w.length-j;return Math.floor(X/this.elementSpan)}encode(w,j,X){return 0}}pe.GreedyCount=u;class f extends l{constructor(w,j=0,X){if(!(w instanceof n))throw new TypeError("layout must be a Layout");if(!Number.isInteger(j))throw new TypeError("offset must be integer or undefined");super(w.span,X||w.property),this.layout=w,this.offset=j}isCount(){return this.layout instanceof h||this.layout instanceof m}decode(w,j=0){return this.layout.decode(w,j+this.offset)}encode(w,j,X=0){return this.layout.encode(w,j,X+this.offset)}}pe.OffsetLayout=f;class h extends n{constructor(w,j){if(super(w,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(w,j=0){return t(w).readUIntLE(j,this.span)}encode(w,j,X=0){return t(j).writeUIntLE(w,X,this.span),this.span}}pe.UInt=h;class m extends n{constructor(w,j){if(super(w,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(w,j=0){return t(w).readUIntBE(j,this.span)}encode(w,j,X=0){return t(j).writeUIntBE(w,X,this.span),this.span}}pe.UIntBE=m;class E extends n{constructor(w,j){if(super(w,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(w,j=0){return t(w).readIntLE(j,this.span)}encode(w,j,X=0){return t(j).writeIntLE(w,X,this.span),this.span}}pe.Int=E;class S extends n{constructor(w,j){if(super(w,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(w,j=0){return t(w).readIntBE(j,this.span)}encode(w,j,X=0){return t(j).writeIntBE(w,X,this.span),this.span}}pe.IntBE=S;const C=Math.pow(2,32);function v(g){const w=Math.floor(g/C),j=g-w*C;return{hi32:w,lo32:j}}function R(g,w){return g*C+w}class D extends n{constructor(w){super(8,w)}decode(w,j=0){const X=t(w),ne=X.readUInt32LE(j),oe=X.readUInt32LE(j+4);return R(oe,ne)}encode(w,j,X=0){const ne=v(w),oe=t(j);return oe.writeUInt32LE(ne.lo32,X),oe.writeUInt32LE(ne.hi32,X+4),8}}pe.NearUInt64=D;class M extends n{constructor(w){super(8,w)}decode(w,j=0){const X=t(w),ne=X.readUInt32BE(j),oe=X.readUInt32BE(j+4);return R(ne,oe)}encode(w,j,X=0){const ne=v(w),oe=t(j);return oe.writeUInt32BE(ne.hi32,X),oe.writeUInt32BE(ne.lo32,X+4),8}}pe.NearUInt64BE=M;class N extends n{constructor(w){super(8,w)}decode(w,j=0){const X=t(w),ne=X.readUInt32LE(j),oe=X.readInt32LE(j+4);return R(oe,ne)}encode(w,j,X=0){const ne=v(w),oe=t(j);return oe.writeUInt32LE(ne.lo32,X),oe.writeInt32LE(ne.hi32,X+4),8}}pe.NearInt64=N;class F extends n{constructor(w){super(8,w)}decode(w,j=0){const X=t(w),ne=X.readInt32BE(j),oe=X.readUInt32BE(j+4);return R(ne,oe)}encode(w,j,X=0){const ne=v(w),oe=t(j);return oe.writeInt32BE(ne.hi32,X),oe.writeUInt32BE(ne.lo32,X+4),8}}pe.NearInt64BE=F;class P extends n{constructor(w){super(4,w)}decode(w,j=0){return t(w).readFloatLE(j)}encode(w,j,X=0){return t(j).writeFloatLE(w,X),4}}pe.Float=P;class K extends n{constructor(w){super(4,w)}decode(w,j=0){return t(w).readFloatBE(j)}encode(w,j,X=0){return t(j).writeFloatBE(w,X),4}}pe.FloatBE=K;class V extends n{constructor(w){super(8,w)}decode(w,j=0){return t(w).readDoubleLE(j)}encode(w,j,X=0){return t(j).writeDoubleLE(w,X),8}}pe.Double=V;class H extends n{constructor(w){super(8,w)}decode(w,j=0){return t(w).readDoubleBE(j)}encode(w,j,X=0){return t(j).writeDoubleBE(w,X),8}}pe.DoubleBE=H;class J extends n{constructor(w,j,X){if(!(w instanceof n))throw new TypeError("elementLayout must be a Layout");if(!(j instanceof l&&j.isCount()||Number.isInteger(j)&&0<=j))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let ne=-1;!(j instanceof l)&&0<w.span&&(ne=j*w.span),super(ne,X),this.elementLayout=w,this.count=j}getSpan(w,j=0){if(0<=this.span)return this.span;let X=0,ne=this.count;if(ne instanceof l&&(ne=ne.decode(w,j)),0<this.elementLayout.span)X=ne*this.elementLayout.span;else{let oe=0;for(;oe<ne;)X+=this.elementLayout.getSpan(w,j+X),++oe}return X}decode(w,j=0){const X=[];let ne=0,oe=this.count;for(oe instanceof l&&(oe=oe.decode(w,j));ne<oe;)X.push(this.elementLayout.decode(w,j)),j+=this.elementLayout.getSpan(w,j),ne+=1;return X}encode(w,j,X=0){const ne=this.elementLayout,oe=w.reduce((be,we)=>be+ne.encode(we,j,X+be),0);return this.count instanceof l&&this.count.encode(w.length,j,X),oe}}pe.Sequence=J;class q extends n{constructor(w,j,X){if(!(Array.isArray(w)&&w.reduce((oe,be)=>oe&&be instanceof n,!0)))throw new TypeError("fields must be array of Layout instances");typeof j=="boolean"&&X===void 0&&(X=j,j=void 0);for(const oe of w)if(0>oe.span&&oe.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let ne=-1;try{ne=w.reduce((oe,be)=>oe+be.getSpan(),0)}catch{}super(ne,j),this.fields=w,this.decodePrefixes=!!X}getSpan(w,j=0){if(0<=this.span)return this.span;let X=0;try{X=this.fields.reduce((ne,oe)=>{const be=oe.getSpan(w,j);return j+=be,ne+be},0)}catch{throw new RangeError("indeterminate span")}return X}decode(w,j=0){e(w);const X=this.makeDestinationObject();for(const ne of this.fields)if(ne.property!==void 0&&(X[ne.property]=ne.decode(w,j)),j+=ne.getSpan(w,j),this.decodePrefixes&&w.length===j)break;return X}encode(w,j,X=0){const ne=X;let oe=0,be=0;for(const we of this.fields){let Je=we.span;if(be=0<Je?Je:0,we.property!==void 0){const et=w[we.property];et!==void 0&&(be=we.encode(et,j,X),0>Je&&(Je=we.getSpan(j,X)))}oe=X,X+=Je}return oe+be-ne}fromArray(w){const j=this.makeDestinationObject();for(const X of this.fields)X.property!==void 0&&0<w.length&&(j[X.property]=w.shift());return j}layoutFor(w){if(typeof w!="string")throw new TypeError("property must be string");for(const j of this.fields)if(j.property===w)return j}offsetOf(w){if(typeof w!="string")throw new TypeError("property must be string");let j=0;for(const X of this.fields){if(X.property===w)return j;0>X.span?j=-1:0<=j&&(j+=X.span)}}}pe.Structure=q;class Z{constructor(w){this.property=w}decode(w,j){throw new Error("UnionDiscriminator is abstract")}encode(w,j,X){throw new Error("UnionDiscriminator is abstract")}}pe.UnionDiscriminator=Z;class Q extends Z{constructor(w,j){if(!(w instanceof l&&w.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(j||w.property||"variant"),this.layout=w}decode(w,j){return this.layout.decode(w,j)}encode(w,j,X){return this.layout.encode(w,j,X)}}pe.UnionLayoutDiscriminator=Q;class $ extends n{constructor(w,j,X){let ne;if(w instanceof h||w instanceof m)ne=new Q(new f(w));else if(w instanceof l&&w.isCount())ne=new Q(w);else if(w instanceof Z)ne=w;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(j===void 0&&(j=null),!(j===null||j instanceof n))throw new TypeError("defaultLayout must be null or a Layout");if(j!==null){if(0>j.span)throw new Error("defaultLayout must have constant span");j.property===void 0&&(j=j.replicate("content"))}let oe=-1;j&&(oe=j.span,0<=oe&&(w instanceof h||w instanceof m)&&(oe+=ne.layout.span)),super(oe,X),this.discriminator=ne,this.usesPrefixDiscriminator=w instanceof h||w instanceof m,this.defaultLayout=j,this.registry={};let be=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(we){return be(we)},this.configGetSourceVariant=function(we){be=we.bind(this)}}getSpan(w,j=0){if(0<=this.span)return this.span;const X=this.getVariant(w,j);if(!X)throw new Error("unable to determine span for unrecognized variant");return X.getSpan(w,j)}defaultGetSourceVariant(w){if(Object.prototype.hasOwnProperty.call(w,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(w,this.defaultLayout.property))return;const j=this.registry[w[this.discriminator.property]];if(j&&(!j.layout||j.property&&Object.prototype.hasOwnProperty.call(w,j.property)))return j}else for(const j in this.registry){const X=this.registry[j];if(X.property&&Object.prototype.hasOwnProperty.call(w,X.property))return X}throw new Error("unable to infer src variant")}decode(w,j=0){let X;const ne=this.discriminator,oe=ne.decode(w,j),be=this.registry[oe];if(be===void 0){const we=this.defaultLayout;let Je=0;this.usesPrefixDiscriminator&&(Je=ne.layout.span),X=this.makeDestinationObject(),X[ne.property]=oe,X[we.property]=we.decode(w,j+Je)}else X=be.decode(w,j);return X}encode(w,j,X=0){const ne=this.getSourceVariant(w);if(ne===void 0){const oe=this.discriminator,be=this.defaultLayout;let we=0;return this.usesPrefixDiscriminator&&(we=oe.layout.span),oe.encode(w[oe.property],j,X),we+be.encode(w[be.property],j,X+we)}return ne.encode(w,j,X)}addVariant(w,j,X){const ne=new T(this,w,j,X);return this.registry[w]=ne,ne}getVariant(w,j=0){let X;return w instanceof Uint8Array?X=this.discriminator.decode(w,j):X=w,this.registry[X]}}pe.Union=$;class T extends n{constructor(w,j,X,ne){if(!(w instanceof $))throw new TypeError("union must be a Union");if(!Number.isInteger(j)||0>j)throw new TypeError("variant must be a (non-negative) integer");if(typeof X=="string"&&ne===void 0&&(ne=X,X=null),X){if(!(X instanceof n))throw new TypeError("layout must be a Layout");if(w.defaultLayout!==null&&0<=X.span&&X.span>w.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof ne!="string")throw new TypeError("variant must have a String property")}let oe=w.span;0>w.span&&(oe=X?X.span:0,0<=oe&&w.usesPrefixDiscriminator&&(oe+=w.discriminator.layout.span)),super(oe,ne),this.union=w,this.variant=j,this.layout=X||null}getSpan(w,j=0){if(0<=this.span)return this.span;let X=0;this.union.usesPrefixDiscriminator&&(X=this.union.discriminator.layout.span);let ne=0;return this.layout&&(ne=this.layout.getSpan(w,j+X)),X+ne}decode(w,j=0){const X=this.makeDestinationObject();if(this!==this.union.getVariant(w,j))throw new Error("variant mismatch");let ne=0;return this.union.usesPrefixDiscriminator&&(ne=this.union.discriminator.layout.span),this.layout?X[this.property]=this.layout.decode(w,j+ne):this.property?X[this.property]=!0:this.union.usesPrefixDiscriminator&&(X[this.union.discriminator.property]=this.variant),X}encode(w,j,X=0){let ne=0;if(this.union.usesPrefixDiscriminator&&(ne=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(w,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,j,X);let oe=ne;if(this.layout&&(this.layout.encode(w[this.property],j,X+ne),oe+=this.layout.getSpan(j,X+ne),0<=this.union.span&&oe>this.union.span))throw new Error("encoded variant overruns containing union");return oe}fromArray(w){if(this.layout)return this.layout.fromArray(w)}}pe.VariantLayout=T;function p(g){return 0>g&&(g+=4294967296),g}class b extends n{constructor(w,j,X){if(!(w instanceof h||w instanceof m))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof j=="string"&&X===void 0&&(X=j,j=!1),4<w.span)throw new RangeError("word cannot exceed 32 bits");super(w.span,X),this.word=w,this.msb=!!j,this.fields=[];let ne=0;this._packedSetValue=function(oe){return ne=p(oe),this},this._packedGetValue=function(){return ne}}decode(w,j=0){const X=this.makeDestinationObject(),ne=this.word.decode(w,j);this._packedSetValue(ne);for(const oe of this.fields)oe.property!==void 0&&(X[oe.property]=oe.decode(w));return X}encode(w,j,X=0){const ne=this.word.decode(j,X);this._packedSetValue(ne);for(const oe of this.fields)if(oe.property!==void 0){const be=w[oe.property];be!==void 0&&oe.encode(be)}return this.word.encode(this._packedGetValue(),j,X)}addField(w,j){const X=new _(this,w,j);return this.fields.push(X),X}addBoolean(w){const j=new O(this,w);return this.fields.push(j),j}fieldFor(w){if(typeof w!="string")throw new TypeError("property must be string");for(const j of this.fields)if(j.property===w)return j}}pe.BitStructure=b;class _{constructor(w,j,X){if(!(w instanceof b))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(j)||0>=j)throw new TypeError("bits must be positive integer");const ne=8*w.span,oe=w.fields.reduce((be,we)=>be+we.bits,0);if(j+oe>ne)throw new Error("bits too long for span remainder ("+(ne-oe)+" of "+ne+" remain)");this.container=w,this.bits=j,this.valueMask=(1<<j)-1,j===32&&(this.valueMask=4294967295),this.start=oe,this.container.msb&&(this.start=ne-oe-j),this.wordMask=p(this.valueMask<<this.start),this.property=X}decode(w,j){const X=this.container._packedGetValue();return p(X&this.wordMask)>>>this.start}encode(w){if(typeof w!="number"||!Number.isInteger(w)||w!==p(w&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const j=this.container._packedGetValue(),X=p(w<<this.start);this.container._packedSetValue(p(j&~this.wordMask)|X)}}pe.BitField=_;class O extends _{constructor(w,j){super(w,1,j)}decode(w,j){return!!super.decode(w,j)}encode(w){typeof w=="boolean"&&(w=+w),super.encode(w)}}pe.Boolean=O;class G extends n{constructor(w,j){if(!(w instanceof l&&w.isCount()||Number.isInteger(w)&&0<=w))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let X=-1;w instanceof l||(X=w),super(X,j),this.length=w}getSpan(w,j){let X=this.span;return 0>X&&(X=this.length.decode(w,j)),X}decode(w,j=0){let X=this.span;return 0>X&&(X=this.length.decode(w,j)),t(w).slice(j,j+X)}encode(w,j,X){let ne=this.length;if(this.length instanceof l&&(ne=w.length),!(w instanceof Uint8Array&&ne===w.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+ne+") Uint8Array as src");if(X+ne>j.length)throw new RangeError("encoding overruns Uint8Array");const oe=t(w);return t(j).write(oe.toString("hex"),X,ne,"hex"),this.length instanceof l&&this.length.encode(ne,j,X),ne}}pe.Blob=G;class z extends n{constructor(w){super(-1,w)}getSpan(w,j=0){e(w);let X=j;for(;X<w.length&&w[X]!==0;)X+=1;return 1+X-j}decode(w,j=0){const X=this.getSpan(w,j);return t(w).slice(j,j+X-1).toString("utf-8")}encode(w,j,X=0){typeof w!="string"&&(w=String(w));const ne=r.Buffer.from(w,"utf8"),oe=ne.length;if(X+oe>j.length)throw new RangeError("encoding overruns Buffer");const be=t(j);return ne.copy(be,X),be[X+oe]=0,oe+1}}pe.CString=z;class k extends n{constructor(w,j){if(typeof w=="string"&&j===void 0&&(j=w,w=void 0),w===void 0)w=-1;else if(!Number.isInteger(w))throw new TypeError("maxSpan must be an integer");super(-1,j),this.maxSpan=w}getSpan(w,j=0){return e(w),w.length-j}decode(w,j=0){const X=this.getSpan(w,j);if(0<=this.maxSpan&&this.maxSpan<X)throw new RangeError("text length exceeds maxSpan");return t(w).slice(j,j+X).toString("utf-8")}encode(w,j,X=0){typeof w!="string"&&(w=String(w));const ne=r.Buffer.from(w,"utf8"),oe=ne.length;if(0<=this.maxSpan&&this.maxSpan<oe)throw new RangeError("text length exceeds maxSpan");if(X+oe>j.length)throw new RangeError("encoding overruns Buffer");return ne.copy(t(j),X),oe}}pe.UTF8=k;class A extends n{constructor(w,j){super(0,j),this.value=w}decode(w,j){return this.value}encode(w,j,X){return 0}}return pe.Constant=A,pe.greedy=((g,w)=>new u(g,w)),pe.offset=((g,w,j)=>new f(g,w,j)),pe.u8=(g=>new h(1,g)),pe.u16=(g=>new h(2,g)),pe.u24=(g=>new h(3,g)),pe.u32=(g=>new h(4,g)),pe.u40=(g=>new h(5,g)),pe.u48=(g=>new h(6,g)),pe.nu64=(g=>new D(g)),pe.u16be=(g=>new m(2,g)),pe.u24be=(g=>new m(3,g)),pe.u32be=(g=>new m(4,g)),pe.u40be=(g=>new m(5,g)),pe.u48be=(g=>new m(6,g)),pe.nu64be=(g=>new M(g)),pe.s8=(g=>new E(1,g)),pe.s16=(g=>new E(2,g)),pe.s24=(g=>new E(3,g)),pe.s32=(g=>new E(4,g)),pe.s40=(g=>new E(5,g)),pe.s48=(g=>new E(6,g)),pe.ns64=(g=>new N(g)),pe.s16be=(g=>new S(2,g)),pe.s24be=(g=>new S(3,g)),pe.s32be=(g=>new S(4,g)),pe.s40be=(g=>new S(5,g)),pe.s48be=(g=>new S(6,g)),pe.ns64be=(g=>new F(g)),pe.f32=(g=>new P(g)),pe.f32be=(g=>new K(g)),pe.f64=(g=>new V(g)),pe.f64be=(g=>new H(g)),pe.struct=((g,w,j)=>new q(g,w,j)),pe.bits=((g,w,j)=>new b(g,w,j)),pe.seq=((g,w,j)=>new J(g,w,j)),pe.union=((g,w,j)=>new $(g,w,j)),pe.unionLayoutDiscriminator=((g,w)=>new Q(g,w)),pe.blob=((g,w)=>new G(g,w)),pe.cstr=(g=>new z(g)),pe.utf8=((g,w)=>new k(g,w)),pe.constant=((g,w)=>new A(g,w)),pe}var re=PR(),zR=8078e3,UR=8078001,HR=8078004,WR=8078005,qR=8078006,KR=8078011;function h5(r){return Array.isArray(r)?"%5B"+r.map(h5).join("%2C%20")+"%5D":typeof r=="bigint"?`${r}n`:encodeURIComponent(String(r!=null&&Object.getPrototypeOf(r)===null?{...r}:r))}function VR([r,e]){return`${r}=${h5(e)}`}function GR(r){const e=Object.entries(r).map(VR).join("&");return btoa(e)}function YR(r,e={}){{let t=`Solana error #${r}; Decode this error by running \`npx @solana/errors decode -- ${r}`;return Object.keys(e).length&&(t+=` '${GR(e)}'`),`${t}\``}}var Vl=class extends Error{cause=this.cause;context;constructor(...[r,e]){let t,n;if(e){const{cause:a,...l}=e;a&&(n={cause:a}),Object.keys(l).length>0&&(t=l)}const s=YR(r,t);super(s,n),this.context={__code:r,...t},this.name="SolanaError"}};function $R(r,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(r)}function ZR(r){return Object.freeze({...r,encode:e=>{const t=new Uint8Array($R(e,r));return r.write(e,t,0),t}})}function QR(r){return Object.freeze({...r,decode:(e,t=0)=>r.read(e,t)[0]})}function kl(r){return"fixedSize"in r&&typeof r.fixedSize=="number"}function XR(r,e){if(kl(r)!==kl(e))throw new Vl(HR);if(kl(r)&&kl(e)&&r.fixedSize!==e.fixedSize)throw new Vl(WR,{decoderFixedSize:e.fixedSize,encoderFixedSize:r.fixedSize});if(!kl(r)&&!kl(e)&&r.maxSize!==e.maxSize)throw new Vl(qR,{decoderMaxSize:e.maxSize,encoderMaxSize:r.maxSize});return{...e,...r,decode:e.decode,encode:r.encode,read:e.read,write:r.write}}function JR(r,e,t=0){if(e.length-t<=0)throw new Vl(zR,{codecDescription:r})}function ek(r,e,t,n=0){const s=t.length-n;if(s<e)throw new Vl(UR,{bytesLength:s,codecDescription:r,expected:e})}function tk(r,e,t,n){if(n<e||n>t)throw new Vl(KR,{codecDescription:r,max:t,min:e,value:n})}function p5(r){return r?.endian!==1}function nk(r){return ZR({fixedSize:r.size,write(e,t,n){r.range&&tk(r.name,r.range[0],r.range[1],e);const s=new ArrayBuffer(r.size);return r.set(new DataView(s),e,p5(r.config)),t.set(new Uint8Array(s),n),n+r.size}})}function rk(r){return QR({fixedSize:r.size,read(e,t=0){JR(r.name,e,t),ek(r.name,r.size,e,t);const n=new DataView(ik(e,t,r.size));return[r.get(n,p5(r.config)),t+r.size]}})}function ik(r,e,t){const n=r.byteOffset+(e??0),s=t??r.byteLength;return r.buffer.slice(n,n+s)}var g5=(r={})=>nk({config:r,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),ok=(r={})=>rk({config:r,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),sk=(r={})=>XR(g5(r),ok(r));let ak=class extends TypeError{constructor(e,t){let n;const{message:s,explanation:a,...l}=e,{path:u}=e,f=u.length===0?s:`At path: ${u.join(".")} -- ${s}`;super(a??f),a!=null&&(this.cause=f),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}};function lk(r){return ou(r)&&typeof r[Symbol.iterator]=="function"}function ou(r){return typeof r=="object"&&r!=null}function qx(r){return ou(r)&&!Array.isArray(r)}function pi(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function ck(r){const{done:e,value:t}=r.next();return e?void 0:t}function uk(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:a}=e,{type:l}=t,{refinement:u,message:f=`Expected a value of type \`${l}\`${u?` with refinement \`${u}\``:""}, but received: \`${pi(n)}\``}=r;return{value:n,type:l,refinement:u,key:s[s.length-1],path:s,branch:a,...r,message:f}}function*m2(r,e,t,n){lk(r)||(r=[r]);for(const s of r){const a=uk(s,e,t,n);a&&(yield a)}}function*Jm(r,e,t={}){const{path:n=[],branch:s=[r],coerce:a=!1,mask:l=!1}=t,u={path:n,branch:s,mask:l};a&&(r=e.coercer(r,u));let f="valid";for(const h of e.validator(r,u))h.explanation=t.message,f="not_valid",yield[h,void 0];for(let[h,m,E]of e.entries(r,u)){const S=Jm(m,E,{path:h===void 0?n:[...n,h],branch:h===void 0?s:[...s,m],coerce:a,mask:l,message:t.message});for(const C of S)C[0]?(f=C[0].refinement!=null?"not_refined":"not_valid",yield[C[0],void 0]):a&&(m=C[1],h===void 0?r=m:r instanceof Map?r.set(h,m):r instanceof Set?r.add(m):ou(r)&&(m!==void 0||h in r)&&(r[h]=m))}if(f!=="not_valid")for(const h of e.refiner(r,u))h.explanation=t.message,f="not_refined",yield[h,void 0];f==="valid"&&(yield[void 0,r])}let Vi=class{constructor(e){const{type:t,schema:n,validator:s,refiner:a,coercer:l=f=>f,entries:u=function*(){}}=e;this.type=t,this.schema=n,this.entries=u,this.coercer=l,s?this.validator=(f,h)=>{const m=s(f,h);return m2(m,h,this,f)}:this.validator=()=>[],a?this.refiner=(f,h)=>{const m=a(f,h);return m2(m,h,this,f)}:this.refiner=()=>[]}assert(e,t){return m5(e,this,t)}create(e,t){return Fe(e,this,t)}is(e){return y5(e,this)}mask(e,t){return dk(e,this,t)}validate(e,t={}){return su(e,this,t)}};function m5(r,e,t){const n=su(r,e,{message:t});if(n[0])throw n[0]}function Fe(r,e,t){const n=su(r,e,{coerce:!0,message:t});if(n[0])throw n[0];return n[1]}function dk(r,e,t){const n=su(r,e,{coerce:!0,mask:!0,message:t});if(n[0])throw n[0];return n[1]}function y5(r,e){return!su(r,e)[0]}function su(r,e,t={}){const n=Jm(r,e,t),s=ck(n);return s[0]?[new ak(s[0],function*(){for(const l of n)l[0]&&(yield l[0])}),void 0]:[void 0,s[1]]}function Oa(r,e){return new Vi({type:r,schema:null,validator:e})}function xk(){return Oa("any",()=>!0)}function Ne(r){return new Vi({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${pi(e)}`}})}function Wi(){return Oa("boolean",r=>typeof r=="boolean")}function ey(r){return Oa("instance",e=>e instanceof r||`Expected a \`${r.name}\` instance, but received: ${pi(e)}`)}function yn(r){const e=pi(r),t=typeof r;return new Vi({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||`Expected the literal \`${e}\`, but received: ${pi(n)}`}})}function fk(){return Oa("never",()=>!1)}function Ie(r){return new Vi({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function ue(){return Oa("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${pi(r)}`)}function Ve(r){return new Vi({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function E5(r,e){return new Vi({type:"record",schema:null,*entries(t){if(ou(t))for(const n in t){const s=t[n];yield[n,n,r],yield[n,s,e]}},validator(t){return qx(t)||`Expected an object, but received: ${pi(t)}`},coercer(t){return qx(t)?{...t}:t}})}function ke(){return Oa("string",r=>typeof r=="string"||`Expected a string, but received: ${pi(r)}`)}function ty(r){const e=fk();return new Vi({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const n=Math.max(r.length,t.length);for(let s=0;s<n;s++)yield[s,t[s],r[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${pi(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function _e(r){const e=Object.keys(r);return new Vi({type:"type",schema:r,*entries(t){if(ou(t))for(const n of e)yield[n,t[n],r[n]]},validator(t){return qx(t)||`Expected an object, but received: ${pi(t)}`},coercer(t){return qx(t)?{...t}:t}})}function gr(r){const e=r.map(t=>t.type).join(" | ");return new Vi({type:"union",schema:null,coercer(t,n){for(const s of r){const[a,l]=s.validate(t,{coerce:!0,mask:n.mask});if(!a)return l}return t},validator(t,n){const s=[];for(const a of r){const[...l]=Jm(t,a,n),[u]=l;if(u[0])for(const[f]of l)f&&s.push(f);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${pi(t)}`,...s]}})}function pc(){return Oa("unknown",()=>!0)}function au(r,e,t){return new Vi({...r,coercer:(n,s)=>y5(n,e)?r.coercer(t(n,s),s):r.coercer(n,s)})}var Nd,hk=new Uint8Array(16);function b5(){if(!Nd&&(Nd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Nd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nd(hk)}const pk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function hf(r){return typeof r=="string"&&pk.test(r)}var tr=[];for(var mg=0;mg<256;++mg)tr.push((mg+256).toString(16).substr(1));function pf(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(tr[r[e+0]]+tr[r[e+1]]+tr[r[e+2]]+tr[r[e+3]]+"-"+tr[r[e+4]]+tr[r[e+5]]+"-"+tr[r[e+6]]+tr[r[e+7]]+"-"+tr[r[e+8]]+tr[r[e+9]]+"-"+tr[r[e+10]]+tr[r[e+11]]+tr[r[e+12]]+tr[r[e+13]]+tr[r[e+14]]+tr[r[e+15]]).toLowerCase();if(!hf(t))throw TypeError("Stringified UUID is invalid");return t}var y2,yg,Eg=0,bg=0;function gk(r,e,t){var n=e&&t||0,s=e||new Array(16);r=r||{};var a=r.node||y2,l=r.clockseq!==void 0?r.clockseq:yg;if(a==null||l==null){var u=r.random||(r.rng||b5)();a==null&&(a=y2=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),l==null&&(l=yg=(u[6]<<8|u[7])&16383)}var f=r.msecs!==void 0?r.msecs:Date.now(),h=r.nsecs!==void 0?r.nsecs:bg+1,m=f-Eg+(h-bg)/1e4;if(m<0&&r.clockseq===void 0&&(l=l+1&16383),(m<0||f>Eg)&&r.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Eg=f,bg=h,yg=l,f+=122192928e5;var E=((f&268435455)*1e4+h)%4294967296;s[n++]=E>>>24&255,s[n++]=E>>>16&255,s[n++]=E>>>8&255,s[n++]=E&255;var S=f/4294967296*1e4&268435455;s[n++]=S>>>8&255,s[n++]=S&255,s[n++]=S>>>24&15|16,s[n++]=S>>>16&255,s[n++]=l>>>8|128,s[n++]=l&255;for(var C=0;C<6;++C)s[n+C]=a[C];return e||pf(s)}function w5(r){if(!hf(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function mk(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var yk="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ek="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function A5(r,e,t){function n(s,a,l,u){if(typeof s=="string"&&(s=mk(s)),typeof a=="string"&&(a=w5(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var f=new Uint8Array(16+s.length);if(f.set(a),f.set(s,a.length),f=t(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,l){u=u||0;for(var h=0;h<16;++h)l[u+h]=f[h];return l}return pf(f)}try{n.name=r}catch{}return n.DNS=yk,n.URL=Ek,n}function bk(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return wk(Ak(Ck(r),r.length*8))}function wk(r){for(var e=[],t=r.length*32,n="0123456789abcdef",s=0;s<t;s+=8){var a=r[s>>5]>>>s%32&255,l=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(l)}return e}function C5(r){return(r+64>>>9<<4)+14+1}function Ak(r,e){r[e>>5]|=128<<e%32,r[C5(e)-1]=e;for(var t=1732584193,n=-271733879,s=-1732584194,a=271733878,l=0;l<r.length;l+=16){var u=t,f=n,h=s,m=a;t=ar(t,n,s,a,r[l],7,-680876936),a=ar(a,t,n,s,r[l+1],12,-389564586),s=ar(s,a,t,n,r[l+2],17,606105819),n=ar(n,s,a,t,r[l+3],22,-1044525330),t=ar(t,n,s,a,r[l+4],7,-176418897),a=ar(a,t,n,s,r[l+5],12,1200080426),s=ar(s,a,t,n,r[l+6],17,-1473231341),n=ar(n,s,a,t,r[l+7],22,-45705983),t=ar(t,n,s,a,r[l+8],7,1770035416),a=ar(a,t,n,s,r[l+9],12,-1958414417),s=ar(s,a,t,n,r[l+10],17,-42063),n=ar(n,s,a,t,r[l+11],22,-1990404162),t=ar(t,n,s,a,r[l+12],7,1804603682),a=ar(a,t,n,s,r[l+13],12,-40341101),s=ar(s,a,t,n,r[l+14],17,-1502002290),n=ar(n,s,a,t,r[l+15],22,1236535329),t=lr(t,n,s,a,r[l+1],5,-165796510),a=lr(a,t,n,s,r[l+6],9,-1069501632),s=lr(s,a,t,n,r[l+11],14,643717713),n=lr(n,s,a,t,r[l],20,-373897302),t=lr(t,n,s,a,r[l+5],5,-701558691),a=lr(a,t,n,s,r[l+10],9,38016083),s=lr(s,a,t,n,r[l+15],14,-660478335),n=lr(n,s,a,t,r[l+4],20,-405537848),t=lr(t,n,s,a,r[l+9],5,568446438),a=lr(a,t,n,s,r[l+14],9,-1019803690),s=lr(s,a,t,n,r[l+3],14,-187363961),n=lr(n,s,a,t,r[l+8],20,1163531501),t=lr(t,n,s,a,r[l+13],5,-1444681467),a=lr(a,t,n,s,r[l+2],9,-51403784),s=lr(s,a,t,n,r[l+7],14,1735328473),n=lr(n,s,a,t,r[l+12],20,-1926607734),t=cr(t,n,s,a,r[l+5],4,-378558),a=cr(a,t,n,s,r[l+8],11,-2022574463),s=cr(s,a,t,n,r[l+11],16,1839030562),n=cr(n,s,a,t,r[l+14],23,-35309556),t=cr(t,n,s,a,r[l+1],4,-1530992060),a=cr(a,t,n,s,r[l+4],11,1272893353),s=cr(s,a,t,n,r[l+7],16,-155497632),n=cr(n,s,a,t,r[l+10],23,-1094730640),t=cr(t,n,s,a,r[l+13],4,681279174),a=cr(a,t,n,s,r[l],11,-358537222),s=cr(s,a,t,n,r[l+3],16,-722521979),n=cr(n,s,a,t,r[l+6],23,76029189),t=cr(t,n,s,a,r[l+9],4,-640364487),a=cr(a,t,n,s,r[l+12],11,-421815835),s=cr(s,a,t,n,r[l+15],16,530742520),n=cr(n,s,a,t,r[l+2],23,-995338651),t=ur(t,n,s,a,r[l],6,-198630844),a=ur(a,t,n,s,r[l+7],10,1126891415),s=ur(s,a,t,n,r[l+14],15,-1416354905),n=ur(n,s,a,t,r[l+5],21,-57434055),t=ur(t,n,s,a,r[l+12],6,1700485571),a=ur(a,t,n,s,r[l+3],10,-1894986606),s=ur(s,a,t,n,r[l+10],15,-1051523),n=ur(n,s,a,t,r[l+1],21,-2054922799),t=ur(t,n,s,a,r[l+8],6,1873313359),a=ur(a,t,n,s,r[l+15],10,-30611744),s=ur(s,a,t,n,r[l+6],15,-1560198380),n=ur(n,s,a,t,r[l+13],21,1309151649),t=ur(t,n,s,a,r[l+4],6,-145523070),a=ur(a,t,n,s,r[l+11],10,-1120210379),s=ur(s,a,t,n,r[l+2],15,718787259),n=ur(n,s,a,t,r[l+9],21,-343485551),t=Ss(t,u),n=Ss(n,f),s=Ss(s,h),a=Ss(a,m)}return[t,n,s,a]}function Ck(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(C5(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Ss(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function vk(r,e){return r<<e|r>>>32-e}function gf(r,e,t,n,s,a){return Ss(vk(Ss(Ss(e,r),Ss(n,a)),s),t)}function ar(r,e,t,n,s,a,l){return gf(e&t|~e&n,r,e,s,a,l)}function lr(r,e,t,n,s,a,l){return gf(e&n|t&~n,r,e,s,a,l)}function cr(r,e,t,n,s,a,l){return gf(e^t^n,r,e,s,a,l)}function ur(r,e,t,n,s,a,l){return gf(t^(e|~n),r,e,s,a,l)}var Bk=A5("v3",48,bk);function Sk(r,e,t){r=r||{};var n=r.random||(r.rng||b5)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=n[s];return e}return pf(n)}function _k(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function wg(r,e){return r<<e|r>>>32-e}function Dk(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var s=0;s<n.length;++s)r.push(n.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var a=r.length/4+2,l=Math.ceil(a/16),u=new Array(l),f=0;f<l;++f){for(var h=new Uint32Array(16),m=0;m<16;++m)h[m]=r[f*64+m*4]<<24|r[f*64+m*4+1]<<16|r[f*64+m*4+2]<<8|r[f*64+m*4+3];u[f]=h}u[l-1][14]=(r.length-1)*8/Math.pow(2,32),u[l-1][14]=Math.floor(u[l-1][14]),u[l-1][15]=(r.length-1)*8&4294967295;for(var E=0;E<l;++E){for(var S=new Uint32Array(80),C=0;C<16;++C)S[C]=u[E][C];for(var v=16;v<80;++v)S[v]=wg(S[v-3]^S[v-8]^S[v-14]^S[v-16],1);for(var R=t[0],D=t[1],M=t[2],N=t[3],F=t[4],P=0;P<80;++P){var K=Math.floor(P/20),V=wg(R,5)+_k(K,D,M,N)+F+e[K]+S[P]>>>0;F=N,N=M,M=wg(D,30)>>>0,D=R,R=V}t[0]=t[0]+R>>>0,t[1]=t[1]+D>>>0,t[2]=t[2]+M>>>0,t[3]=t[3]+N>>>0,t[4]=t[4]+F>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Rk=A5("v5",80,Dk);const kk="00000000-0000-0000-0000-000000000000";function Fk(r){if(!hf(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const Tk=Object.freeze(Object.defineProperty({__proto__:null,NIL:kk,parse:w5,stringify:pf,v1:gk,v3:Bk,v4:Sk,v5:Rk,validate:hf,version:Fk},Symbol.toStringTag,{value:"Module"})),v5=tf(Tk);var Ag,E2;function Nk(){if(E2)return Ag;E2=1;const r=v5.v4;return Ag=function(t,n,s,a){if(typeof t!="string")throw new TypeError(t+" must be a string");a=a||{};const l=typeof a.version=="number"?a.version:2;if(l!==1&&l!==2)throw new TypeError(l+" must be 1 or 2");const u={method:t};if(l===2&&(u.jsonrpc="2.0"),n){if(typeof n!="object"&&!Array.isArray(n))throw new TypeError(n+" must be an object, array or omitted");u.params=n}if(typeof s>"u"){const f=typeof a.generator=="function"?a.generator:function(){return r()};u.id=f(u,a)}else l===2&&s===null?a.notificationIdNull&&(u.id=null):u.id=s;return u},Ag}var Cg,b2;function Ik(){if(b2)return Cg;b2=1;const r=v5.v4,e=Nk(),t=function(n,s){if(!(this instanceof t))return new t(n,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return r()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=n};return Cg=t,t.prototype.request=function(n,s,a,l){const u=this;let f=null;const h=Array.isArray(n)&&typeof s=="function";if(this.options.version===1&&h)throw new TypeError("JSON-RPC 1.0 does not support batching");if(h||!h&&n&&typeof n=="object"&&typeof s=="function")l=s,f=n;else{typeof a=="function"&&(l=a,a=void 0);const S=typeof l=="function";try{f=e(n,s,a,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(C){if(S){l(C);return}throw C}if(!S)return f}let E;try{E=JSON.stringify(f,this.options.replacer)}catch(S){l(S);return}return this.callServer(E,function(S,C){u._parseResponse(S,C,l)}),f},t.prototype._parseResponse=function(n,s,a){if(n){a(n);return}if(!s){a();return}let l;try{l=JSON.parse(s,this.options.reviver)}catch(u){a(u);return}if(a.length===3)if(Array.isArray(l)){const u=function(h){return typeof h.error<"u"},f=function(h){return!u(h)};a(null,l.filter(u),l.filter(f));return}else{a(null,l.error,l.result);return}a(null,l)},Cg}var Mk=Ik();const Ok=ri(Mk);var vg={exports:{}},w2;function jk(){return w2||(w2=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function s(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function a(f,h,m,E,S){if(typeof m!="function")throw new TypeError("The listener must be a function");var C=new s(m,E||f,S),v=t?t+h:h;return f._events[v]?f._events[v].fn?f._events[v]=[f._events[v],C]:f._events[v].push(C):(f._events[v]=C,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,E;if(this._eventsCount===0)return h;for(E in m=this._events)e.call(m,E)&&h.push(t?E.slice(1):E);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=t?t+h:h,E=this._events[m];if(!E)return[];if(E.fn)return[E.fn];for(var S=0,C=E.length,v=new Array(C);S<C;S++)v[S]=E[S].fn;return v},u.prototype.listenerCount=function(h){var m=t?t+h:h,E=this._events[m];return E?E.fn?1:E.length:0},u.prototype.emit=function(h,m,E,S,C,v){var R=t?t+h:h;if(!this._events[R])return!1;var D=this._events[R],M=arguments.length,N,F;if(D.fn){switch(D.once&&this.removeListener(h,D.fn,void 0,!0),M){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,m),!0;case 3:return D.fn.call(D.context,m,E),!0;case 4:return D.fn.call(D.context,m,E,S),!0;case 5:return D.fn.call(D.context,m,E,S,C),!0;case 6:return D.fn.call(D.context,m,E,S,C,v),!0}for(F=1,N=new Array(M-1);F<M;F++)N[F-1]=arguments[F];D.fn.apply(D.context,N)}else{var P=D.length,K;for(F=0;F<P;F++)switch(D[F].once&&this.removeListener(h,D[F].fn,void 0,!0),M){case 1:D[F].fn.call(D[F].context);break;case 2:D[F].fn.call(D[F].context,m);break;case 3:D[F].fn.call(D[F].context,m,E);break;case 4:D[F].fn.call(D[F].context,m,E,S);break;default:if(!N)for(K=1,N=new Array(M-1);K<M;K++)N[K-1]=arguments[K];D[F].fn.apply(D[F].context,N)}}return!0},u.prototype.on=function(h,m,E){return a(this,h,m,E,!1)},u.prototype.once=function(h,m,E){return a(this,h,m,E,!0)},u.prototype.removeListener=function(h,m,E,S){var C=t?t+h:h;if(!this._events[C])return this;if(!m)return l(this,C),this;var v=this._events[C];if(v.fn)v.fn===m&&(!S||v.once)&&(!E||v.context===E)&&l(this,C);else{for(var R=0,D=[],M=v.length;R<M;R++)(v[R].fn!==m||S&&!v[R].once||E&&v[R].context!==E)&&D.push(v[R]);D.length?this._events[C]=D.length===1?D[0]:D:l(this,C)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=t?t+h:h,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,r.exports=u})(vg)),vg.exports}var Lk=jk();const B5=ri(Lk);var Pk=class extends B5{socket;constructor(r,e){super(),this.socket=new window.WebSocket(r,e.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=t=>this.emit("message",t.data),this.socket.onerror=t=>this.emit("error",t),this.socket.onclose=t=>{this.emit("close",t.code,t.reason)}}send(r,e,t){const n=t||e;try{this.socket.send(r),n()}catch(s){n(s)}}close(r,e){this.socket.close(r,e)}addEventListener(r,e,t){this.socket.addEventListener(r,e,t)}};function zk(r,e){return new Pk(r,e)}var Uk=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},Hk=class extends B5{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(r,e="ws://localhost:8080",{autoconnect:t=!0,reconnect:n=!0,reconnect_interval:s=1e3,max_reconnects:a=5,...l}={},u,f){super(),this.webSocketFactory=r,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=t,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=a,this.rest_options=l,this.current_reconnects=0,this.generate_request_id=u||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),f?this.dataPack=f:this.dataPack=new Uk,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(r,e,t,n){return!n&&typeof t=="object"&&(n=t,t=null),new Promise((s,a)=>{if(!this.ready)return a(new Error("socket not ready"));const l=this.generate_request_id(r,e),u={jsonrpc:"2.0",method:r,params:e||void 0,id:l};this.socket.send(this.dataPack.encode(u),n,f=>{if(f)return a(f);this.queue[l]={promise:[s,a]},t&&(this.queue[l].timeout=setTimeout(()=>{delete this.queue[l],a(new Error("reply timeout"))},t))})})}async login(r){const e=await this.call("rpc.login",r);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(r,e){return new Promise((t,n)=>{if(!this.ready)return n(new Error("socket not ready"));const s={jsonrpc:"2.0",method:r,params:e};this.socket.send(this.dataPack.encode(s),a=>{if(a)return n(a);t()})})}async subscribe(r){typeof r=="string"&&(r=[r]);const e=await this.call("rpc.on",r);if(typeof r=="string"&&e[r]!=="ok")throw new Error("Failed subscribing to an event '"+r+"' with: "+e[r]);return e}async unsubscribe(r){typeof r=="string"&&(r=[r]);const e=await this.call("rpc.off",r);if(typeof r=="string"&&e[r]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(r,e){this.socket&&this.socket.close(r||1e3,e)}setAutoReconnect(r){this.reconnect=r}setReconnectInterval(r){this.reconnect_interval=r}setMaxReconnects(r){this.max_reconnects=r}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(r,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(r,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:t})=>{t instanceof ArrayBuffer&&(t=je.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch{return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const n=[t.notification];if(t.params.constructor===Object)n.push(t.params);else for(let s=0;s<t.params.length;s++)n.push(t.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[t.id])return t.method?Promise.resolve().then(()=>{this.emit(t.method,t?.params)}):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]}),this.socket.addEventListener("error",t=>this.emit("error",t)),this.socket.addEventListener("close",({code:t,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",t,n),0),this.ready=!1,this.socket=void 0,t!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(r,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",t,n),1))})}};const Wk=BigInt(0),p0=BigInt(1),qk=BigInt(2),Kk=BigInt(7),Vk=BigInt(256),Gk=BigInt(113),S5=[],_5=[],D5=[];for(let r=0,e=p0,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],S5.push(2*(5*n+t)),_5.push((r+1)*(r+2)/2%64);let s=Wk;for(let a=0;a<7;a++)e=(e<<p0^(e>>Kk)*Gk)%Vk,e&qk&&(s^=p0<<(p0<<BigInt(a))-p0);D5.push(s)}const R5=KA(D5,!0),Yk=R5[0],$k=R5[1],A2=(r,e,t)=>t>32?TD(r,e,t):kD(r,e,t),C2=(r,e,t)=>t>32?ND(r,e,t):FD(r,e,t);function Zk(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let l=0;l<10;l++)t[l]=r[l]^r[l+10]^r[l+20]^r[l+30]^r[l+40];for(let l=0;l<10;l+=2){const u=(l+8)%10,f=(l+2)%10,h=t[f],m=t[f+1],E=A2(h,m,1)^t[u],S=C2(h,m,1)^t[u+1];for(let C=0;C<50;C+=10)r[l+C]^=E,r[l+C+1]^=S}let s=r[2],a=r[3];for(let l=0;l<24;l++){const u=_5[l],f=A2(s,a,u),h=C2(s,a,u),m=S5[l];s=r[m],a=r[m+1],r[m]=f,r[m+1]=h}for(let l=0;l<50;l+=10){for(let u=0;u<10;u++)t[u]=r[l+u];for(let u=0;u<10;u++)r[l+u]^=~t[(u+2)%10]&t[(u+4)%10]}r[0]^=Yk[n],r[1]^=$k[n]}ks(t)}class ny extends Wm{constructor(e,t,n,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=a,U0(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=bD(this.state)}clone(){return this._cloneInto()}keccak(){$b(this.state32),Zk(this.state32,this.rounds),$b(this.state32),this.posOut=0,this.pos=0}update(e){ec(this),e=df(e),jo(e);const{blockLen:t,state:n}=this,s=e.length;for(let a=0;a<s;){const l=Math.min(t-this.pos,s-a);for(let u=0;u<l;u++)n[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,(t&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){ec(this,!1),jo(e),this.finish();const t=this.state,{blockLen:n}=this;for(let s=0,a=e.length;s<a;){this.posOut>=n&&this.keccak();const l=Math.min(n-this.posOut,a-s);e.set(t.subarray(this.posOut,this.posOut+l),s),this.posOut+=l,s+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return U0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HA(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ks(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:s,rounds:a,enableXOF:l}=this;return e||(e=new ny(t,n,s,l,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=s,e.enableXOF=l,e.destroyed=this.destroyed,e}}const Qk=(r,e,t)=>qm(()=>new ny(e,r,t)),v2=Qk(1,136,256/8);class k5 extends Wm{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,UA(e);const n=df(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(n.length>s?e.create().update(n).digest():n);for(let l=0;l<a.length;l++)a[l]^=54;this.iHash.update(a),this.oHash=e.create();for(let l=0;l<a.length;l++)a[l]^=106;this.oHash.update(a),ks(a)}update(e){return ec(this),this.iHash.update(e),this}digestInto(e){ec(this),jo(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:s,destroyed:a,blockLen:l,outputLen:u}=this;return e=e,e.finished=s,e.destroyed=a,e.blockLen=l,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const F5=(r,e,t)=>new k5(r,e).update(t).digest();F5.create=(r,e)=>new k5(r,e);const B2=(r,e)=>(r+(r>=0?e:-e)/T5)/e;function Xk(r,e,t){const[[n,s],[a,l]]=e,u=B2(l*r,t),f=B2(-s*r,t);let h=r-u*n-f*a,m=-u*s-f*l;const E=h<To,S=m<To;E&&(h=-h),S&&(m=-m);const C=ru(Math.ceil(ZA(t)/2))+Gl;if(h<To||h>=C||m<To||m>=C)throw new Error("splitScalar (endomorphism): failed, k="+r);return{k1neg:E,k1:h,k2neg:S,k2:m}}function L1(r){if(!["compact","recovered","der"].includes(r))throw new Error('Signature format must be "compact", "recovered", or "der"');return r}function Bg(r,e){const t={};for(let n of Object.keys(e))t[n]=r[n]===void 0?e[n]:r[n];return Ra(t.lowS,"lowS"),Ra(t.prehash,"prehash"),t.format!==void 0&&L1(t.format),t}class Jk extends Error{constructor(e=""){super(e)}}const Ao={Err:Jk,_tlv:{encode:(r,e)=>{const{Err:t}=Ao;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const n=e.length/2,s=Fd(n);if(s.length/2&128)throw new t("tlv.encode: long form length too big");const a=n>127?Fd(s.length/2|128):"";return Fd(r)+a+s+e},decode(r,e){const{Err:t}=Ao;let n=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[n++]!==r)throw new t("tlv.decode: wrong tlv");const s=e[n++],a=!!(s&128);let l=0;if(!a)l=s;else{const f=s&127;if(!f)throw new t("tlv.decode(long): indefinite length not supported");if(f>4)throw new t("tlv.decode(long): byte length is too big");const h=e.subarray(n,n+f);if(h.length!==f)throw new t("tlv.decode: length bytes not complete");if(h[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const m of h)l=l<<8|m;if(n+=f,l<128)throw new t("tlv.decode(long): not minimal encoding")}const u=e.subarray(n,n+l);if(u.length!==l)throw new t("tlv.decode: wrong value length");return{v:u,l:e.subarray(n+l)}}},_int:{encode(r){const{Err:e}=Ao;if(r<To)throw new e("integer: negative integers are not allowed");let t=Fd(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=Ao;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return xf(r)}},toSig(r){const{Err:e,_int:t,_tlv:n}=Ao,s=_n("signature",r),{v:a,l}=n.decode(48,s);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:u,l:f}=n.decode(2,a),{v:h,l:m}=n.decode(2,f);if(m.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(u),s:t.decode(h)}},hexFromSig(r){const{_tlv:e,_int:t}=Ao,n=e.encode(2,t.encode(r.r)),s=e.encode(2,t.encode(r.s)),a=n+s;return e.encode(48,a)}},To=BigInt(0),Gl=BigInt(1),T5=BigInt(2),Id=BigInt(3),eF=BigInt(4);function zl(r,e){const{BYTES:t}=r;let n;if(typeof e=="bigint")n=e;else{let s=_n("private key",e);try{n=r.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!r.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function tF(r,e={}){const t=x5("weierstrass",r,e),{Fp:n,Fn:s}=t;let a=t.CURVE;const{h:l,n:u}=a;iu(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:f}=e;if(f&&(!n.is0(a.a)||typeof f.beta!="bigint"||!Array.isArray(f.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const h=I5(n,s);function m(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function E($,T,p){const{x:b,y:_}=T.toAffine(),O=n.toBytes(b);if(Ra(p,"isCompressed"),p){m();const G=!n.isOdd(_);return Li(N5(G),O)}else return Li(Uint8Array.of(4),O,n.toBytes(_))}function S($){xi($,void 0,"Point");const{publicKey:T,publicKeyUncompressed:p}=h,b=$.length,_=$[0],O=$.subarray(1);if(b===T&&(_===2||_===3)){const G=n.fromBytes(O);if(!n.isValid(G))throw new Error("bad point: is not on curve, wrong x");const z=R(G);let k;try{k=n.sqrt(z)}catch(w){const j=w instanceof Error?": "+w.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}m();const A=n.isOdd(k);return(_&1)===1!==A&&(k=n.neg(k)),{x:G,y:k}}else if(b===p&&_===4){const G=n.BYTES,z=n.fromBytes(O.subarray(0,G)),k=n.fromBytes(O.subarray(G,G*2));if(!D(z,k))throw new Error("bad point: is not on curve");return{x:z,y:k}}else throw new Error(`bad point: got length ${b}, expected compressed=${T} or uncompressed=${p}`)}const C=e.toBytes||E,v=e.fromBytes||S;function R($){const T=n.sqr($),p=n.mul(T,$);return n.add(n.add(p,n.mul($,a.a)),a.b)}function D($,T){const p=n.sqr(T),b=R($);return n.eql(p,b)}if(!D(a.Gx,a.Gy))throw new Error("bad curve params: generator point");const M=n.mul(n.pow(a.a,Id),eF),N=n.mul(n.sqr(a.b),BigInt(27));if(n.is0(n.add(M,N)))throw new Error("bad curve params: a or b");function F($,T,p=!1){if(!n.isValid(T)||p&&n.is0(T))throw new Error(`bad point coordinate ${$}`);return T}function P($){if(!($ instanceof q))throw new Error("ProjectivePoint expected")}function K($){if(!f||!f.basises)throw new Error("no endo");return Xk($,f.basises,s.ORDER)}const V=Lx(($,T)=>{const{X:p,Y:b,Z:_}=$;if(n.eql(_,n.ONE))return{x:p,y:b};const O=$.is0();T==null&&(T=O?n.ONE:n.inv(_));const G=n.mul(p,T),z=n.mul(b,T),k=n.mul(_,T);if(O)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:G,y:z}}),H=Lx($=>{if($.is0()){if(e.allowInfinityPoint&&!n.is0($.Y))return;throw new Error("bad point: ZERO")}const{x:T,y:p}=$.toAffine();if(!n.isValid(T)||!n.isValid(p))throw new Error("bad point: x or y not field elements");if(!D(T,p))throw new Error("bad point: equation left != right");if(!$.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function J($,T,p,b,_){return p=new q(n.mul(p.X,$),p.Y,p.Z),T=Px(b,T),p=Px(_,p),T.add(p)}class q{constructor(T,p,b){this.X=F("x",T),this.Y=F("y",p,!0),this.Z=F("z",b),Object.freeze(this)}static CURVE(){return a}static fromAffine(T){const{x:p,y:b}=T||{};if(!T||!n.isValid(p)||!n.isValid(b))throw new Error("invalid affine point");if(T instanceof q)throw new Error("projective point not allowed");return n.is0(p)&&n.is0(b)?q.ZERO:new q(p,b,n.ONE)}static fromBytes(T){const p=q.fromAffine(v(xi(T,void 0,"point")));return p.assertValidity(),p}static fromHex(T){return q.fromBytes(_n("pointHex",T))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(T=8,p=!0){return Q.createCache(this,T),p||this.multiply(Id),this}assertValidity(){H(this)}hasEvenY(){const{y:T}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(T)}equals(T){P(T);const{X:p,Y:b,Z:_}=this,{X:O,Y:G,Z:z}=T,k=n.eql(n.mul(p,z),n.mul(O,_)),A=n.eql(n.mul(b,z),n.mul(G,_));return k&&A}negate(){return new q(this.X,n.neg(this.Y),this.Z)}double(){const{a:T,b:p}=a,b=n.mul(p,Id),{X:_,Y:O,Z:G}=this;let z=n.ZERO,k=n.ZERO,A=n.ZERO,g=n.mul(_,_),w=n.mul(O,O),j=n.mul(G,G),X=n.mul(_,O);return X=n.add(X,X),A=n.mul(_,G),A=n.add(A,A),z=n.mul(T,A),k=n.mul(b,j),k=n.add(z,k),z=n.sub(w,k),k=n.add(w,k),k=n.mul(z,k),z=n.mul(X,z),A=n.mul(b,A),j=n.mul(T,j),X=n.sub(g,j),X=n.mul(T,X),X=n.add(X,A),A=n.add(g,g),g=n.add(A,g),g=n.add(g,j),g=n.mul(g,X),k=n.add(k,g),j=n.mul(O,G),j=n.add(j,j),g=n.mul(j,X),z=n.sub(z,g),A=n.mul(j,w),A=n.add(A,A),A=n.add(A,A),new q(z,k,A)}add(T){P(T);const{X:p,Y:b,Z:_}=this,{X:O,Y:G,Z:z}=T;let k=n.ZERO,A=n.ZERO,g=n.ZERO;const w=a.a,j=n.mul(a.b,Id);let X=n.mul(p,O),ne=n.mul(b,G),oe=n.mul(_,z),be=n.add(p,b),we=n.add(O,G);be=n.mul(be,we),we=n.add(X,ne),be=n.sub(be,we),we=n.add(p,_);let Je=n.add(O,z);return we=n.mul(we,Je),Je=n.add(X,oe),we=n.sub(we,Je),Je=n.add(b,_),k=n.add(G,z),Je=n.mul(Je,k),k=n.add(ne,oe),Je=n.sub(Je,k),g=n.mul(w,we),k=n.mul(j,oe),g=n.add(k,g),k=n.sub(ne,g),g=n.add(ne,g),A=n.mul(k,g),ne=n.add(X,X),ne=n.add(ne,X),oe=n.mul(w,oe),we=n.mul(j,we),ne=n.add(ne,oe),oe=n.sub(X,oe),oe=n.mul(w,oe),we=n.add(we,oe),X=n.mul(ne,we),A=n.add(A,X),X=n.mul(Je,we),k=n.mul(be,k),k=n.sub(k,X),X=n.mul(be,ne),g=n.mul(Je,g),g=n.add(g,X),new q(k,A,g)}subtract(T){return this.add(T.negate())}is0(){return this.equals(q.ZERO)}multiply(T){const{endo:p}=e;if(!s.isValidNot0(T))throw new Error("invalid scalar: out of range");let b,_;const O=G=>Q.cached(this,G,z=>pa(q,z));if(p){const{k1neg:G,k1:z,k2neg:k,k2:A}=K(T),{p:g,f:w}=O(z),{p:j,f:X}=O(A);_=w.add(X),b=J(p.beta,g,j,G,k)}else{const{p:G,f:z}=O(T);b=G,_=z}return pa(q,[b,_])[0]}multiplyUnsafe(T){const{endo:p}=e,b=this;if(!s.isValid(T))throw new Error("invalid scalar: out of range");if(T===To||b.is0())return q.ZERO;if(T===Gl)return b;if(Q.hasCache(this))return this.multiply(T);if(p){const{k1neg:_,k1:O,k2neg:G,k2:z}=K(T),{p1:k,p2:A}=sR(q,b,O,z);return J(p.beta,k,A,_,G)}else return Q.unsafe(b,T)}multiplyAndAddUnsafe(T,p,b){const _=this.multiplyUnsafe(p).add(T.multiplyUnsafe(b));return _.is0()?void 0:_}toAffine(T){return V(this,T)}isTorsionFree(){const{isTorsionFree:T}=e;return l===Gl?!0:T?T(q,this):Q.unsafe(this,u).is0()}clearCofactor(){const{clearCofactor:T}=e;return l===Gl?this:T?T(q,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(T=!0){return Ra(T,"isCompressed"),this.assertValidity(),C(q,this,T)}toHex(T=!0){return Sa(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(T=!0){return this.toBytes(T)}_setWindowSize(T){this.precompute(T)}static normalizeZ(T){return pa(q,T)}static msm(T,p){return d5(q,s,T,p)}static fromPrivateKey(T){return q.BASE.multiply(zl(s,T))}}q.BASE=new q(a.Gx,a.Gy,n.ONE),q.ZERO=new q(n.ZERO,n.ONE,n.ZERO),q.Fp=n,q.Fn=s;const Z=s.BITS,Q=new u5(q,e.endo?Math.ceil(Z/2):Z);return q.BASE.precompute(8),q}function N5(r){return Uint8Array.of(r?2:3)}function I5(r,e){return{secretKey:e.BYTES,publicKey:1+r.BYTES,publicKeyUncompressed:1+2*r.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function nF(r,e={}){const{Fn:t}=r,n=e.randomBytes||Km,s=Object.assign(I5(r.Fp,t),{seed:a5(t.ORDER)});function a(C){try{return!!zl(t,C)}catch{return!1}}function l(C,v){const{publicKey:R,publicKeyUncompressed:D}=s;try{const M=C.length;return v===!0&&M!==R||v===!1&&M!==D?!1:!!r.fromBytes(C)}catch{return!1}}function u(C=n(s.seed)){return rR(xi(C,s.seed,"seed"),t.ORDER)}function f(C,v=!0){return r.BASE.multiply(zl(t,C)).toBytes(v)}function h(C){const v=u(C);return{secretKey:v,publicKey:f(v)}}function m(C){if(typeof C=="bigint")return!1;if(C instanceof r)return!0;const{secretKey:v,publicKey:R,publicKeyUncompressed:D}=s;if(t.allowedLengths||v===R)return;const M=_n("key",C).length;return M===R||M===D}function E(C,v,R=!0){if(m(C)===!0)throw new Error("first arg must be private key");if(m(v)===!1)throw new Error("second arg must be public key");const D=zl(t,C);return r.fromHex(v).multiply(D).toBytes(R)}return Object.freeze({getPublicKey:f,getSharedSecret:E,keygen:h,Point:r,utils:{isValidSecretKey:a,isValidPublicKey:l,randomSecretKey:u,isValidPrivateKey:a,randomPrivateKey:u,normPrivateKeyToScalar:C=>zl(t,C),precompute(C=8,v=r.BASE){return v.precompute(C,!1)}},lengths:s})}function rF(r,e,t={}){UA(e),iu(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=t.randomBytes||Km,s=t.hmac||((p,...b)=>F5(e,p,Li(...b))),{Fp:a,Fn:l}=r,{ORDER:u,BITS:f}=l,{keygen:h,getPublicKey:m,getSharedSecret:E,utils:S,lengths:C}=nF(r,t),v={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},R="compact";function D(p){const b=u>>Gl;return p>b}function M(p,b){if(!l.isValidNot0(b))throw new Error(`invalid signature ${p}: out of range 1..Point.Fn.ORDER`);return b}function N(p,b){L1(b);const _=C.signature,O=b==="compact"?_:b==="recovered"?_+1:void 0;return xi(p,O,`${b} signature`)}class F{constructor(b,_,O){this.r=M("r",b),this.s=M("s",_),O!=null&&(this.recovery=O),Object.freeze(this)}static fromBytes(b,_=R){N(b,_);let O;if(_==="der"){const{r:A,s:g}=Ao.toSig(xi(b));return new F(A,g)}_==="recovered"&&(O=b[0],_="compact",b=b.subarray(1));const G=l.BYTES,z=b.subarray(0,G),k=b.subarray(G,G*2);return new F(l.fromBytes(z),l.fromBytes(k),O)}static fromHex(b,_){return this.fromBytes(jx(b),_)}addRecoveryBit(b){return new F(this.r,this.s,b)}recoverPublicKey(b){const _=a.ORDER,{r:O,s:G,recovery:z}=this;if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");if(u*T5<_&&z>1)throw new Error("recovery id is ambiguous for h>1 curve");const A=z===2||z===3?O+u:O;if(!a.isValid(A))throw new Error("recovery id 2 or 3 invalid");const g=a.toBytes(A),w=r.fromBytes(Li(N5((z&1)===0),g)),j=l.inv(A),X=K(_n("msgHash",b)),ne=l.create(-X*j),oe=l.create(G*j),be=r.BASE.multiplyUnsafe(ne).add(w.multiplyUnsafe(oe));if(be.is0())throw new Error("point at infinify");return be.assertValidity(),be}hasHighS(){return D(this.s)}toBytes(b=R){if(L1(b),b==="der")return jx(Ao.hexFromSig(this));const _=l.toBytes(this.r),O=l.toBytes(this.s);if(b==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Li(Uint8Array.of(this.recovery),_,O)}return Li(_,O)}toHex(b){return Sa(this.toBytes(b))}assertValidity(){}static fromCompact(b){return F.fromBytes(_n("sig",b),"compact")}static fromDER(b){return F.fromBytes(_n("sig",b),"der")}normalizeS(){return this.hasHighS()?new F(this.r,l.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Sa(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Sa(this.toBytes("compact"))}}const P=t.bits2int||function(b){if(b.length>8192)throw new Error("input is too large");const _=xf(b),O=b.length*8-f;return O>0?_>>BigInt(O):_},K=t.bits2int_modN||function(b){return l.create(P(b))},V=ru(f);function H(p){return j1("num < 2^"+f,p,To,V),l.toBytes(p)}function J(p,b){return xi(p,void 0,"message"),b?xi(e(p),void 0,"prehashed message"):p}function q(p,b,_){if(["recovered","canonical"].some(ne=>ne in _))throw new Error("sign() legacy options not supported");const{lowS:O,prehash:G,extraEntropy:z}=Bg(_,v);p=J(p,G);const k=K(p),A=zl(l,b),g=[H(A),H(k)];if(z!=null&&z!==!1){const ne=z===!0?n(C.secretKey):z;g.push(_n("extraEntropy",ne))}const w=Li(...g),j=k;function X(ne){const oe=P(ne);if(!l.isValidNot0(oe))return;const be=l.inv(oe),we=r.BASE.multiply(oe).toAffine(),Je=l.create(we.x);if(Je===To)return;const et=l.create(be*l.create(j+Je*A));if(et===To)return;let Re=(we.x===Je?0:2)|Number(we.y&Gl),rt=et;return O&&D(et)&&(rt=l.neg(et),Re^=1),new F(Je,rt,Re)}return{seed:w,k2sig:X}}function Z(p,b,_={}){p=_n("message",p);const{seed:O,k2sig:G}=q(p,b,_);return GD(e.outputLen,l.BYTES,s)(O,G)}function Q(p){let b;const _=typeof p=="string"||nu(p),O=!_&&p!==null&&typeof p=="object"&&typeof p.r=="bigint"&&typeof p.s=="bigint";if(!_&&!O)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(O)b=new F(p.r,p.s);else if(_){try{b=F.fromBytes(_n("sig",p),"der")}catch(G){if(!(G instanceof Ao.Err))throw G}if(!b)try{b=F.fromBytes(_n("sig",p),"compact")}catch{return!1}}return b||!1}function $(p,b,_,O={}){const{lowS:G,prehash:z,format:k}=Bg(O,v);if(_=_n("publicKey",_),b=J(_n("message",b),z),"strict"in O)throw new Error("options.strict was renamed to lowS");const A=k===void 0?Q(p):F.fromBytes(_n("sig",p),k);if(A===!1)return!1;try{const g=r.fromBytes(_);if(G&&A.hasHighS())return!1;const{r:w,s:j}=A,X=K(b),ne=l.inv(j),oe=l.create(X*ne),be=l.create(w*ne),we=r.BASE.multiplyUnsafe(oe).add(g.multiplyUnsafe(be));return we.is0()?!1:l.create(we.x)===w}catch{return!1}}function T(p,b,_={}){const{prehash:O}=Bg(_,v);return b=J(b,O),F.fromBytes(p,"recovered").recoverPublicKey(b).toBytes()}return Object.freeze({keygen:h,getPublicKey:m,getSharedSecret:E,utils:S,lengths:C,Point:r,sign:Z,verify:$,recoverPublicKey:T,Signature:F,hash:e})}function iF(r){const e={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},t=r.Fp;let n=r.allowedPrivateKeyLengths?Array.from(new Set(r.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const s=Ma(e.n,{BITS:r.nBitLength,allowedLengths:n,modFromBytes:r.wrapPrivateKey}),a={Fp:t,Fn:s,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:e,curveOpts:a}}function oF(r){const{CURVE:e,curveOpts:t}=iF(r),n={hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN};return{CURVE:e,curveOpts:t,hash:r.hash,ecdsaOpts:n}}function sF(r,e){const t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},r,o5(t.Fn.ORDER,t.Fn.BITS))})}function aF(r){const{CURVE:e,curveOpts:t,hash:n,ecdsaOpts:s}=oF(r),a=tF(e,t),l=rF(a,n,s);return sF(r,l)}function lF(r,e){const t=n=>aF({...r,hash:n});return{...t(e),create:t}}const ry={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},cF={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},S2=BigInt(2);function uF(r){const e=ry.p,t=BigInt(3),n=BigInt(6),s=BigInt(11),a=BigInt(22),l=BigInt(23),u=BigInt(44),f=BigInt(88),h=r*r*r%e,m=h*h*r%e,E=Sn(m,t,e)*m%e,S=Sn(E,t,e)*m%e,C=Sn(S,S2,e)*h%e,v=Sn(C,s,e)*C%e,R=Sn(v,a,e)*v%e,D=Sn(R,u,e)*R%e,M=Sn(D,f,e)*D%e,N=Sn(M,u,e)*R%e,F=Sn(N,t,e)*m%e,P=Sn(F,l,e)*v%e,K=Sn(P,n,e)*h%e,V=Sn(K,S2,e);if(!P1.eql(P1.sqr(V),r))throw new Error("Cannot find square root");return V}const P1=Ma(ry.p,{sqrt:uF}),iy=lF({...ry,Fp:P1,lowS:!0,endo:cF},GA),dF=hc.utils.randomPrivateKey,_2=()=>{const r=hc.utils.randomPrivateKey(),e=Kx(r),t=new Uint8Array(64);return t.set(r),t.set(e,32),{publicKey:e,secretKey:t}},Kx=hc.getPublicKey;function D2(r){try{return hc.ExtendedPoint.fromHex(r),!0}catch{return!1}}const oy=(r,e)=>hc.sign(r,e.slice(0,32)),xF=hc.verify,dt=r=>je.Buffer.isBuffer(r)?r:r instanceof Uint8Array?je.Buffer.from(r.buffer,r.byteOffset,r.byteLength):je.Buffer.from(r);let sy=class{constructor(e){Object.assign(this,e)}encode(){return je.Buffer.from(gg.serialize(T0,this))}static decode(e){return gg.deserialize(T0,this,e)}static decodeUnchecked(e){return gg.deserializeUnchecked(T0,this,e)}};class fF extends sy{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const T0=new Map;var M5;const O5=32,Hi=32;function hF(r){return r._bn!==void 0}let R2=1;class ve extends sy{constructor(e){if(super({}),this._bn=void 0,hF(e))this._bn=e._bn;else{if(typeof e=="string"){const t=rr.decode(e);if(t.length!=Hi)throw new Error("Invalid public key input");this._bn=new Bo(t)}else this._bn=new Bo(e);if(this._bn.byteLength()>Hi)throw new Error("Invalid public key input")}}static unique(){const e=new ve(R2);return R2+=1,new ve(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return rr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(je.Buffer);if(e.length===Hi)return e;const t=je.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const s=je.Buffer.concat([e.toBuffer(),je.Buffer.from(t),n.toBuffer()]),a=x2(s);return new ve(a)}static createProgramAddressSync(e,t){let n=je.Buffer.alloc(0);e.forEach(function(a){if(a.length>O5)throw new TypeError("Max seed length exceeded");n=je.Buffer.concat([n,dt(a)])}),n=je.Buffer.concat([n,t.toBuffer(),je.Buffer.from("ProgramDerivedAddress")]);const s=x2(n);if(D2(s))throw new Error("Invalid seeds, address must fall off the curve");return new ve(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,s;for(;n!=0;){try{const a=e.concat(je.Buffer.from([n]));s=this.createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ve(e);return D2(t.toBytes())}}M5=ve;ve.default=new M5("11111111111111111111111111111111");T0.set(ve,{kind:"struct",fields:[["_bn","u256"]]});class pF{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=dt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=dt(dF()),this._publicKey=dt(Kx(this._secretKey))}get publicKey(){return new ve(this._publicKey)}get secretKey(){return je.Buffer.concat([this._secretKey,this._publicKey],64)}}const gF=new ve("BPFLoader1111111111111111111111111111111111"),_s=1232,mf=127,W0=64;class ay extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ay.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class ly extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ly.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ul extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ul.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class q0{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((a,l)=>{n.set(a.toBase58(),l)});const s=a=>{const l=n.get(a.toBase58());if(l===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return l};return e.map(a=>({programIdIndex:s(a.programId),accountKeyIndexes:a.keys.map(l=>s(l.pubkey)),data:a.data}))}}const mt=(r="publicKey")=>re.blob(32,r),mF=(r="signature")=>re.blob(64,r),ga=(r="string")=>{const e=re.struct([re.u32("length"),re.u32("lengthPadding"),re.blob(re.offset(re.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),s=e;return s.decode=(a,l)=>t(a,l).chars.toString(),s.encode=(a,l,u)=>{const f={chars:je.Buffer.from(a,"utf8")};return n(f,l,u)},s.alloc=a=>re.u32().span+re.u32().span+je.Buffer.from(a,"utf8").length,s},yF=(r="authorized")=>re.struct([mt("staker"),mt("withdrawer")],r),EF=(r="lockup")=>re.struct([re.ns64("unixTimestamp"),re.ns64("epoch"),mt("custodian")],r),bF=(r="voteInit")=>re.struct([mt("nodePubkey"),mt("authorizedVoter"),mt("authorizedWithdrawer"),re.u8("commission")],r),wF=(r="voteAuthorizeWithSeedArgs")=>re.struct([re.u32("voteAuthorizationType"),mt("currentAuthorityDerivedKeyOwnerPubkey"),ga("currentAuthorityDerivedKeySeed"),mt("newAuthorized")],r);function j5(r,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const a=e[s.property];if(Array.isArray(a))return a.length*t(s.elementLayout)}else if("fields"in s)return j5({layout:s},e[s.property]);return 0};let n=0;return r.layout.fields.forEach(s=>{n+=t(s)}),n}function vr(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}function Ur(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function kt(r,e){if(!r)throw new Error(e||"Assertion failed")}class yf{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,s=l=>{const u=l.toBase58();let f=n.get(u);return f===void 0&&(f={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,f)),f},a=s(t);a.isSigner=!0,a.isWritable=!0;for(const l of e){s(l.programId).isInvoked=!0;for(const u of l.keys){const f=s(u.pubkey);f.isSigner||=u.isSigner,f.isWritable||=u.isWritable}}return new yf(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];kt(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,f])=>f.isSigner&&f.isWritable),n=e.filter(([,f])=>f.isSigner&&!f.isWritable),s=e.filter(([,f])=>!f.isSigner&&f.isWritable),a=e.filter(([,f])=>!f.isSigner&&!f.isWritable),l={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:a.length};{kt(t.length>0,"Expected at least one writable signer key");const[f]=t[0];kt(f===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([f])=>new ve(f)),...n.map(([f])=>new ve(f)),...s.map(([f])=>new ve(f)),...a.map(([f])=>new ve(f))];return[l,u]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&l.isWritable),[s,a]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&!l.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:n,readonly:a}]}drainKeysFoundInLookupTable(e,t){const n=new Array,s=new Array;for(const[a,l]of this.keyMetaMap.entries())if(t(l)){const u=new ve(a),f=e.findIndex(h=>h.equals(u));f>=0&&(kt(f<256,"Max lookup table index exceeded"),n.push(f),s.push(u),this.keyMetaMap.delete(a))}return[n,s]}}const L5="Reached end of buffer unexpectedly";function Pi(r){if(r.length===0)throw new Error(L5);return r.shift()}function Br(r,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>r.length:t>=r.length)throw new Error(L5);return r.splice(...e)}class gi{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ve(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:rr.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new q0(this.staticAccountKeys)}static compile(e){const t=yf.compile(e.instructions,e.payerKey),[n,s]=t.getMessageComponents(),l=new q0(s).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:rr.encode(u.data)}));return new gi({header:n,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:l})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-t,a=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<a}else{const n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Ur(t,e);const n=this.instructions.map(E=>{const{accounts:S,programIdIndex:C}=E,v=Array.from(rr.decode(E.data));let R=[];Ur(R,S.length);let D=[];return Ur(D,v.length),{programIdIndex:C,keyIndicesCount:je.Buffer.from(R),keyIndices:S,dataLength:je.Buffer.from(D),data:v}});let s=[];Ur(s,n.length);let a=je.Buffer.alloc(_s);je.Buffer.from(s).copy(a);let l=s.length;n.forEach(E=>{const C=re.struct([re.u8("programIdIndex"),re.blob(E.keyIndicesCount.length,"keyIndicesCount"),re.seq(re.u8("keyIndex"),E.keyIndices.length,"keyIndices"),re.blob(E.dataLength.length,"dataLength"),re.seq(re.u8("userdatum"),E.data.length,"data")]).encode(E,a,l);l+=C}),a=a.slice(0,l);const u=re.struct([re.blob(1,"numRequiredSignatures"),re.blob(1,"numReadonlySignedAccounts"),re.blob(1,"numReadonlyUnsignedAccounts"),re.blob(t.length,"keyCount"),re.seq(mt("key"),e,"keys"),mt("recentBlockhash")]),f={numRequiredSignatures:je.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:je.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:je.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:je.Buffer.from(t),keys:this.accountKeys.map(E=>dt(E.toBytes())),recentBlockhash:rr.decode(this.recentBlockhash)};let h=je.Buffer.alloc(2048);const m=u.encode(f,h);return a.copy(h,m),h.slice(0,m+a.length)}static from(e){let t=[...e];const n=Pi(t);if(n!==(n&mf))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Pi(t),a=Pi(t),l=vr(t);let u=[];for(let S=0;S<l;S++){const C=Br(t,0,Hi);u.push(new ve(je.Buffer.from(C)))}const f=Br(t,0,Hi),h=vr(t);let m=[];for(let S=0;S<h;S++){const C=Pi(t),v=vr(t),R=Br(t,0,v),D=vr(t),M=Br(t,0,D),N=rr.encode(je.Buffer.from(M));m.push({programIdIndex:C,accounts:R,data:N})}const E={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a},recentBlockhash:rr.encode(je.Buffer.from(f)),accountKeys:u,instructions:m};return new gi(E)}}class ka{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new q0(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const s=e-n,a=this.addressTableLookups.reduce((l,u)=>l+u.writableIndexes.length,0);return s<a}else if(e>=this.header.numRequiredSignatures){const s=e-t,l=n-t-this.header.numReadonlyUnsignedAccounts;return s<l}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=e.find(a=>a.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const a of n.writableIndexes)if(a<s.state.addresses.length)t.writable.push(s.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`);for(const a of n.readonlyIndexes)if(a<s.state.addresses.length)t.readonly.push(s.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){const t=yf.compile(e.instructions,e.payerKey),n=new Array,s={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(const m of a){const E=t.extractTableLookup(m);if(E!==void 0){const[S,{writable:C,readonly:v}]=E;n.push(S),s.writable.push(...C),s.readonly.push(...v)}}const[l,u]=t.getMessageComponents(),h=new q0(u,s).compileInstructions(e.instructions);return new ka({header:l,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:h,addressTableLookups:n})}serialize(){const e=Array();Ur(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();Ur(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),a=Array();Ur(a,this.addressTableLookups.length);const l=re.struct([re.u8("prefix"),re.struct([re.u8("numRequiredSignatures"),re.u8("numReadonlySignedAccounts"),re.u8("numReadonlyUnsignedAccounts")],"header"),re.blob(e.length,"staticAccountKeysLength"),re.seq(mt(),this.staticAccountKeys.length,"staticAccountKeys"),mt("recentBlockhash"),re.blob(n.length,"instructionsLength"),re.blob(t.length,"serializedInstructions"),re.blob(a.length,"addressTableLookupsLength"),re.blob(s.length,"serializedAddressTableLookups")]),u=new Uint8Array(_s),h=l.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:rr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:s},u);return u.slice(0,h)}serializeInstructions(){let e=0;const t=new Uint8Array(_s);for(const n of this.compiledInstructions){const s=Array();Ur(s,n.accountKeyIndexes.length);const a=Array();Ur(a,n.data.length);const l=re.struct([re.u8("programIdIndex"),re.blob(s.length,"encodedAccountKeyIndexesLength"),re.seq(re.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),re.blob(a.length,"encodedDataLength"),re.blob(n.data.length,"data")]);e+=l.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(_s);for(const n of this.addressTableLookups){const s=Array();Ur(s,n.writableIndexes.length);const a=Array();Ur(a,n.readonlyIndexes.length);const l=re.struct([mt("accountKey"),re.blob(s.length,"encodedWritableIndexesLength"),re.seq(re.u8(),n.writableIndexes.length,"writableIndexes"),re.blob(a.length,"encodedReadonlyIndexesLength"),re.seq(re.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=l.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=Pi(t),s=n&mf;kt(n!==s,"Expected versioned message but received legacy message");const a=s;kt(a===0,`Expected versioned message with version 0 but found version ${a}`);const l={numRequiredSignatures:Pi(t),numReadonlySignedAccounts:Pi(t),numReadonlyUnsignedAccounts:Pi(t)},u=[],f=vr(t);for(let v=0;v<f;v++)u.push(new ve(Br(t,0,Hi)));const h=rr.encode(Br(t,0,Hi)),m=vr(t),E=[];for(let v=0;v<m;v++){const R=Pi(t),D=vr(t),M=Br(t,0,D),N=vr(t),F=new Uint8Array(Br(t,0,N));E.push({programIdIndex:R,accountKeyIndexes:M,data:F})}const S=vr(t),C=[];for(let v=0;v<S;v++){const R=new ve(Br(t,0,Hi)),D=vr(t),M=Br(t,0,D),N=vr(t),F=Br(t,0,N);C.push({accountKey:R,writableIndexes:M,readonlyIndexes:F})}return new ka({header:l,staticAccountKeys:u,recentBlockhash:h,compiledInstructions:E,addressTableLookups:C})}}const Ef={deserializeMessageVersion(r){const e=r[0],t=e&mf;return t===e?"legacy":t},deserialize:r=>{const e=Ef.deserializeMessageVersion(r);if(e==="legacy")return gi.from(r);if(e===0)return ka.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let bo=(function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r})({});const AF=je.Buffer.alloc(W0).fill(0);class Ut{constructor(e){this.keys=void 0,this.programId=void 0,this.data=je.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class bt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ut(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let R=0;R<t.length;R++)if(t[R].programId===void 0)throw new Error(`Transaction instruction index ${R} has undefined program id`);const s=[],a=[];t.forEach(R=>{R.keys.forEach(M=>{a.push({...M})});const D=R.programId.toString();s.includes(D)||s.push(D)}),s.forEach(R=>{a.push({pubkey:new ve(R),isSigner:!1,isWritable:!1})});const l=[];a.forEach(R=>{const D=R.pubkey.toString(),M=l.findIndex(N=>N.pubkey.toString()===D);M>-1?(l[M].isWritable=l[M].isWritable||R.isWritable,l[M].isSigner=l[M].isSigner||R.isSigner):l.push(R)}),l.sort(function(R,D){if(R.isSigner!==D.isSigner)return R.isSigner?-1:1;if(R.isWritable!==D.isWritable)return R.isWritable?-1:1;const M={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return R.pubkey.toBase58().localeCompare(D.pubkey.toBase58(),"en",M)});const u=l.findIndex(R=>R.pubkey.equals(n));if(u>-1){const[R]=l.splice(u,1);R.isSigner=!0,R.isWritable=!0,l.unshift(R)}else l.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const R of this.signatures){const D=l.findIndex(M=>M.pubkey.equals(R.publicKey));if(D>-1)l[D].isSigner||(l[D].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${R.publicKey.toString()}`)}let f=0,h=0,m=0;const E=[],S=[];l.forEach(({pubkey:R,isSigner:D,isWritable:M})=>{D?(E.push(R.toString()),f+=1,M||(h+=1)):(S.push(R.toString()),M||(m+=1))});const C=E.concat(S),v=t.map(R=>{const{data:D,programId:M}=R;return{programIdIndex:C.indexOf(M.toString()),accounts:R.keys.map(N=>C.indexOf(N.pubkey.toString())),data:rr.encode(D)}});return v.forEach(R=>{kt(R.programIdIndex>=0),R.accounts.forEach(D=>kt(D>=0))}),new gi({header:{numRequiredSignatures:f,numReadonlySignedAccounts:h,numReadonlyUnsignedAccounts:m},accountKeys:C,recentBlockhash:e,instructions:v})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,a)=>t[a].equals(s.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(n=>{const s=n.toString();return t.has(s)?!1:(t.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const a of e){const l=a.publicKey.toString();t.has(l)||(t.add(l),n.push(a))}this.signatures=n.map(a=>({signature:null,publicKey:a.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const a of e){const l=a.publicKey.toString();t.has(l)||(t.add(l),n.push(a))}const s=this._compile();this._partialSign(s,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach(s=>{const a=oy(n,s.secretKey);this._addSignature(s.publicKey,dt(a))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){kt(t.length===64);const n=this.signatures.findIndex(s=>e.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=je.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:s,publicKey:a}of this.signatures)s===null?t&&(n.missing||=[]).push(a):xF(s,e,a.toBytes())||(n.invalid||=[]).push(a);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(n){const a=this._getMessageSignednessErrors(s,t);if(a){let l="Signature verification failed.";throw a.invalid&&(l+=`
Invalid signature for public key${a.invalid.length===1?"":"(s)"} [\`${a.invalid.map(u=>u.toBase58()).join("`, `")}\`].`),a.missing&&(l+=`
Missing signature for public key${a.missing.length===1?"":"(s)"} [\`${a.missing.map(u=>u.toBase58()).join("`, `")}\`].`),new Error(l)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,n=[];Ur(n,t.length);const s=n.length+t.length*64+e.length,a=je.Buffer.alloc(s);return kt(t.length<256),je.Buffer.from(n).copy(a,0),t.forEach(({signature:l},u)=>{l!==null&&(kt(l.length===64,"signature has invalid length"),je.Buffer.from(l).copy(a,n.length+u*64))}),e.copy(a,n.length+t.length*64),kt(a.length<=_s,`Transaction too large: ${a.length} > ${_s}`),a}get keys(){return kt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return kt(this.instructions.length===1),this.instructions[0].programId}get data(){return kt(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const n=vr(t);let s=[];for(let a=0;a<n;a++){const l=Br(t,0,W0);s.push(rr.encode(je.Buffer.from(l)))}return bt.populate(gi.from(t),s)}static populate(e,t=[]){const n=new bt;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((s,a)=>{const l={signature:s==rr.encode(AF)?null:rr.decode(s),publicKey:e.accountKeys[a]};n.signatures.push(l)}),e.instructions.forEach(s=>{const a=s.accounts.map(l=>{const u=e.accountKeys[l];return{pubkey:u,isSigner:n.signatures.some(f=>f.publicKey.toString()===u.toString())||e.isAccountSigner(l),isWritable:e.isAccountWritable(l)}});n.instructions.push(new Ut({keys:a,programId:e.accountKeys[s.programIdIndex],data:rr.decode(s.data)}))}),n._message=e,n._json=n.toJSON(),n}}class cy{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:n,compiledInstructions:s,recentBlockhash:a}=e,{numRequiredSignatures:l,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:f}=n,h=l-u;kt(h>0,"Message header is invalid");const m=e.staticAccountKeys.length-l-f;kt(m>=0,"Message header is invalid");const E=e.getAccountKeys(t),S=E.get(0);if(S===void 0)throw new Error("Failed to decompile message because no account keys were found");const C=[];for(const v of s){const R=[];for(const M of v.accountKeyIndexes){const N=E.get(M);if(N===void 0)throw new Error(`Failed to find key for account key index ${M}`);const F=M<l;let P;F?P=M<h:M<E.staticAccountKeys.length?P=M-l<m:P=M-E.staticAccountKeys.length<E.accountKeysFromLookups.writable.length,R.push({pubkey:N,isSigner:M<n.numRequiredSignatures,isWritable:P})}const D=E.get(v.programIdIndex);if(D===void 0)throw new Error(`Failed to find program id for program id index ${v.programIdIndex}`);C.push(new Ut({programId:D,data:dt(v.data),keys:R}))}return new cy({payerKey:S,instructions:C,recentBlockhash:a})}compileToLegacyMessage(){return gi.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ka.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class rc{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)kt(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const n=[];for(let s=0;s<e.header.numRequiredSignatures;s++)n.push(new Uint8Array(W0));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Ur(t,this.signatures.length);const n=re.struct([re.blob(t.length,"encodedSignaturesLength"),re.seq(mF(),this.signatures.length,"signatures"),re.blob(e.length,"serializedMessage")]),s=new Uint8Array(2048),a=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,a)}static deserialize(e){let t=[...e];const n=[],s=vr(t);for(let l=0;l<s;l++)n.push(new Uint8Array(Br(t,0,W0)));const a=Ef.deserialize(new Uint8Array(t));return new rc(a,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const a=n.findIndex(l=>l.equals(s.publicKey));kt(a>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[a]=oy(t,s.secretKey)}}addSignature(e,t){kt(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(a=>a.equals(e));kt(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const CF=160,vF=64,BF=CF/vF,P5=1e3/BF,Oi=new ve("SysvarC1ock11111111111111111111111111111111"),SF=new ve("SysvarEpochSchedu1e111111111111111111111111"),_F=new ve("Sysvar1nstructions1111111111111111111111111"),xx=new ve("SysvarRecentB1ockHashes11111111111111111111"),ic=new ve("SysvarRent111111111111111111111111111111111"),DF=new ve("SysvarRewards111111111111111111111111111111"),RF=new ve("SysvarS1otHashes111111111111111111111111111"),kF=new ve("SysvarS1otHistory11111111111111111111111111"),fx=new ve("SysvarStakeHistory1111111111111111111111111");class Fs extends Error{constructor({action:e,signature:t,transactionMessage:n,logs:s}){const a=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",l="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let u;switch(e){case"send":u=`Transaction ${t} resulted in an error. 
${n}. `+a+l;break;case"simulate":u=`Simulation failed. 
Message: ${n}. 
`+a+l;break;default:u=`Unknown action '${(f=>f)(e)}'`}super(u),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=n,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,n)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const a=s.meta.logMessages;this.transactionLogs=a,t(a)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}const FF={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class We extends Error{constructor({code:e,message:t,data:n},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function z1(r,e,t,n){const s=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},a=await r.sendTransaction(e,t,s);let l;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)l=(await r.confirmTransaction({abortSignal:n?.abortSignal,signature:a,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,f=u.keys[0].pubkey;l=(await r.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:f,nonceValue:e.nonceInfo.nonce,signature:a},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),l=(await r.confirmTransaction(a,n&&n.commitment)).value;if(l.err)throw a!=null?new Fs({action:"send",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Transaction ${a} failed (${JSON.stringify(l)})`);return a}function da(r){return new Promise(e=>setTimeout(e,r))}function St(r,e){const t=r.layout.span>=0?r.layout.span:j5(r,e),n=je.Buffer.alloc(t),s=Object.assign({instruction:r.index},e);return r.layout.encode(s,n),n}function Tt(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${r.index}`);return t}const z5=re.nu64("lamportsPerSignature"),U5=re.struct([re.u32("version"),re.u32("state"),mt("authorizedPubkey"),mt("nonce"),re.struct([z5],"feeCalculator")]),U1=U5.span;class bf{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=U5.decode(dt(e),0);return new bf({authorizedPubkey:new ve(t.authorizedPubkey),nonce:new ve(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function oc(r){const e=re.blob(8,r),t=e.decode.bind(e),n=e.encode.bind(e),s=e,a=sk();return s.decode=(l,u)=>{const f=t(l,u);return a.decode(f)},s.encode=(l,u,f)=>{const h=a.encode(l);return n(h,u,f)},s}class TF{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=re.u32("instruction").decode(e.data);let s;for(const[a,l]of Object.entries(Yt))if(l.index==n){s=a;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:s}=Tt(Yt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new ve(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Tt(Yt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:s}=Tt(Yt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new ve(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Tt(Yt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:s,programId:a}=Tt(Yt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ve(t),seed:n,space:s,programId:new ve(a)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Tt(Yt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ve(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:s}=Tt(Yt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ve(t),seed:n,programId:new ve(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:s,space:a,programId:l}=Tt(Yt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ve(t),seed:n,lamports:s,space:a,programId:new ve(l)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Tt(Yt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ve(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Tt(Yt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Tt(Yt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Tt(Yt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ve(t)}}static checkProgramId(e){if(!e.equals(Fn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Yt=Object.freeze({Create:{index:0,layout:re.struct([re.u32("instruction"),re.ns64("lamports"),re.ns64("space"),mt("programId")])},Assign:{index:1,layout:re.struct([re.u32("instruction"),mt("programId")])},Transfer:{index:2,layout:re.struct([re.u32("instruction"),oc("lamports")])},CreateWithSeed:{index:3,layout:re.struct([re.u32("instruction"),mt("base"),ga("seed"),re.ns64("lamports"),re.ns64("space"),mt("programId")])},AdvanceNonceAccount:{index:4,layout:re.struct([re.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:re.struct([re.u32("instruction"),mt("authorized")])},AuthorizeNonceAccount:{index:7,layout:re.struct([re.u32("instruction"),mt("authorized")])},Allocate:{index:8,layout:re.struct([re.u32("instruction"),re.ns64("space")])},AllocateWithSeed:{index:9,layout:re.struct([re.u32("instruction"),mt("base"),ga("seed"),re.ns64("space"),mt("programId")])},AssignWithSeed:{index:10,layout:re.struct([re.u32("instruction"),mt("base"),ga("seed"),mt("programId")])},TransferWithSeed:{index:11,layout:re.struct([re.u32("instruction"),oc("lamports"),ga("seed"),mt("programId")])},UpgradeNonceAccount:{index:12,layout:re.struct([re.u32("instruction")])}});class Fn{constructor(){}static createAccount(e){const t=Yt.Create,n=St(t,{lamports:e.lamports,space:e.space,programId:dt(e.programId.toBuffer())});return new Ut({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){const s=Yt.TransferWithSeed;t=St(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:dt(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Yt.Transfer;t=St(s,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ut({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){const s=Yt.AssignWithSeed;t=St(s,{base:dt(e.basePubkey.toBuffer()),seed:e.seed,programId:dt(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Yt.Assign;t=St(s,{programId:dt(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ut({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Yt.CreateWithSeed,n=St(t,{base:dt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:dt(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ut({keys:s,programId:this.programId,data:n})}static createNonceAccount(e){const t=new bt;"basePubkey"in e&&"seed"in e?t.add(Fn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:U1,programId:this.programId})):t.add(Fn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:U1,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=Yt.InitializeNonceAccount,n=St(t,{authorized:dt(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:xx,isSigner:!1,isWritable:!1},{pubkey:ic,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Ut(s)}static nonceAdvance(e){const t=Yt.AdvanceNonceAccount,n=St(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:xx,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Ut(s)}static nonceWithdraw(e){const t=Yt.WithdrawNonceAccount,n=St(t,{lamports:e.lamports});return new Ut({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:xx,isSigner:!1,isWritable:!1},{pubkey:ic,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const t=Yt.AuthorizeNonceAccount,n=St(t,{authorized:dt(e.newAuthorizedPubkey.toBuffer())});return new Ut({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){const s=Yt.AllocateWithSeed;t=St(s,{base:dt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:dt(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Yt.Allocate;t=St(s,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ut({keys:n,programId:this.programId,data:t})}}Fn.programId=new ve("11111111111111111111111111111111");const NF=_s-300;class Fa{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Fa.chunkSize)+1+1)}static async load(e,t,n,s,a){{const E=await e.getMinimumBalanceForRentExemption(a.length),S=await e.getAccountInfo(n.publicKey,"confirmed");let C=null;if(S!==null){if(S.executable)return console.error("Program load failed, account is already executable"),!1;S.data.length!==a.length&&(C=C||new bt,C.add(Fn.allocate({accountPubkey:n.publicKey,space:a.length}))),S.owner.equals(s)||(C=C||new bt,C.add(Fn.assign({accountPubkey:n.publicKey,programId:s}))),S.lamports<E&&(C=C||new bt,C.add(Fn.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:E-S.lamports})))}else C=new bt().add(Fn.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:E>0?E:1,space:a.length,programId:s}));C!==null&&await z1(e,C,[t,n],{commitment:"confirmed"})}const l=re.struct([re.u32("instruction"),re.u32("offset"),re.u32("bytesLength"),re.u32("bytesLengthPadding"),re.seq(re.u8("byte"),re.offset(re.u32(),-8),"bytes")]),u=Fa.chunkSize;let f=0,h=a,m=[];for(;h.length>0;){const E=h.slice(0,u),S=je.Buffer.alloc(u+16);l.encode({instruction:0,offset:f,bytes:E,bytesLength:0,bytesLengthPadding:0},S);const C=new bt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:S});m.push(z1(e,C,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await da(1e3/4),f+=u,h=h.slice(u)}await Promise.all(m);{const E=re.struct([re.u32("instruction")]),S=je.Buffer.alloc(E.span);E.encode({instruction:1},S);const C=new bt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:ic,isSigner:!1,isWritable:!1}],programId:s,data:S}),v="processed",R=await e.sendTransaction(C,[t,n],{preflightCommitment:v}),{context:D,value:M}=await e.confirmTransaction({signature:R,lastValidBlockHeight:C.lastValidBlockHeight,blockhash:C.recentBlockhash},v);if(M.err)throw new Error(`Transaction ${R} failed (${JSON.stringify(M)})`);for(;;){try{if(await e.getSlot({commitment:v})>D.slot)break}catch{}await new Promise(N=>setTimeout(N,Math.round(P5/2)))}}return!0}}Fa.chunkSize=NF;const IF=new ve("BPFLoader2111111111111111111111111111111111");class MF{static getMinNumSignatures(e){return Fa.getMinNumSignatures(e)}static load(e,t,n,s,a){return Fa.load(e,t,n,a,s)}}function OF(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sg,k2;function jF(){if(k2)return Sg;k2=1;var r=Object.prototype.toString,e=Object.keys||function(n){var s=[];for(var a in n)s.push(a);return s};function t(n,s){var a,l,u,f,h,m,E;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return t(n.toJSON(),s);if(E=r.call(n),E==="[object Array]"){for(u="[",l=n.length-1,a=0;a<l;a++)u+=t(n[a],!0)+",";return l>-1&&(u+=t(n[a],!0)),u+"]"}else if(E==="[object Object]"){for(f=e(n).sort(),l=f.length,u="",a=0;a<l;)h=f[a],m=t(n[h],!1),m!==void 0&&(u&&(u+=","),u+=JSON.stringify(h)+":"+m),a++;return"{"+u+"}"}else return JSON.stringify(n);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return Sg=function(n){var s=t(n,!1);if(s!==void 0)return""+s},Sg}var LF=jF(),F2=OF(LF);const g0=32;function _g(r){let e=0;for(;r>1;)r/=2,e++;return e}function PF(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class H5{constructor(e,t,n,s,a){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=s,this.firstNormalSlot=a}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=_g(PF(e+g0+1))-_g(g0)-1,n=this.getSlotsInEpoch(t),s=e-(n-g0);return[t,s]}else{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+n,a=t%this.slotsPerEpoch;return[s,a]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*g0:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+_g(g0)):this.slotsPerEpoch}}var zF=globalThis.fetch;class UF extends Hk{constructor(e,t,n){const s=a=>{const l=zk(a,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in l?this.underlyingSocket=l.socket:this.underlyingSocket=l,l};super(s,e,t,n),this.underlyingSocket=void 0}call(...e){const t=this.underlyingSocket?.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function HF(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}const T2=56;class H1{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=HF(WF,e),n=e.length-T2;kt(n>=0,"lookup table is invalid"),kt(n%32===0,"lookup table is invalid");const s=n/32,{addresses:a}=re.struct([re.seq(mt(),s,"addresses")]).decode(e.slice(T2));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ve(t.authority[0]):void 0,addresses:a.map(l=>new ve(l))}}}const WF={index:1,layout:re.struct([re.u32("typeIndex"),oc("deactivationSlot"),re.nu64("lastExtendedSlot"),re.u8("lastExtendedStartIndex"),re.u8(),re.seq(mt(),re.offset(re.u8(),-1),"authority")])},qF=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function KF(r){const e=r.match(qF);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[t,n,s,a]=e,l=r.startsWith("https:")?"wss:":"ws:",u=s==null?null:parseInt(s.slice(1),10),f=u==null?"":`:${u+1}`;return`${l}//${n}${f}${a}`}const En=au(ey(ve),ke(),r=>new ve(r)),W5=ty([ke(),yn("base64")]),uy=au(ey(je.Buffer),W5,r=>je.Buffer.from(r[0],"base64")),q5=30*1e3;function VF(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function Vt(r){let e,t;if(typeof r=="string")e=r;else if(r){const{commitment:n,...s}=r;e=n,t=s}return{commitment:e,config:t}}function N2(r){return r.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function K5(r){return gr([_e({jsonrpc:yn("2.0"),id:ke(),result:r}),_e({jsonrpc:yn("2.0"),id:ke(),error:_e({code:pc(),message:ke(),data:Ve(xk())})})])}const GF=K5(pc());function ut(r){return au(K5(r),GF,e=>"error"in e?e:{...e,result:Fe(e.result,r)})}function kn(r){return ut(_e({context:_e({slot:ue()}),value:r}))}function wf(r){return _e({context:_e({slot:ue()}),value:r})}function Dg(r,e){return r===0?new ka({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ve(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:rr.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new gi(e)}const YF=_e({foundation:ue(),foundationTerm:ue(),initial:ue(),taper:ue(),terminal:ue()}),$F=ut(Ne(Ie(_e({epoch:ue(),effectiveSlot:ue(),amount:ue(),postBalance:ue(),commission:Ve(Ie(ue()))})))),ZF=Ne(_e({slot:ue(),prioritizationFee:ue()})),QF=_e({total:ue(),validator:ue(),foundation:ue(),epoch:ue()}),XF=_e({epoch:ue(),slotIndex:ue(),slotsInEpoch:ue(),absoluteSlot:ue(),blockHeight:Ve(ue()),transactionCount:Ve(ue())}),JF=_e({slotsPerEpoch:ue(),leaderScheduleSlotOffset:ue(),warmup:Wi(),firstNormalEpoch:ue(),firstNormalSlot:ue()}),eT=E5(ke(),Ne(ue())),ja=Ie(gr([_e({}),ke()])),tT=_e({err:ja}),nT=yn("receivedSignature"),rT=_e({"solana-core":ke(),"feature-set":Ve(ue())}),iT=_e({program:ke(),programId:En,parsed:pc()}),oT=_e({programId:En,accounts:Ne(En),data:ke()}),I2=kn(_e({err:Ie(gr([_e({}),ke()])),logs:Ie(Ne(ke())),accounts:Ve(Ie(Ne(Ie(_e({executable:Wi(),owner:ke(),lamports:ue(),data:Ne(ke()),rentEpoch:Ve(ue())}))))),unitsConsumed:Ve(ue()),returnData:Ve(Ie(_e({programId:ke(),data:ty([ke(),yn("base64")])}))),innerInstructions:Ve(Ie(Ne(_e({index:ue(),instructions:Ne(gr([iT,oT]))}))))})),sT=kn(_e({byIdentity:E5(ke(),Ne(ue())),range:_e({firstSlot:ue(),lastSlot:ue()})}));function aT(r,e,t,n,s,a){const l=t||zF;let u;a!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let f;return n&&(f=async(m,E)=>{const S=await new Promise((C,v)=>{try{n(m,E,(R,D)=>C([R,D]))}catch(R){v(R)}});return await l(...S)}),new Ok(async(m,E)=>{const S={method:"POST",body:m,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},aN)};try{let C=5,v,R=500;for(;f?v=await f(r,S):v=await l(r,S),!(v.status!==429||s===!0||(C-=1,C===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${R}ms delay...`),await da(R),R*=2;const D=await v.text();v.ok?E(null,D):E(new Error(`${v.status} ${v.statusText}: ${D}`))}catch(C){C instanceof Error&&E(C)}},{})}function lT(r){return(e,t)=>new Promise((n,s)=>{r.request(e,t,(a,l)=>{if(a){s(a);return}n(l)})})}function cT(r){return e=>new Promise((t,n)=>{e.length===0&&t([]);const s=e.map(a=>r.request(a.methodName,a.args));r.request(s,(a,l)=>{if(a){n(a);return}t(l)})})}const uT=ut(YF),dT=ut(QF),xT=ut(ZF),fT=ut(XF),hT=ut(JF),pT=ut(eT),gT=ut(ue()),mT=kn(_e({total:ue(),circulating:ue(),nonCirculating:ue(),nonCirculatingAccounts:Ne(En)})),W1=_e({amount:ke(),uiAmount:Ie(ue()),decimals:ue(),uiAmountString:Ve(ke())}),yT=kn(Ne(_e({address:En,amount:ke(),uiAmount:Ie(ue()),decimals:ue(),uiAmountString:Ve(ke())}))),ET=kn(Ne(_e({pubkey:En,account:_e({executable:Wi(),owner:En,lamports:ue(),data:uy,rentEpoch:ue()})}))),q1=_e({program:ke(),parsed:pc(),space:ue()}),bT=kn(Ne(_e({pubkey:En,account:_e({executable:Wi(),owner:En,lamports:ue(),data:q1,rentEpoch:ue()})}))),wT=kn(Ne(_e({lamports:ue(),address:En}))),K0=_e({executable:Wi(),owner:En,lamports:ue(),data:uy,rentEpoch:ue()}),AT=_e({pubkey:En,account:K0}),CT=au(gr([ey(je.Buffer),q1]),gr([W5,q1]),r=>Array.isArray(r)?Fe(r,uy):r),K1=_e({executable:Wi(),owner:En,lamports:ue(),data:CT,rentEpoch:ue()}),vT=_e({pubkey:En,account:K1}),BT=_e({state:gr([yn("active"),yn("inactive"),yn("activating"),yn("deactivating")]),active:ue(),inactive:ue()}),ST=ut(Ne(_e({signature:ke(),slot:ue(),err:ja,memo:Ie(ke()),blockTime:Ve(Ie(ue()))}))),_T=ut(Ne(_e({signature:ke(),slot:ue(),err:ja,memo:Ie(ke()),blockTime:Ve(Ie(ue()))}))),DT=_e({subscription:ue(),result:wf(K0)}),RT=_e({pubkey:En,account:K0}),kT=_e({subscription:ue(),result:wf(RT)}),FT=_e({parent:ue(),slot:ue(),root:ue()}),TT=_e({subscription:ue(),result:FT}),NT=gr([_e({type:gr([yn("firstShredReceived"),yn("completed"),yn("optimisticConfirmation"),yn("root")]),slot:ue(),timestamp:ue()}),_e({type:yn("createdBank"),parent:ue(),slot:ue(),timestamp:ue()}),_e({type:yn("frozen"),slot:ue(),timestamp:ue(),stats:_e({numTransactionEntries:ue(),numSuccessfulTransactions:ue(),numFailedTransactions:ue(),maxTransactionsPerEntry:ue()})}),_e({type:yn("dead"),slot:ue(),timestamp:ue(),err:ke()})]),IT=_e({subscription:ue(),result:NT}),MT=_e({subscription:ue(),result:wf(gr([tT,nT]))}),OT=_e({subscription:ue(),result:ue()}),jT=_e({pubkey:ke(),gossip:Ie(ke()),tpu:Ie(ke()),rpc:Ie(ke()),version:Ie(ke())}),M2=_e({votePubkey:ke(),nodePubkey:ke(),activatedStake:ue(),epochVoteAccount:Wi(),epochCredits:Ne(ty([ue(),ue(),ue()])),commission:ue(),lastVote:ue(),rootSlot:Ie(ue())}),LT=ut(_e({current:Ne(M2),delinquent:Ne(M2)})),PT=gr([yn("processed"),yn("confirmed"),yn("finalized")]),zT=_e({slot:ue(),confirmations:Ie(ue()),err:ja,confirmationStatus:Ve(PT)}),UT=kn(Ne(Ie(zT))),HT=ut(ue()),V5=_e({accountKey:En,writableIndexes:Ne(ue()),readonlyIndexes:Ne(ue())}),dy=_e({signatures:Ne(ke()),message:_e({accountKeys:Ne(ke()),header:_e({numRequiredSignatures:ue(),numReadonlySignedAccounts:ue(),numReadonlyUnsignedAccounts:ue()}),instructions:Ne(_e({accounts:Ne(ue()),data:ke(),programIdIndex:ue()})),recentBlockhash:ke(),addressTableLookups:Ve(Ne(V5))})}),G5=_e({pubkey:En,signer:Wi(),writable:Wi(),source:Ve(gr([yn("transaction"),yn("lookupTable")]))}),Y5=_e({accountKeys:Ne(G5),signatures:Ne(ke())}),$5=_e({parsed:pc(),program:ke(),programId:En}),Z5=_e({accounts:Ne(En),data:ke(),programId:En}),WT=gr([Z5,$5]),qT=gr([_e({parsed:pc(),program:ke(),programId:ke()}),_e({accounts:Ne(ke()),data:ke(),programId:ke()})]),Q5=au(WT,qT,r=>"accounts"in r?Fe(r,Z5):Fe(r,$5)),X5=_e({signatures:Ne(ke()),message:_e({accountKeys:Ne(G5),instructions:Ne(Q5),recentBlockhash:ke(),addressTableLookups:Ve(Ie(Ne(V5)))})}),Vx=_e({accountIndex:ue(),mint:ke(),owner:Ve(ke()),programId:Ve(ke()),uiTokenAmount:W1}),J5=_e({writable:Ne(En),readonly:Ne(En)}),Af=_e({err:ja,fee:ue(),innerInstructions:Ve(Ie(Ne(_e({index:ue(),instructions:Ne(_e({accounts:Ne(ue()),data:ke(),programIdIndex:ue()}))})))),preBalances:Ne(ue()),postBalances:Ne(ue()),logMessages:Ve(Ie(Ne(ke()))),preTokenBalances:Ve(Ie(Ne(Vx))),postTokenBalances:Ve(Ie(Ne(Vx))),loadedAddresses:Ve(J5),computeUnitsConsumed:Ve(ue()),costUnits:Ve(ue())}),xy=_e({err:ja,fee:ue(),innerInstructions:Ve(Ie(Ne(_e({index:ue(),instructions:Ne(Q5)})))),preBalances:Ne(ue()),postBalances:Ne(ue()),logMessages:Ve(Ie(Ne(ke()))),preTokenBalances:Ve(Ie(Ne(Vx))),postTokenBalances:Ve(Ie(Ne(Vx))),loadedAddresses:Ve(J5),computeUnitsConsumed:Ve(ue()),costUnits:Ve(ue())}),gc=gr([yn(0),yn("legacy")]),La=_e({pubkey:ke(),lamports:ue(),postBalance:Ie(ue()),rewardType:Ie(ke()),commission:Ve(Ie(ue()))}),KT=ut(Ie(_e({blockhash:ke(),previousBlockhash:ke(),parentSlot:ue(),transactions:Ne(_e({transaction:dy,meta:Ie(Af),version:Ve(gc)})),rewards:Ve(Ne(La)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),VT=ut(Ie(_e({blockhash:ke(),previousBlockhash:ke(),parentSlot:ue(),rewards:Ve(Ne(La)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),GT=ut(Ie(_e({blockhash:ke(),previousBlockhash:ke(),parentSlot:ue(),transactions:Ne(_e({transaction:Y5,meta:Ie(Af),version:Ve(gc)})),rewards:Ve(Ne(La)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),YT=ut(Ie(_e({blockhash:ke(),previousBlockhash:ke(),parentSlot:ue(),transactions:Ne(_e({transaction:X5,meta:Ie(xy),version:Ve(gc)})),rewards:Ve(Ne(La)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),$T=ut(Ie(_e({blockhash:ke(),previousBlockhash:ke(),parentSlot:ue(),transactions:Ne(_e({transaction:Y5,meta:Ie(xy),version:Ve(gc)})),rewards:Ve(Ne(La)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),ZT=ut(Ie(_e({blockhash:ke(),previousBlockhash:ke(),parentSlot:ue(),rewards:Ve(Ne(La)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),QT=ut(Ie(_e({blockhash:ke(),previousBlockhash:ke(),parentSlot:ue(),transactions:Ne(_e({transaction:dy,meta:Ie(Af)})),rewards:Ve(Ne(La)),blockTime:Ie(ue())}))),O2=ut(Ie(_e({blockhash:ke(),previousBlockhash:ke(),parentSlot:ue(),signatures:Ne(ke()),blockTime:Ie(ue())}))),Rg=ut(Ie(_e({slot:ue(),meta:Ie(Af),blockTime:Ve(Ie(ue())),transaction:dy,version:Ve(gc)}))),Md=ut(Ie(_e({slot:ue(),transaction:X5,meta:Ie(xy),blockTime:Ve(Ie(ue())),version:Ve(gc)}))),XT=kn(_e({blockhash:ke(),lastValidBlockHeight:ue()})),JT=kn(Wi()),eN=_e({slot:ue(),numTransactions:ue(),numSlots:ue(),samplePeriodSecs:ue()}),tN=ut(Ne(eN)),nN=kn(Ie(_e({feeCalculator:_e({lamportsPerSignature:ue()})}))),rN=ut(ke()),iN=ut(ke()),oN=_e({err:ja,logs:Ne(ke()),signature:ke()}),sN=_e({result:wf(oN),subscription:ue()}),aN={"solana-client":"js/1.0.0-maintenance"};class Cf{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const h={};return async m=>{const{commitment:E,config:S}=Vt(m),C=this._buildArgs([],E,void 0,S),v=F2(C);return h[v]=h[v]??(async()=>{try{const R=await this._rpcRequest("getBlockHeight",C),D=Fe(R,ut(ue()));if("error"in D)throw new We(D.error,"failed to get block height information");return D.result}finally{delete h[v]}})(),await h[v]}})();let n,s,a,l,u,f;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,s=t.httpHeaders,a=t.fetch,l=t.fetchMiddleware,u=t.disableRetryOnRateLimit,f=t.httpAgent),this._rpcEndpoint=VF(e),this._rpcWsEndpoint=n||KF(e),this._rpcClient=aT(e,s,a,l,u,f),this._rpcRequest=lT(this._rpcClient),this._rpcBatchRequest=cT(this._rpcClient),this._rpcWebSocket=new UF(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:s}=Vt(t),a=this._buildArgs([e.toBase58()],n,void 0,s),l=await this._rpcRequest("getBalance",a),u=Fe(l,kn(ue()));if("error"in u)throw new We(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),n=Fe(t,ut(Ie(ue())));if("error"in n)throw new We(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=Fe(e,ut(ue()));if("error"in t)throw new We(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=Fe(e,gT);if("error"in t)throw new We(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[t]),s=Fe(n,mT);if("error"in s)throw new We(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",n),a=Fe(s,kn(W1));if("error"in a)throw new We(a.error,"failed to get token supply");return a.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",n),a=Fe(s,kn(W1));if("error"in a)throw new We(a.error,"failed to get token account balance");return a.result}async getTokenAccountsByOwner(e,t,n){const{commitment:s,config:a}=Vt(n);let l=[e.toBase58()];"mint"in t?l.push({mint:t.mint.toBase58()}):l.push({programId:t.programId.toBase58()});const u=this._buildArgs(l,s,"base64",a),f=await this._rpcRequest("getTokenAccountsByOwner",u),h=Fe(f,ET);if("error"in h)throw new We(h.error,`failed to get token accounts owned by account ${e.toBase58()}`);return h.result}async getParsedTokenAccountsByOwner(e,t,n){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const a=this._buildArgs(s,n,"jsonParsed"),l=await this._rpcRequest("getTokenAccountsByOwner",a),u=Fe(l,bT);if("error"in u)throw new We(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",n),a=Fe(s,wT);if("error"in a)throw new We(a.error,"failed to get largest accounts");return a.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",n),a=Fe(s,yT);if("error"in a)throw new We(a.error,"failed to get token largest accounts");return a.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:s}=Vt(t),a=this._buildArgs([e.toBase58()],n,"base64",s),l=await this._rpcRequest("getAccountInfo",a),u=Fe(l,kn(Ie(K0)));if("error"in u)throw new We(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,t){const{commitment:n,config:s}=Vt(t),a=this._buildArgs([e.toBase58()],n,"jsonParsed",s),l=await this._rpcRequest("getAccountInfo",a),u=Fe(l,kn(Ie(K1)));if("error"in u)throw new We(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:s}=Vt(t),a=e.map(h=>h.toBase58()),l=this._buildArgs([a],n,"jsonParsed",s),u=await this._rpcRequest("getMultipleAccounts",l),f=Fe(u,kn(Ne(Ie(K1))));if("error"in f)throw new We(f.error,`failed to get info for accounts ${a}`);return f.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:s}=Vt(t),a=e.map(h=>h.toBase58()),l=this._buildArgs([a],n,"base64",s),u=await this._rpcRequest("getMultipleAccounts",l),f=Fe(u,kn(Ne(Ie(K0))));if("error"in f)throw new We(f.error,`failed to get info for accounts ${a}`);return f.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:s,config:a}=Vt(t),l=this._buildArgs([e.toBase58()],s,void 0,{...a,epoch:n??a?.epoch}),u=await this._rpcRequest("getStakeActivation",l),f=Fe(u,ut(BT));if("error"in f)throw new We(f.error,`failed to get Stake Activation ${e.toBase58()}`);return f.result}async getProgramAccounts(e,t){const{commitment:n,config:s}=Vt(t),{encoding:a,...l}=s||{},u=this._buildArgs([e.toBase58()],n,a||"base64",{...l,...l.filters?{filters:N2(l.filters)}:null}),f=await this._rpcRequest("getProgramAccounts",u),h=Ne(AT),m=l.withContext===!0?Fe(f,kn(h)):Fe(f,ut(h));if("error"in m)throw new We(m.error,`failed to get accounts owned by program ${e.toBase58()}`);return m.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:s}=Vt(t),a=this._buildArgs([e.toBase58()],n,"jsonParsed",s),l=await this._rpcRequest("getProgramAccounts",a),u=Fe(l,ut(Ne(vT)));if("error"in u)throw new We(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,t){let n;if(typeof e=="string")n=e;else{const a=e;if(a.abortSignal?.aborted)return Promise.reject(a.abortSignal.reason);n=a.signature}let s;try{s=rr.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return kt(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let n,s,a=!1;const l=new Promise((f,h)=>{try{n=this.onSignature(t,(E,S)=>{n=void 0;const C={context:S,value:E};f({__type:bo.PROCESSED,response:C})},e);const m=new Promise(E=>{n==null?E():s=this._onSubscriptionStateChange(n,S=>{S==="subscribed"&&E()})});(async()=>{if(await m,a)return;const E=await this.getSignatureStatus(t);if(a||E==null)return;const{context:S,value:C}=E;if(C!=null)if(C?.err)h(C.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(C.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(C.confirmationStatus==="processed"||C.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}a=!0,f({__type:bo.PROCESSED,response:{context:S,value:C}})}})()}catch(m){h(m)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:l}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:n,signature:s}}){let a=!1;const l=new Promise(E=>{const S=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let C=await S();if(!a){for(;C<=n;)if(await da(1e3),a||(C=await S(),a))return;E({__type:bo.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),h=this.getCancellationPromise(t);let m;try{const E=await Promise.race([h,f,l]);if(E.__type===bo.PROCESSED)m=E.response;else throw new ay(s)}finally{a=!0,u()}return m}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:n,nonceAccountPubkey:s,nonceValue:a,signature:l}}){let u=!1;const f=new Promise(C=>{let v=a,R=null;const D=async()=>{try{const{context:M,value:N}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:n});return R=M.slot,N?.nonce}catch{return v}};(async()=>{if(v=await D(),!u)for(;;){if(a!==v){C({__type:bo.NONCE_INVALID,slotInWhichNonceDidAdvance:R});return}if(await da(2e3),u||(v=await D(),u))return}})()}),{abortConfirmation:h,confirmationPromise:m}=this.getTransactionConfirmationPromise({commitment:e,signature:l}),E=this.getCancellationPromise(t);let S;try{const C=await Promise.race([E,m,f]);if(C.__type===bo.PROCESSED)S=C.response;else{let v;for(;;){const R=await this.getSignatureStatus(l);if(R==null)break;if(R.context.slot<(C.slotInWhichNonceDidAdvance??n)){await da(400);continue}v=R;break}if(v?.value){const R=e||"finalized",{confirmationStatus:D}=v.value;switch(R){case"processed":case"recent":if(D!=="processed"&&D!=="confirmed"&&D!=="finalized")throw new Ul(l);break;case"confirmed":case"single":case"singleGossip":if(D!=="confirmed"&&D!=="finalized")throw new Ul(l);break;case"finalized":case"max":case"root":if(D!=="finalized")throw new Ul(l);break;default:}S={context:v.context,value:{err:v.value.err}}}else throw new Ul(l)}}finally{u=!0,h()}return S}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let n;const s=new Promise(f=>{let h=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{h=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>f({__type:bo.TIMED_OUT,timeoutMs:h}),h)}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let u;try{const f=await Promise.race([l,s]);if(f.__type===bo.PROCESSED)u=f.response;else throw new ly(t,f.timeoutMs/1e3)}finally{clearTimeout(n),a()}return u}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=Fe(e,ut(Ne(jT)));if("error"in t)throw new We(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),s=Fe(n,LT);if("error"in s)throw new We(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:n}=Vt(e),s=this._buildArgs([],t,void 0,n),a=await this._rpcRequest("getSlot",s),l=Fe(a,ut(ue()));if("error"in l)throw new We(l.error,"failed to get slot");return l.result}async getSlotLeader(e){const{commitment:t,config:n}=Vt(e),s=this._buildArgs([],t,void 0,n),a=await this._rpcRequest("getSlotLeader",s),l=Fe(a,ut(ke()));if("error"in l)throw new We(l.error,"failed to get slot leader");return l.result}async getSlotLeaders(e,t){const n=[e,t],s=await this._rpcRequest("getSlotLeaders",n),a=Fe(s,ut(Ne(En)));if("error"in a)throw new We(a.error,"failed to get slot leaders");return a.result}async getSignatureStatus(e,t){const{context:n,value:s}=await this.getSignatureStatuses([e],t);kt(s.length===1);const a=s[0];return{context:n,value:a}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const s=await this._rpcRequest("getSignatureStatuses",n),a=Fe(s,UT);if("error"in a)throw new We(a.error,"failed to get signature status");return a.result}async getTransactionCount(e){const{commitment:t,config:n}=Vt(e),s=this._buildArgs([],t,void 0,n),a=await this._rpcRequest("getTransactionCount",s),l=Fe(a,ut(ue()));if("error"in l)throw new We(l.error,"failed to get transaction count");return l.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),s=Fe(n,uT);if("error"in s)throw new We(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,n){const{commitment:s,config:a}=Vt(n),l=this._buildArgs([e.map(h=>h.toBase58())],s,void 0,{...a,epoch:t??a?.epoch}),u=await this._rpcRequest("getInflationReward",l),f=Fe(u,$F);if("error"in f)throw new We(f.error,"failed to get inflation reward");return f.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=Fe(e,dT);if("error"in t)throw new We(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:n}=Vt(e),s=this._buildArgs([],t,void 0,n),a=await this._rpcRequest("getEpochInfo",s),l=Fe(a,fT);if("error"in l)throw new We(l.error,"failed to get epoch info");return l.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=Fe(e,hT);if("error"in t)throw new We(t.error,"failed to get epoch schedule");const n=t.result;return new H5(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=Fe(e,pT);if("error"in t)throw new We(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",n),a=Fe(s,HT);return"error"in a?(console.warn("Unable to fetch minimum balance for rent exemption"),0):a.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=Fe(t,tN);if("error"in n)throw new We(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",n),a=Fe(s,nN);if("error"in a)throw new We(a.error,"failed to get fee calculator");const{context:l,value:u}=a.result;return{context:l,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,t){const n=dt(e.serialize()).toString("base64"),s=this._buildArgs([n],t),a=await this._rpcRequest("getFeeForMessage",s),l=Fe(a,kn(Ie(ue())));if("error"in l)throw new We(l.error,"failed to get fee for message");if(l.result===null)throw new Error("invalid blockhash");return l.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map(l=>l.toBase58()),n=t?.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",n),a=Fe(s,xT);if("error"in a)throw new We(a.error,"failed to get recent prioritization fees");return a.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=Vt(e),s=this._buildArgs([],t,void 0,n),a=await this._rpcRequest("getLatestBlockhash",s),l=Fe(a,XT);if("error"in l)throw new We(l.error,"failed to get latest blockhash");return l.result}async isBlockhashValid(e,t){const{commitment:n,config:s}=Vt(t),a=this._buildArgs([e],n,void 0,s),l=await this._rpcRequest("isBlockhashValid",a),u=Fe(l,JT);if("error"in u)throw new We(u.error,"failed to determine if the blockhash `"+e+"`is valid");return u.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=Fe(e,ut(rT));if("error"in t)throw new We(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=Fe(e,ut(ke()));if("error"in t)throw new We(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:n,config:s}=Vt(t),a=this._buildArgsAtLeastConfirmed([e],n,void 0,s),l=await this._rpcRequest("getBlock",a);try{switch(s?.transactionDetails){case"accounts":{const u=Fe(l,GT);if("error"in u)throw u.error;return u.result}case"none":{const u=Fe(l,VT);if("error"in u)throw u.error;return u.result}default:{const u=Fe(l,KT);if("error"in u)throw u.error;const{result:f}=u;return f?{...f,transactions:f.transactions.map(({transaction:h,meta:m,version:E})=>({meta:m,transaction:{...h,message:Dg(E,h.message)},version:E}))}:null}}}catch(u){throw new We(u,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:s}=Vt(t),a=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",s),l=await this._rpcRequest("getBlock",a);try{switch(s?.transactionDetails){case"accounts":{const u=Fe(l,$T);if("error"in u)throw u.error;return u.result}case"none":{const u=Fe(l,ZT);if("error"in u)throw u.error;return u.result}default:{const u=Fe(l,YT);if("error"in u)throw u.error;return u.result}}}catch(u){throw new We(u,"failed to get block")}}async getBlockProduction(e){let t,n;if(typeof e=="string")n=e;else if(e){const{commitment:u,...f}=e;n=u,t=f}const s=this._buildArgs([],n,"base64",t),a=await this._rpcRequest("getBlockProduction",s),l=Fe(a,sT);if("error"in l)throw new We(l.error,"failed to get block production information");return l.result}async getTransaction(e,t){const{commitment:n,config:s}=Vt(t),a=this._buildArgsAtLeastConfirmed([e],n,void 0,s),l=await this._rpcRequest("getTransaction",a),u=Fe(l,Rg);if("error"in u)throw new We(u.error,"failed to get transaction");const f=u.result;return f&&{...f,transaction:{...f.transaction,message:Dg(f.version,f.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:n,config:s}=Vt(t),a=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",s),l=await this._rpcRequest("getTransaction",a),u=Fe(l,Md);if("error"in u)throw new We(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,t){const{commitment:n,config:s}=Vt(t),a=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],n,"jsonParsed",s)}));return(await this._rpcBatchRequest(a)).map(f=>{const h=Fe(f,Md);if("error"in h)throw new We(h.error,"failed to get transactions");return h.result})}async getTransactions(e,t){const{commitment:n,config:s}=Vt(t),a=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],n,void 0,s)}));return(await this._rpcBatchRequest(a)).map(f=>{const h=Fe(f,Rg);if("error"in h)throw new We(h.error,"failed to get transactions");const m=h.result;return m&&{...m,transaction:{...m.transaction,message:Dg(m.version,m.transaction.message)}}})}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getBlock",n),a=Fe(s,QT);if("error"in a)throw new We(a.error,"failed to get confirmed block");const l=a.result;if(!l)throw new Error("Confirmed block "+e+" not found");const u={...l,transactions:l.transactions.map(({transaction:f,meta:h})=>{const m=new gi(f.message);return{meta:h,transaction:{...f,message:m}}})};return{...u,transactions:u.transactions.map(({transaction:f,meta:h})=>({meta:h,transaction:bt.populate(f.message,f.signatures)}))}}async getBlocks(e,t,n){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],n),a=await this._rpcRequest("getBlocks",s),l=Fe(a,ut(Ne(ue())));if("error"in l)throw new We(l.error,"failed to get blocks");return l.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),a=Fe(s,O2);if("error"in a)throw new We(a.error,"failed to get block");const l=a.result;if(!l)throw new Error("Block "+e+" not found");return l}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),a=Fe(s,O2);if("error"in a)throw new We(a.error,"failed to get confirmed block");const l=a.result;if(!l)throw new Error("Confirmed block "+e+" not found");return l}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getTransaction",n),a=Fe(s,Rg);if("error"in a)throw new We(a.error,"failed to get transaction");const l=a.result;if(!l)return l;const u=new gi(l.transaction.message),f=l.transaction.signatures;return{...l,transaction:bt.populate(u,f)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getTransaction",n),a=Fe(s,Md);if("error"in a)throw new We(a.error,"failed to get confirmed transaction");return a.result}async getParsedConfirmedTransactions(e,t){const n=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],t,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(l=>{const u=Fe(l,Md);if("error"in u)throw new We(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,t,n){let s={},a=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<a));)try{const f=await this.getConfirmedBlockSignatures(t,"finalized");f.signatures.length>0&&(s.until=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}let l=await this.getSlot("finalized");for(;!("before"in s)&&(n++,!(n>l));)try{const f=await this.getConfirmedBlockSignatures(n);f.signatures.length>0&&(s.before=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(f=>f.signature)}async getConfirmedSignaturesForAddress2(e,t,n){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),a=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),l=Fe(a,ST);if("error"in l)throw new We(l.error,"failed to get confirmed signatures for address");return l.result}async getSignaturesForAddress(e,t,n){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),a=await this._rpcRequest("getSignaturesForAddress",s),l=Fe(a,_T);if("error"in l)throw new We(l.error,"failed to get signatures for address");return l.result}async getAddressLookupTable(e,t){const{context:n,value:s}=await this.getAccountInfoAndContext(e,t);let a=null;return s!==null&&(a=new H1({key:e,state:H1.deserialize(s.data)})),{context:n,value:a}}async getNonceAndContext(e,t){const{context:n,value:s}=await this.getAccountInfoAndContext(e,t);let a=null;return s!==null&&(a=bf.fromAccountData(s.data)),{context:n,value:a}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,t){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=Fe(n,rN);if("error"in s)throw new We(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await da(100);const n=Date.now()-this._blockhashInfo.lastFetch>=q5;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let s=0;s<50;s++){const a=await this.getLatestBlockhash("finalized");if(n!==a.blockhash)return this._blockhashInfo={latestBlockhash:a,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},a;await da(P5/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=Vt(e),s=this._buildArgs([],t,"base64",n),a=await this._rpcRequest("getStakeMinimumDelegation",s),l=Fe(a,kn(ue()));if("error"in l)throw new We(l.error,"failed to get stake minimum delegation");return l.result}async simulateTransaction(e,t,n){if("message"in e){const R=e.serialize(),D=je.Buffer.from(R).toString("base64");if(Array.isArray(t)||n!==void 0)throw new Error("Invalid arguments");const M=t||{};M.encoding="base64","commitment"in M||(M.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(M.innerInstructions=t.innerInstructions);const N=[D,M],F=await this._rpcRequest("simulateTransaction",N),P=Fe(F,I2);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let s;if(e instanceof bt){let v=e;s=new bt,s.feePayer=v.feePayer,s.instructions=e.instructions,s.nonceInfo=v.nonceInfo,s.signatures=v.signatures}else s=bt.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const a=t;if(s.nonceInfo&&a)s.sign(...a);else{let v=this._disableBlockhashCaching;for(;;){const R=await this._blockhashWithExpiryBlockHeight(v);if(s.lastValidBlockHeight=R.lastValidBlockHeight,s.recentBlockhash=R.blockhash,!a)break;if(s.sign(...a),!s.signature)throw new Error("!signature");const D=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(D)&&!this._blockhashInfo.transactionSignatures.includes(D)){this._blockhashInfo.simulatedSignatures.push(D);break}else v=!0}}const l=s._compile(),u=l.serialize(),h=s._serialize(u).toString("base64"),m={encoding:"base64",commitment:this.commitment};if(n){const v=(Array.isArray(n)?n:l.nonProgramIds()).map(R=>R.toBase58());m.accounts={encoding:"base64",addresses:v}}a&&(m.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(m.innerInstructions=t.innerInstructions);const E=[h,m],S=await this._rpcRequest("simulateTransaction",E),C=Fe(S,I2);if("error"in C){let v;if("data"in C.error&&(v=C.error.data.logs,v&&Array.isArray(v))){const R=`
    `,D=R+v.join(R);console.error(C.error.message,D)}throw new Fs({action:"simulate",signature:"",transactionMessage:C.error.message,logs:v})}return C.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const l=e.serialize();return await this.sendRawTransaction(l,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let l=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(l);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const f=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(f))l=!0;else{this._blockhashInfo.transactionSignatures.push(f);break}}}const a=e.serialize();return await this.sendRawTransaction(a,n)}async sendRawTransaction(e,t){const n=dt(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},s=t&&t.skipPreflight,a=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(n.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(n.minContextSlot=t.minContextSlot),s&&(n.skipPreflight=s),a&&(n.preflightCommitment=a);const l=[e,n],u=await this._rpcRequest("sendTransaction",l),f=Fe(u,iN);if("error"in f){let h;throw"data"in f.error&&(h=f.error.data.logs),new Fs({action:s?"send":"simulate",signature:"",transactionMessage:f.error.message,logs:h})}return f.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,n])=>{this._setSubscription(t,{...n,state:"pending"})})}_setSubscription(e,t){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(a=>{try{a(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const s=this._subscriptionsByHash[n];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[n],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:a,method:l}=s;try{this._setSubscription(n,{...s,state:"subscribing"});const u=await this._rpcWebSocket.call(l,a);this._setSubscription(n,{...s,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=s.callbacks,await this._updateSubscriptions()}catch(u){if(console.error(`Received ${u instanceof Error?"":"JSON-RPC "}error calling \`${l}\``,{args:a,error:u}),!t())return;this._setSubscription(n,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:a,unsubscribeMethod:l}=s;if(this._subscriptionsAutoDisposedByRpc.has(a))this._subscriptionsAutoDisposedByRpc.delete(a);else{this._setSubscription(n,{...s,state:"unsubscribing"}),this._setSubscription(n,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(l,[a])}catch(u){if(u instanceof Error&&console.error(`${l} error:`,u.message),!t())return;this._setSubscription(n,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(s=>{try{s(...t)}catch(a){console.error(a)}})}_wsOnAccountNotification(e){const{result:t,subscription:n}=Fe(e,DT);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,s=F2([e.method,t]),a=this._subscriptionsByHash[s];return a===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:a.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const l=this._subscriptionsByHash[s];kt(l!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),l.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const{commitment:s,config:a}=Vt(n),l=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",a);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},l)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=Fe(e,kT);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,s){const{commitment:a,config:l}=Vt(n),u=this._buildArgs([e.toBase58()],a||this._commitment||"finalized","base64",l||(s?{filters:N2(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},u)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=Fe(e,sN);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=Fe(e,TT);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=Fe(e,IT);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,s){const a=t||this._commitment;if(a||n||s){let l={};n&&(l.encoding=n),a&&(l.commitment=a),s&&(l=Object.assign(l,s)),e.push(l)}return e}_buildArgsAtLeastConfirmed(e,t,n,s){const a=t||this._commitment;if(a&&!["confirmed","finalized"].includes(a))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,s)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=Fe(e,MT);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const s=this._buildArgs([e],n||this._commitment||"finalized"),a=this._makeSubscription({callback:(l,u)=>{if(l.type==="status"){t(l.result,u);try{this.removeSignatureListener(a)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}onSignatureWithOptions(e,t,n){const{commitment:s,...a}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},l=this._buildArgs([e],s,void 0,a),u=this._makeSubscription({callback:(f,h)=>{t(f,h);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},l);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=Fe(e,OT);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Yl{constructor(e){this._keypair=void 0,this._keypair=e??_2()}static generate(){return new Yl(_2())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),a=Kx(s);for(let l=0;l<32;l++)if(n[l]!==a[l])throw new Error("provided secretKey is invalid")}return new Yl({publicKey:n,secretKey:e})}static fromSeed(e){const t=Kx(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new Yl({publicKey:t,secretKey:n})}get publicKey(){return new ve(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const _o=Object.freeze({CreateLookupTable:{index:0,layout:re.struct([re.u32("instruction"),oc("recentSlot"),re.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:re.struct([re.u32("instruction")])},ExtendLookupTable:{index:2,layout:re.struct([re.u32("instruction"),oc(),re.seq(mt(),re.offset(re.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:re.struct([re.u32("instruction")])},CloseLookupTable:{index:4,layout:re.struct([re.u32("instruction")])}});class lN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=re.u32("instruction").decode(e.data);let s;for(const[a,l]of Object.entries(_o))if(l.index==n){s=a;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Tt(_o.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Tt(_o.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(n=>new ve(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(fy.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class fy{constructor(){}static createLookupTable(e){const[t,n]=ve.findProgramAddressSync([e.authority.toBuffer(),g5().encode(e.recentSlot)],this.programId),s=_o.CreateLookupTable,a=St(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Fn.programId,isSigner:!1,isWritable:!1}];return[new Ut({programId:this.programId,keys:l,data:a}),t]}static freezeLookupTable(e){const t=_o.FreezeLookupTable,n=St(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ut({programId:this.programId,keys:s,data:n})}static extendLookupTable(e){const t=_o.ExtendLookupTable,n=St(t,{addresses:e.addresses.map(a=>a.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Fn.programId,isSigner:!1,isWritable:!1}),new Ut({programId:this.programId,keys:s,data:n})}static deactivateLookupTable(e){const t=_o.DeactivateLookupTable,n=St(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ut({programId:this.programId,keys:s,data:n})}static closeLookupTable(e){const t=_o.CloseLookupTable,n=St(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ut({programId:this.programId,keys:s,data:n})}}fy.programId=new ve("AddressLookupTab1e1111111111111111111111111");class cN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=re.u8("instruction").decode(e.data);let s;for(const[a,l]of Object.entries(zi))if(l.index==n){s=a;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=Tt(zi.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Tt(zi.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Tt(zi.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Tt(zi.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(hy.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const zi=Object.freeze({RequestUnits:{index:0,layout:re.struct([re.u8("instruction"),re.u32("units"),re.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:re.struct([re.u8("instruction"),re.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:re.struct([re.u8("instruction"),re.u32("units")])},SetComputeUnitPrice:{index:3,layout:re.struct([re.u8("instruction"),oc("microLamports")])}});class hy{constructor(){}static requestUnits(e){const t=zi.RequestUnits,n=St(t,e);return new Ut({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const t=zi.RequestHeapFrame,n=St(t,e);return new Ut({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const t=zi.SetComputeUnitLimit,n=St(t,e);return new Ut({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const t=zi.SetComputeUnitPrice,n=St(t,{microLamports:BigInt(e.microLamports)});return new Ut({keys:[],programId:this.programId,data:n})}}hy.programId=new ve("ComputeBudget111111111111111111111111111111");const j2=64,L2=32,P2=64,z2=re.struct([re.u8("numSignatures"),re.u8("padding"),re.u16("signatureOffset"),re.u16("signatureInstructionIndex"),re.u16("publicKeyOffset"),re.u16("publicKeyInstructionIndex"),re.u16("messageDataOffset"),re.u16("messageDataSize"),re.u16("messageInstructionIndex")]);class vf{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:s,instructionIndex:a}=e;kt(t.length===L2,`Public Key must be ${L2} bytes but received ${t.length} bytes`),kt(s.length===P2,`Signature must be ${P2} bytes but received ${s.length} bytes`);const l=z2.span,u=l+t.length,f=u+s.length,h=1,m=je.Buffer.alloc(f+n.length),E=a??65535;return z2.encode({numSignatures:h,padding:0,signatureOffset:u,signatureInstructionIndex:E,publicKeyOffset:l,publicKeyInstructionIndex:E,messageDataOffset:f,messageDataSize:n.length,messageInstructionIndex:E},m),m.fill(t,l),m.fill(s,u),m.fill(n,f),new Ut({keys:[],programId:vf.programId,data:m})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:s}=e;kt(t.length===j2,`Private key must be ${j2} bytes but received ${t.length} bytes`);try{const a=Yl.fromSecretKey(t),l=a.publicKey.toBytes(),u=oy(n,a.secretKey);return this.createInstructionWithPublicKey({publicKey:l,message:n,signature:u,instructionIndex:s})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}vf.programId=new ve("Ed25519SigVerify111111111111111111111111111");const uN=(r,e)=>{const t=iy.sign(r,e);return[t.toCompactRawBytes(),t.recovery]};iy.utils.isValidPrivateKey;const dN=iy.getPublicKey,U2=32,kg=20,H2=64,xN=11,Fg=re.struct([re.u8("numSignatures"),re.u16("signatureOffset"),re.u8("signatureInstructionIndex"),re.u16("ethAddressOffset"),re.u8("ethAddressInstructionIndex"),re.u16("messageDataOffset"),re.u16("messageDataSize"),re.u8("messageInstructionIndex"),re.blob(20,"ethAddress"),re.blob(64,"signature"),re.u8("recoveryId")]);class $l{constructor(){}static publicKeyToEthAddress(e){kt(e.length===H2,`Public key must be ${H2} bytes but received ${e.length} bytes`);try{return je.Buffer.from(v2(dt(e))).slice(-kg)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:s,recoveryId:a,instructionIndex:l}=e;return $l.createInstructionWithEthAddress({ethAddress:$l.publicKeyToEthAddress(t),message:n,signature:s,recoveryId:a,instructionIndex:l})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:s,recoveryId:a,instructionIndex:l=0}=e;let u;typeof t=="string"?t.startsWith("0x")?u=je.Buffer.from(t.substr(2),"hex"):u=je.Buffer.from(t,"hex"):u=t,kt(u.length===kg,`Address must be ${kg} bytes but received ${u.length} bytes`);const f=1+xN,h=f,m=f+u.length,E=m+s.length+1,S=1,C=je.Buffer.alloc(Fg.span+n.length);return Fg.encode({numSignatures:S,signatureOffset:m,signatureInstructionIndex:l,ethAddressOffset:h,ethAddressInstructionIndex:l,messageDataOffset:E,messageDataSize:n.length,messageInstructionIndex:l,signature:dt(s),ethAddress:dt(u),recoveryId:a},C),C.fill(dt(n),Fg.span),new Ut({keys:[],programId:$l.programId,data:C})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:s}=e;kt(t.length===U2,`Private key must be ${U2} bytes but received ${t.length} bytes`);try{const a=dt(t),l=dN(a,!1).slice(1),u=je.Buffer.from(v2(dt(n))),[f,h]=uN(u,a);return this.createInstructionWithPublicKey({publicKey:l,message:n,signature:f,recoveryId:h,instructionIndex:s})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}$l.programId=new ve("KeccakSecp256k11111111111111111111111111111");var eC;const tC=new ve("StakeConfig11111111111111111111111111111111");class nC{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class lu{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}eC=lu;lu.default=new eC(0,0,ve.default);class fN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=re.u32("instruction").decode(e.data);let s;for(const[a,l]of Object.entries(Yn))if(l.index==n){s=a;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=Tt(Yn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new nC(new ve(t.staker),new ve(t.withdrawer)),lockup:new lu(n.unixTimestamp,n.epoch,new ve(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Tt(Yn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=Tt(Yn.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ve(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:s,authorityOwner:a}=Tt(Yn.AuthorizeWithSeed,e.data),l={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ve(a),newAuthorizedPubkey:new ve(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(l.custodianPubkey=e.keys[3].pubkey),l}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Tt(Yn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Tt(Yn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Tt(Yn.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Tt(Yn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Bf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Yn=Object.freeze({Initialize:{index:0,layout:re.struct([re.u32("instruction"),yF(),EF()])},Authorize:{index:1,layout:re.struct([re.u32("instruction"),mt("newAuthorized"),re.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:re.struct([re.u32("instruction")])},Split:{index:3,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},Withdraw:{index:4,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},Deactivate:{index:5,layout:re.struct([re.u32("instruction")])},Merge:{index:7,layout:re.struct([re.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:re.struct([re.u32("instruction"),mt("newAuthorized"),re.u32("stakeAuthorizationType"),ga("authoritySeed"),mt("authorityOwner")])}}),hN=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Bf{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:s}=e,a=s||lu.default,l=Yn.Initialize,u=St(l,{authorized:{staker:dt(n.staker.toBuffer()),withdrawer:dt(n.withdrawer.toBuffer())},lockup:{unixTimestamp:a.unixTimestamp,epoch:a.epoch,custodian:dt(a.custodian.toBuffer())}}),f={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ic,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new Ut(f)}static createAccountWithSeed(e){const t=new bt;t.add(Fn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:s,lockup:a}=e;return t.add(this.initialize({stakePubkey:n,authorized:s,lockup:a}))}static createAccount(e){const t=new bt;t.add(Fn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:s,lockup:a}=e;return t.add(this.initialize({stakePubkey:n,authorized:s,lockup:a}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:s}=e,a=Yn.Delegate,l=St(a);return new bt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Oi,isSigner:!1,isWritable:!1},{pubkey:fx,isSigner:!1,isWritable:!1},{pubkey:tC,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:l}=e,u=Yn.Authorize,f=St(u,{newAuthorized:dt(s.toBuffer()),stakeAuthorizationType:a.index}),h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Oi,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return l&&h.push({pubkey:l,isSigner:!0,isWritable:!1}),new bt().add({keys:h,programId:this.programId,data:f})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:s,authorityOwner:a,newAuthorizedPubkey:l,stakeAuthorizationType:u,custodianPubkey:f}=e,h=Yn.AuthorizeWithSeed,m=St(h,{newAuthorized:dt(l.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:s,authorityOwner:dt(a.toBuffer())}),E=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Oi,isSigner:!1,isWritable:!1}];return f&&E.push({pubkey:f,isSigner:!0,isWritable:!1}),new bt().add({keys:E,programId:this.programId,data:m})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:s,lamports:a}=e,l=Yn.Split,u=St(l,{lamports:a});return new Ut({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e,t){const n=new bt;return n.add(Fn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:s,splitStakePubkey:a,basePubkey:l,seed:u,lamports:f}=e,h=new bt;return h.add(Fn.allocate({accountPubkey:a,basePubkey:l,seed:u,space:this.space,programId:this.programId})),t&&t>0&&h.add(Fn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:a,lamports:t})),h.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:s,splitStakePubkey:a,lamports:f}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:s}=e,a=Yn.Merge,l=St(a);return new bt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Oi,isSigner:!1,isWritable:!1},{pubkey:fx,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:s,lamports:a,custodianPubkey:l}=e,u=Yn.Withdraw,f=St(u,{lamports:a}),h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Oi,isSigner:!1,isWritable:!1},{pubkey:fx,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return l&&h.push({pubkey:l,isSigner:!0,isWritable:!1}),new bt().add({keys:h,programId:this.programId,data:f})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,s=Yn.Deactivate,a=St(s);return new bt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Oi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}}Bf.programId=new ve("Stake11111111111111111111111111111111111111");Bf.space=200;class rC{constructor(e,t,n,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=s}}class pN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=re.u32("instruction").decode(e.data);let s;for(const[a,l]of Object.entries(Ui))if(l.index==n){s=a;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Tt(Ui.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new rC(new ve(t.nodePubkey),new ve(t.authorizedVoter),new ve(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=Tt(Ui.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ve(t),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:n,newAuthorized:s,voteAuthorizationType:a}}=Tt(Ui.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ve(t),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new ve(s),voteAuthorizationType:{index:a},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Tt(Ui.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(mc.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ui=Object.freeze({InitializeAccount:{index:0,layout:re.struct([re.u32("instruction"),bF()])},Authorize:{index:1,layout:re.struct([re.u32("instruction"),mt("newAuthorized"),re.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:re.struct([re.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:re.struct([re.u32("instruction"),wF()])}}),gN=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class mc{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:s}=e,a=Ui.InitializeAccount,l=St(a,{voteInit:{nodePubkey:dt(s.nodePubkey.toBuffer()),authorizedVoter:dt(s.authorizedVoter.toBuffer()),authorizedWithdrawer:dt(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ic,isSigner:!1,isWritable:!1},{pubkey:Oi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:l};return new Ut(u)}static createAccount(e){const t=new bt;return t.add(Fn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:s,voteAuthorizationType:a}=e,l=Ui.Authorize,u=St(l,{newAuthorized:dt(s.toBuffer()),voteAuthorizationType:a.index}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Oi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new bt().add({keys:f,programId:this.programId,data:u})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:a,voteAuthorizationType:l,votePubkey:u}=e,f=Ui.AuthorizeWithSeed,h=St(f,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:dt(n.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:dt(a.toBuffer()),voteAuthorizationType:l.index}}),m=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:Oi,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new bt().add({keys:m,programId:this.programId,data:h})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:s,toPubkey:a}=e,l=Ui.Withdraw,u=St(l,{lamports:s}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new bt().add({keys:f,programId:this.programId,data:u})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return mc.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:s}=e,a=Ui.UpdateValidatorIdentity,l=St(a),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new bt().add({keys:u,programId:this.programId,data:l})}}mc.programId=new ve("Vote111111111111111111111111111111111111111");mc.space=3762;const iC=new ve("Va1idator1nfo111111111111111111111111111111"),mN=_e({name:ke(),website:Ve(ke()),details:Ve(ke()),iconUrl:Ve(ke()),keybaseUsername:Ve(ke())});class py{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(vr(t)!==2)return null;const s=[];for(let a=0;a<2;a++){const l=new ve(Br(t,0,Hi)),u=Pi(t)===1;s.push({publicKey:l,isSigner:u})}if(s[0].publicKey.equals(iC)&&s[1].isSigner){const a=ga().decode(je.Buffer.from(t)),l=JSON.parse(a);return m5(l,mN),new py(s[1].publicKey,l)}return null}}const yN=new ve("Vote111111111111111111111111111111111111111"),EN=re.struct([mt("nodePubkey"),mt("authorizedWithdrawer"),re.u8("commission"),re.nu64(),re.seq(re.struct([re.nu64("slot"),re.u32("confirmationCount")]),re.offset(re.u32(),-8),"votes"),re.u8("rootSlotValid"),re.nu64("rootSlot"),re.nu64(),re.seq(re.struct([re.nu64("epoch"),mt("authorizedVoter")]),re.offset(re.u32(),-8),"authorizedVoters"),re.struct([re.seq(re.struct([mt("authorizedPubkey"),re.nu64("epochOfLastAuthorizedSwitch"),re.nu64("targetEpoch")]),32,"buf"),re.nu64("idx"),re.u8("isEmpty")],"priorVoters"),re.nu64(),re.seq(re.struct([re.nu64("epoch"),re.nu64("credits"),re.nu64("prevCredits")]),re.offset(re.u32(),-8),"epochCredits"),re.struct([re.nu64("slot"),re.nu64("timestamp")],"lastTimestamp")]);class gy{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=EN.decode(dt(e),4);let s=n.rootSlot;return n.rootSlotValid||(s=null),new gy({nodePubkey:new ve(n.nodePubkey),authorizedWithdrawer:new ve(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:s,authorizedVoters:n.authorizedVoters.map(bN),priorVoters:wN(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function bN({authorizedVoter:r,epoch:e}){return{epoch:e,authorizedVoter:new ve(r)}}function W2({authorizedPubkey:r,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ve(r),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function wN({buf:r,idx:e,isEmpty:t}){return t?[]:[...r.slice(e+1).map(W2),...r.slice(0,e).map(W2)]}const q2={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function AN(r,e){const t=e===!1?"http":"https";if(!r)return q2[t].devnet;const n=q2[t][r];if(!n)throw new Error(`Unknown ${t} cluster: ${r}`);return n}async function CN(r,e,t,n){let s,a;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,a=n):a=t;const l=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,minContextSlot:a.minContextSlot},u=await r.sendRawTransaction(e,l),f=a&&a.commitment,m=(await(s?r.confirmTransaction(s,f):r.confirmTransaction(u,f))).value;if(m.err)throw u!=null?new Fs({action:l?.skipPreflight?"send":"simulate",signature:u,transactionMessage:`Status: (${JSON.stringify(m)})`}):new Error(`Raw transaction ${u} failed (${JSON.stringify(m)})`);return u}const oC=1e9,vN=Object.freeze(Object.defineProperty({__proto__:null,Account:pF,AddressLookupTableAccount:H1,AddressLookupTableInstruction:lN,AddressLookupTableProgram:fy,Authorized:nC,BLOCKHASH_CACHE_TIMEOUT_MS:q5,BPF_LOADER_DEPRECATED_PROGRAM_ID:gF,BPF_LOADER_PROGRAM_ID:IF,BpfLoader:MF,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:zi,ComputeBudgetInstruction:cN,ComputeBudgetProgram:hy,Connection:Cf,Ed25519Program:vf,Enum:fF,EpochSchedule:H5,FeeCalculatorLayout:z5,Keypair:Yl,LAMPORTS_PER_SOL:oC,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:_o,Loader:Fa,Lockup:lu,MAX_SEED_LENGTH:O5,Message:gi,MessageAccountKeys:q0,MessageV0:ka,NONCE_ACCOUNT_LENGTH:U1,NonceAccount:bf,PACKET_DATA_SIZE:_s,PUBLIC_KEY_LENGTH:Hi,PublicKey:ve,SIGNATURE_LENGTH_IN_BYTES:W0,SOLANA_SCHEMA:T0,STAKE_CONFIG_ID:tC,STAKE_INSTRUCTION_LAYOUTS:Yn,SYSTEM_INSTRUCTION_LAYOUTS:Yt,SYSVAR_CLOCK_PUBKEY:Oi,SYSVAR_EPOCH_SCHEDULE_PUBKEY:SF,SYSVAR_INSTRUCTIONS_PUBKEY:_F,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:xx,SYSVAR_RENT_PUBKEY:ic,SYSVAR_REWARDS_PUBKEY:DF,SYSVAR_SLOT_HASHES_PUBKEY:RF,SYSVAR_SLOT_HISTORY_PUBKEY:kF,SYSVAR_STAKE_HISTORY_PUBKEY:fx,Secp256k1Program:$l,SendTransactionError:Fs,SolanaJSONRPCError:We,SolanaJSONRPCErrorCode:FF,StakeAuthorizationLayout:hN,StakeInstruction:fN,StakeProgram:Bf,Struct:sy,SystemInstruction:TF,SystemProgram:Fn,Transaction:bt,TransactionExpiredBlockheightExceededError:ay,TransactionExpiredNonceInvalidError:Ul,TransactionExpiredTimeoutError:ly,TransactionInstruction:Ut,TransactionMessage:cy,TransactionStatus:bo,VALIDATOR_INFO_KEY:iC,VERSION_PREFIX_MASK:mf,VOTE_PROGRAM_ID:yN,ValidatorInfo:py,VersionedMessage:Ef,VersionedTransaction:rc,VoteAccount:gy,VoteAuthorizationLayout:gN,VoteInit:rC,VoteInstruction:pN,VoteProgram:mc,clusterApiUrl:AN,sendAndConfirmRawTransaction:CN,sendAndConfirmTransaction:z1},Symbol.toStringTag,{value:"Module"})),sC=U.createContext({});function BN(){return U.useContext(sC)}const SN=({children:r,endpoint:e,config:t={commitment:"confirmed"}})=>{const n=U.useMemo(()=>new Cf(e,t),[e,t]);return Se.createElement(sC.Provider,{value:{connection:n}},r)};var Tg={exports:{}},K2;function _N(){return K2||(K2=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function s(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function a(f,h,m,E,S){if(typeof m!="function")throw new TypeError("The listener must be a function");var C=new s(m,E||f,S),v=t?t+h:h;return f._events[v]?f._events[v].fn?f._events[v]=[f._events[v],C]:f._events[v].push(C):(f._events[v]=C,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,E;if(this._eventsCount===0)return h;for(E in m=this._events)e.call(m,E)&&h.push(t?E.slice(1):E);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=t?t+h:h,E=this._events[m];if(!E)return[];if(E.fn)return[E.fn];for(var S=0,C=E.length,v=new Array(C);S<C;S++)v[S]=E[S].fn;return v},u.prototype.listenerCount=function(h){var m=t?t+h:h,E=this._events[m];return E?E.fn?1:E.length:0},u.prototype.emit=function(h,m,E,S,C,v){var R=t?t+h:h;if(!this._events[R])return!1;var D=this._events[R],M=arguments.length,N,F;if(D.fn){switch(D.once&&this.removeListener(h,D.fn,void 0,!0),M){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,m),!0;case 3:return D.fn.call(D.context,m,E),!0;case 4:return D.fn.call(D.context,m,E,S),!0;case 5:return D.fn.call(D.context,m,E,S,C),!0;case 6:return D.fn.call(D.context,m,E,S,C,v),!0}for(F=1,N=new Array(M-1);F<M;F++)N[F-1]=arguments[F];D.fn.apply(D.context,N)}else{var P=D.length,K;for(F=0;F<P;F++)switch(D[F].once&&this.removeListener(h,D[F].fn,void 0,!0),M){case 1:D[F].fn.call(D[F].context);break;case 2:D[F].fn.call(D[F].context,m);break;case 3:D[F].fn.call(D[F].context,m,E);break;case 4:D[F].fn.call(D[F].context,m,E,S);break;default:if(!N)for(K=1,N=new Array(M-1);K<M;K++)N[K-1]=arguments[K];D[F].fn.apply(D[F].context,N)}}return!0},u.prototype.on=function(h,m,E){return a(this,h,m,E,!1)},u.prototype.once=function(h,m,E){return a(this,h,m,E,!0)},u.prototype.removeListener=function(h,m,E,S){var C=t?t+h:h;if(!this._events[C])return this;if(!m)return l(this,C),this;var v=this._events[C];if(v.fn)v.fn===m&&(!S||v.once)&&(!E||v.context===E)&&l(this,C);else{for(var R=0,D=[],M=v.length;R<M;R++)(v[R].fn!==m||S&&!v[R].once||E&&v[R].context!==E)&&D.push(v[R]);D.length?this._events[C]=D.length===1?D[0]:D:l(this,C)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=t?t+h:h,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,r.exports=u})(Tg)),Tg.exports}var DN=_N();const RN=ri(DN);class $n extends Error{constructor(e,t){super(e),this.error=t}}class Ta extends $n{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class kN extends $n{constructor(){super(...arguments),this.name="WalletLoadError"}}class Hl extends $n{constructor(){super(...arguments),this.name="WalletConfigError"}}class Na extends $n{constructor(){super(...arguments),this.name="WalletConnectionError"}}class my extends $n{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class yy extends $n{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class ma extends $n{constructor(){super(...arguments),this.name="WalletAccountError"}}class sc extends $n{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Tn extends $n{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class No extends $n{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class fi extends $n{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Sf extends $n{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class V2 extends $n{constructor(){super(...arguments),this.name="WalletSignInError"}}var xt;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(xt||(xt={}));class aC extends RN{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t,n={}){const s=this.publicKey;if(!s)throw new Tn;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function lC(r){if(typeof window>"u"||typeof document>"u")return;const e=[];function t(){if(r())for(const a of e)a()}const n=setInterval(t,1e3);e.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",t,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",t))),document.readyState!=="complete"&&(window.addEventListener("load",t,{once:!0}),e.push(()=>window.removeEventListener("load",t))),t()}function V1(){if(!navigator)return!1;const r=navigator.userAgent.toLowerCase(),e=r.includes("iphone")||r.includes("ipad"),t=r.includes("safari");return e&&t}function Io(r){return"version"in r}class FN extends aC{async sendTransaction(e,t,n={}){let s=!0;try{if(Io(e)){if(!this.supportedTransactionVersions)throw new No("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new No(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const a=e.serialize();return await t.sendRawTransaction(a,n)}catch(a){throw a instanceof fi?(s=!1,a):new No(a?.message,a)}}else try{const{signers:a,...l}=n;e=await this.prepareTransaction(e,t,l),a?.length&&e.partialSign(...a),e=await this.signTransaction(e);const u=e.serialize();return await t.sendRawTransaction(u,l)}catch(a){throw a instanceof fi?(s=!1,a):new No(a?.message,a)}}catch(a){throw s&&this.emit("error",a),a}}async signAllTransactions(e){for(const n of e)if(Io(n)){if(!this.supportedTransactionVersions)throw new fi("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new fi(`Signing transaction version ${n.version} isn't supported by this wallet`)}const t=[];for(const n of e)t.push(await this.signTransaction(n));return t}}class Ey extends FN{}class TN extends Ey{}const pr="solana:signAndSendTransaction",_a="solana:signIn",Do="solana:signMessage",cn="solana:signTransaction",_f="standard:connect",Gx="standard:disconnect",Df="standard:events";function NN(r){return _f in r.features&&Df in r.features&&(pr in r.features||cn in r.features)}class G2 extends $n{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const IN=[],Rf={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){di("call","select")},connect(){return Promise.reject(di("call","connect"))},disconnect(){return Promise.reject(di("call","disconnect"))},sendTransaction(){return Promise.reject(di("call","sendTransaction"))},signTransaction(){return Promise.reject(di("call","signTransaction"))},signAllTransactions(){return Promise.reject(di("call","signAllTransactions"))},signMessage(){return Promise.reject(di("call","signMessage"))},signIn(){return Promise.reject(di("call","signIn"))}};Object.defineProperty(Rf,"wallets",{get(){return di("read","wallets"),IN}});Object.defineProperty(Rf,"wallet",{get(){return di("read","wallet"),null}});Object.defineProperty(Rf,"publicKey",{get(){return di("read","publicKey"),null}});function di(r,e){const t=new Error(`You have tried to ${r} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(t),t}const cC=U.createContext(Rf);function oi(){return U.useContext(cC)}function MN(r,e){const t=U.useState(()=>{try{const a=localStorage.getItem(r);if(a)return JSON.parse(a)}catch(a){typeof window<"u"&&console.error(a)}return e}),n=t[0],s=U.useRef(!0);return U.useEffect(()=>{if(s.current){s.current=!1;return}try{n===null?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(n))}catch(a){typeof window<"u"&&console.error(a)}},[n,r]),t}var Fl={},Ng,Y2;function ON(){return Y2||(Y2=1,Ng=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Ng}var Ig={},ys={},$2;function Pa(){if($2)return ys;$2=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ys.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},ys.getSymbolTotalCodewords=function(n){return e[n]},ys.getBCHDigit=function(t){let n=0;for(;t!==0;)n++,t>>>=1;return n},ys.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');r=n},ys.isKanjiModeEnabled=function(){return typeof r<"u"},ys.toSJIS=function(n){return r(n)},ys}var Mg={},Z2;function by(){return Z2||(Z2=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,s){if(r.isValid(n))return n;try{return e(n)}catch{return s}}})(Mg)),Mg}var Og,Q2;function jN(){if(Q2)return Og;Q2=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Og=r,Og}var jg,X2;function LN(){if(X2)return jg;X2=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,t,n,s){const a=e*this.size+t;this.data[a]=n,s&&(this.reservedBit[a]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},jg=r,jg}var Lg={},J2;function PN(){return J2||(J2=1,(function(r){const e=Pa().getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const s=Math.floor(n/7)+2,a=e(n),l=a===145?26:Math.ceil((a-13)/(2*s-2))*2,u=[a-7];for(let f=1;f<s-1;f++)u[f]=u[f-1]-l;return u.push(6),u.reverse()},r.getPositions=function(n){const s=[],a=r.getRowColCoords(n),l=a.length;for(let u=0;u<l;u++)for(let f=0;f<l;f++)u===0&&f===0||u===0&&f===l-1||u===l-1&&f===0||s.push([a[u],a[f]]);return s}})(Lg)),Lg}var Pg={},e6;function zN(){if(e6)return Pg;e6=1;const r=Pa().getSymbolSize,e=7;return Pg.getPositions=function(n){const s=r(n);return[[0,0],[s-e,0],[0,s-e]]},Pg}var zg={},t6;function UN(){return t6||(t6=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},r.from=function(s){return r.isValid(s)?parseInt(s,10):void 0},r.getPenaltyN1=function(s){const a=s.size;let l=0,u=0,f=0,h=null,m=null;for(let E=0;E<a;E++){u=f=0,h=m=null;for(let S=0;S<a;S++){let C=s.get(E,S);C===h?u++:(u>=5&&(l+=e.N1+(u-5)),h=C,u=1),C=s.get(S,E),C===m?f++:(f>=5&&(l+=e.N1+(f-5)),m=C,f=1)}u>=5&&(l+=e.N1+(u-5)),f>=5&&(l+=e.N1+(f-5))}return l},r.getPenaltyN2=function(s){const a=s.size;let l=0;for(let u=0;u<a-1;u++)for(let f=0;f<a-1;f++){const h=s.get(u,f)+s.get(u,f+1)+s.get(u+1,f)+s.get(u+1,f+1);(h===4||h===0)&&l++}return l*e.N2},r.getPenaltyN3=function(s){const a=s.size;let l=0,u=0,f=0;for(let h=0;h<a;h++){u=f=0;for(let m=0;m<a;m++)u=u<<1&2047|s.get(h,m),m>=10&&(u===1488||u===93)&&l++,f=f<<1&2047|s.get(m,h),m>=10&&(f===1488||f===93)&&l++}return l*e.N3},r.getPenaltyN4=function(s){let a=0;const l=s.data.length;for(let f=0;f<l;f++)a+=s.data[f];return Math.abs(Math.ceil(a*100/l/5)-10)*e.N4};function t(n,s,a){switch(n){case r.Patterns.PATTERN000:return(s+a)%2===0;case r.Patterns.PATTERN001:return s%2===0;case r.Patterns.PATTERN010:return a%3===0;case r.Patterns.PATTERN011:return(s+a)%3===0;case r.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(a/3))%2===0;case r.Patterns.PATTERN101:return s*a%2+s*a%3===0;case r.Patterns.PATTERN110:return(s*a%2+s*a%3)%2===0;case r.Patterns.PATTERN111:return(s*a%3+(s+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(s,a){const l=a.size;for(let u=0;u<l;u++)for(let f=0;f<l;f++)a.isReserved(f,u)||a.xor(f,u,t(s,f,u))},r.getBestMask=function(s,a){const l=Object.keys(r.Patterns).length;let u=0,f=1/0;for(let h=0;h<l;h++){a(h),r.applyMask(h,s);const m=r.getPenaltyN1(s)+r.getPenaltyN2(s)+r.getPenaltyN3(s)+r.getPenaltyN4(s);r.applyMask(h,s),m<f&&(f=m,u=h)}return u}})(zg)),zg}var Od={},n6;function uC(){if(n6)return Od;n6=1;const r=by(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Od.getBlocksCount=function(s,a){switch(a){case r.L:return e[(s-1)*4+0];case r.M:return e[(s-1)*4+1];case r.Q:return e[(s-1)*4+2];case r.H:return e[(s-1)*4+3];default:return}},Od.getTotalCodewordsCount=function(s,a){switch(a){case r.L:return t[(s-1)*4+0];case r.M:return t[(s-1)*4+1];case r.Q:return t[(s-1)*4+2];case r.H:return t[(s-1)*4+3];default:return}},Od}var Ug={},m0={},r6;function HN(){if(r6)return m0;r6=1;const r=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let s=0;s<255;s++)r[s]=n,e[n]=s,n<<=1,n&256&&(n^=285);for(let s=255;s<512;s++)r[s]=r[s-255]})(),m0.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},m0.exp=function(n){return r[n]},m0.mul=function(n,s){return n===0||s===0?0:r[e[n]+e[s]]},m0}var i6;function WN(){return i6||(i6=1,(function(r){const e=HN();r.mul=function(n,s){const a=new Uint8Array(n.length+s.length-1);for(let l=0;l<n.length;l++)for(let u=0;u<s.length;u++)a[l+u]^=e.mul(n[l],s[u]);return a},r.mod=function(n,s){let a=new Uint8Array(n);for(;a.length-s.length>=0;){const l=a[0];for(let f=0;f<s.length;f++)a[f]^=e.mul(s[f],l);let u=0;for(;u<a.length&&a[u]===0;)u++;a=a.slice(u)}return a},r.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let a=0;a<n;a++)s=r.mul(s,new Uint8Array([1,e.exp(a)]));return s}})(Ug)),Ug}var Hg,o6;function qN(){if(o6)return Hg;o6=1;const r=WN();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(n.length+this.degree);s.set(n);const a=r.mod(s,this.genPoly),l=this.degree-a.length;if(l>0){const u=new Uint8Array(this.degree);return u.set(a,l),u}return a},Hg=e,Hg}var Wg={},qg={},Kg={},s6;function dC(){return s6||(s6=1,Kg.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Kg}var Ri={},a6;function xC(){if(a6)return Ri;a6=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Ri.KANJI=new RegExp(t,"g"),Ri.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ri.BYTE=new RegExp(n,"g"),Ri.NUMERIC=new RegExp(r,"g"),Ri.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+t+"$"),a=new RegExp("^"+r+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ri.testKanji=function(f){return s.test(f)},Ri.testNumeric=function(f){return a.test(f)},Ri.testAlphanumeric=function(f){return l.test(f)},Ri}var l6;function za(){return l6||(l6=1,(function(r){const e=dC(),t=xC();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(a,l){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?a.ccBits[0]:l<27?a.ccBits[1]:a.ccBits[2]},r.getBestModeForData=function(a){return t.testNumeric(a)?r.NUMERIC:t.testAlphanumeric(a)?r.ALPHANUMERIC:t.testKanji(a)?r.KANJI:r.BYTE},r.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},r.isValid=function(a){return a&&a.bit&&a.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+s)}}r.from=function(a,l){if(r.isValid(a))return a;try{return n(a)}catch{return l}}})(qg)),qg}var c6;function KN(){return c6||(c6=1,(function(r){const e=Pa(),t=uC(),n=by(),s=za(),a=dC(),l=7973,u=e.getBCHDigit(l);function f(S,C,v){for(let R=1;R<=40;R++)if(C<=r.getCapacity(R,v,S))return R}function h(S,C){return s.getCharCountIndicator(S,C)+4}function m(S,C){let v=0;return S.forEach(function(R){const D=h(R.mode,C);v+=D+R.getBitsLength()}),v}function E(S,C){for(let v=1;v<=40;v++)if(m(S,v)<=r.getCapacity(v,C,s.MIXED))return v}r.from=function(C,v){return a.isValid(C)?parseInt(C,10):v},r.getCapacity=function(C,v,R){if(!a.isValid(C))throw new Error("Invalid QR Code version");typeof R>"u"&&(R=s.BYTE);const D=e.getSymbolTotalCodewords(C),M=t.getTotalCodewordsCount(C,v),N=(D-M)*8;if(R===s.MIXED)return N;const F=N-h(R,C);switch(R){case s.NUMERIC:return Math.floor(F/10*3);case s.ALPHANUMERIC:return Math.floor(F/11*2);case s.KANJI:return Math.floor(F/13);case s.BYTE:default:return Math.floor(F/8)}},r.getBestVersionForData=function(C,v){let R;const D=n.from(v,n.M);if(Array.isArray(C)){if(C.length>1)return E(C,D);if(C.length===0)return 1;R=C[0]}else R=C;return f(R.mode,R.getLength(),D)},r.getEncodedBits=function(C){if(!a.isValid(C)||C<7)throw new Error("Invalid QR Code version");let v=C<<12;for(;e.getBCHDigit(v)-u>=0;)v^=l<<e.getBCHDigit(v)-u;return C<<12|v}})(Wg)),Wg}var Vg={},u6;function VN(){if(u6)return Vg;u6=1;const r=Pa(),e=1335,t=21522,n=r.getBCHDigit(e);return Vg.getEncodedBits=function(a,l){const u=a.bit<<3|l;let f=u<<10;for(;r.getBCHDigit(f)-n>=0;)f^=e<<r.getBCHDigit(f)-n;return(u<<10|f)^t},Vg}var Gg={},Yg,d6;function GN(){if(d6)return Yg;d6=1;const r=za();function e(t){this.mode=r.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let s,a,l;for(s=0;s+3<=this.data.length;s+=3)a=this.data.substr(s,3),l=parseInt(a,10),n.put(l,10);const u=this.data.length-s;u>0&&(a=this.data.substr(s),l=parseInt(a,10),n.put(l,u*3+1))},Yg=e,Yg}var $g,x6;function YN(){if(x6)return $g;x6=1;const r=za(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(n){this.mode=r.ALPHANUMERIC,this.data=n}return t.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){let a;for(a=0;a+2<=this.data.length;a+=2){let l=e.indexOf(this.data[a])*45;l+=e.indexOf(this.data[a+1]),s.put(l,11)}this.data.length%2&&s.put(e.indexOf(this.data[a]),6)},$g=t,$g}var Zg,f6;function $N(){if(f6)return Zg;f6=1;const r=za();function e(t){this.mode=r.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let n=0,s=this.data.length;n<s;n++)t.put(this.data[n],8)},Zg=e,Zg}var Qg,h6;function ZN(){if(h6)return Qg;h6=1;const r=za(),e=Pa();function t(n){this.mode=r.KANJI,this.data=n}return t.getBitsLength=function(s){return s*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let s;for(s=0;s<this.data.length;s++){let a=e.toSJIS(this.data[s]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),n.put(a,13)}},Qg=t,Qg}var Xg={exports:{}},p6;function QN(){return p6||(p6=1,(function(r){var e={single_source_shortest_paths:function(t,n,s){var a={},l={};l[n]=0;var u=e.PriorityQueue.make();u.push(n,0);for(var f,h,m,E,S,C,v,R,D;!u.empty();){f=u.pop(),h=f.value,E=f.cost,S=t[h]||{};for(m in S)S.hasOwnProperty(m)&&(C=S[m],v=E+C,R=l[m],D=typeof l[m]>"u",(D||R>v)&&(l[m]=v,u.push(m,v),a[m]=h))}if(typeof s<"u"&&typeof l[s]>"u"){var M=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(M)}return a},extract_shortest_path_from_predecessor_list:function(t,n){for(var s=[],a=n;a;)s.push(a),t[a],a=t[a];return s.reverse(),s},find_path:function(t,n,s){var a=e.single_source_shortest_paths(t,n,s);return e.extract_shortest_path_from_predecessor_list(a,s)},PriorityQueue:{make:function(t){var n=e.PriorityQueue,s={},a;t=t||{};for(a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);return s.queue=[],s.sorter=t.sorter||n.default_sorter,s},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var s={value:t,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(Xg)),Xg.exports}var g6;function XN(){return g6||(g6=1,(function(r){const e=za(),t=GN(),n=YN(),s=$N(),a=ZN(),l=xC(),u=Pa(),f=QN();function h(M){return unescape(encodeURIComponent(M)).length}function m(M,N,F){const P=[];let K;for(;(K=M.exec(F))!==null;)P.push({data:K[0],index:K.index,mode:N,length:K[0].length});return P}function E(M){const N=m(l.NUMERIC,e.NUMERIC,M),F=m(l.ALPHANUMERIC,e.ALPHANUMERIC,M);let P,K;return u.isKanjiModeEnabled()?(P=m(l.BYTE,e.BYTE,M),K=m(l.KANJI,e.KANJI,M)):(P=m(l.BYTE_KANJI,e.BYTE,M),K=[]),N.concat(F,P,K).sort(function(H,J){return H.index-J.index}).map(function(H){return{data:H.data,mode:H.mode,length:H.length}})}function S(M,N){switch(N){case e.NUMERIC:return t.getBitsLength(M);case e.ALPHANUMERIC:return n.getBitsLength(M);case e.KANJI:return a.getBitsLength(M);case e.BYTE:return s.getBitsLength(M)}}function C(M){return M.reduce(function(N,F){const P=N.length-1>=0?N[N.length-1]:null;return P&&P.mode===F.mode?(N[N.length-1].data+=F.data,N):(N.push(F),N)},[])}function v(M){const N=[];for(let F=0;F<M.length;F++){const P=M[F];switch(P.mode){case e.NUMERIC:N.push([P,{data:P.data,mode:e.ALPHANUMERIC,length:P.length},{data:P.data,mode:e.BYTE,length:P.length}]);break;case e.ALPHANUMERIC:N.push([P,{data:P.data,mode:e.BYTE,length:P.length}]);break;case e.KANJI:N.push([P,{data:P.data,mode:e.BYTE,length:h(P.data)}]);break;case e.BYTE:N.push([{data:P.data,mode:e.BYTE,length:h(P.data)}])}}return N}function R(M,N){const F={},P={start:{}};let K=["start"];for(let V=0;V<M.length;V++){const H=M[V],J=[];for(let q=0;q<H.length;q++){const Z=H[q],Q=""+V+q;J.push(Q),F[Q]={node:Z,lastCount:0},P[Q]={};for(let $=0;$<K.length;$++){const T=K[$];F[T]&&F[T].node.mode===Z.mode?(P[T][Q]=S(F[T].lastCount+Z.length,Z.mode)-S(F[T].lastCount,Z.mode),F[T].lastCount+=Z.length):(F[T]&&(F[T].lastCount=Z.length),P[T][Q]=S(Z.length,Z.mode)+4+e.getCharCountIndicator(Z.mode,N))}}K=J}for(let V=0;V<K.length;V++)P[K[V]].end=0;return{map:P,table:F}}function D(M,N){let F;const P=e.getBestModeForData(M);if(F=e.from(N,P),F!==e.BYTE&&F.bit<P.bit)throw new Error('"'+M+'" cannot be encoded with mode '+e.toString(F)+`.
 Suggested mode is: `+e.toString(P));switch(F===e.KANJI&&!u.isKanjiModeEnabled()&&(F=e.BYTE),F){case e.NUMERIC:return new t(M);case e.ALPHANUMERIC:return new n(M);case e.KANJI:return new a(M);case e.BYTE:return new s(M)}}r.fromArray=function(N){return N.reduce(function(F,P){return typeof P=="string"?F.push(D(P,null)):P.data&&F.push(D(P.data,P.mode)),F},[])},r.fromString=function(N,F){const P=E(N,u.isKanjiModeEnabled()),K=v(P),V=R(K,F),H=f.find_path(V.map,"start","end"),J=[];for(let q=1;q<H.length-1;q++)J.push(V.table[H[q]].node);return r.fromArray(C(J))},r.rawSplit=function(N){return r.fromArray(E(N,u.isKanjiModeEnabled()))}})(Gg)),Gg}var m6;function JN(){if(m6)return Ig;m6=1;const r=Pa(),e=by(),t=jN(),n=LN(),s=PN(),a=zN(),l=UN(),u=uC(),f=qN(),h=KN(),m=VN(),E=za(),S=XN();function C(V,H){const J=V.size,q=a.getPositions(H);for(let Z=0;Z<q.length;Z++){const Q=q[Z][0],$=q[Z][1];for(let T=-1;T<=7;T++)if(!(Q+T<=-1||J<=Q+T))for(let p=-1;p<=7;p++)$+p<=-1||J<=$+p||(T>=0&&T<=6&&(p===0||p===6)||p>=0&&p<=6&&(T===0||T===6)||T>=2&&T<=4&&p>=2&&p<=4?V.set(Q+T,$+p,!0,!0):V.set(Q+T,$+p,!1,!0))}}function v(V){const H=V.size;for(let J=8;J<H-8;J++){const q=J%2===0;V.set(J,6,q,!0),V.set(6,J,q,!0)}}function R(V,H){const J=s.getPositions(H);for(let q=0;q<J.length;q++){const Z=J[q][0],Q=J[q][1];for(let $=-2;$<=2;$++)for(let T=-2;T<=2;T++)$===-2||$===2||T===-2||T===2||$===0&&T===0?V.set(Z+$,Q+T,!0,!0):V.set(Z+$,Q+T,!1,!0)}}function D(V,H){const J=V.size,q=h.getEncodedBits(H);let Z,Q,$;for(let T=0;T<18;T++)Z=Math.floor(T/3),Q=T%3+J-8-3,$=(q>>T&1)===1,V.set(Z,Q,$,!0),V.set(Q,Z,$,!0)}function M(V,H,J){const q=V.size,Z=m.getEncodedBits(H,J);let Q,$;for(Q=0;Q<15;Q++)$=(Z>>Q&1)===1,Q<6?V.set(Q,8,$,!0):Q<8?V.set(Q+1,8,$,!0):V.set(q-15+Q,8,$,!0),Q<8?V.set(8,q-Q-1,$,!0):Q<9?V.set(8,15-Q-1+1,$,!0):V.set(8,15-Q-1,$,!0);V.set(q-8,8,1,!0)}function N(V,H){const J=V.size;let q=-1,Z=J-1,Q=7,$=0;for(let T=J-1;T>0;T-=2)for(T===6&&T--;;){for(let p=0;p<2;p++)if(!V.isReserved(Z,T-p)){let b=!1;$<H.length&&(b=(H[$]>>>Q&1)===1),V.set(Z,T-p,b),Q--,Q===-1&&($++,Q=7)}if(Z+=q,Z<0||J<=Z){Z-=q,q=-q;break}}}function F(V,H,J){const q=new t;J.forEach(function(p){q.put(p.mode.bit,4),q.put(p.getLength(),E.getCharCountIndicator(p.mode,V)),p.write(q)});const Z=r.getSymbolTotalCodewords(V),Q=u.getTotalCodewordsCount(V,H),$=(Z-Q)*8;for(q.getLengthInBits()+4<=$&&q.put(0,4);q.getLengthInBits()%8!==0;)q.putBit(0);const T=($-q.getLengthInBits())/8;for(let p=0;p<T;p++)q.put(p%2?17:236,8);return P(q,V,H)}function P(V,H,J){const q=r.getSymbolTotalCodewords(H),Z=u.getTotalCodewordsCount(H,J),Q=q-Z,$=u.getBlocksCount(H,J),T=q%$,p=$-T,b=Math.floor(q/$),_=Math.floor(Q/$),O=_+1,G=b-_,z=new f(G);let k=0;const A=new Array($),g=new Array($);let w=0;const j=new Uint8Array(V.buffer);for(let we=0;we<$;we++){const Je=we<p?_:O;A[we]=j.slice(k,k+Je),g[we]=z.encode(A[we]),k+=Je,w=Math.max(w,Je)}const X=new Uint8Array(q);let ne=0,oe,be;for(oe=0;oe<w;oe++)for(be=0;be<$;be++)oe<A[be].length&&(X[ne++]=A[be][oe]);for(oe=0;oe<G;oe++)for(be=0;be<$;be++)X[ne++]=g[be][oe];return X}function K(V,H,J,q){let Z;if(Array.isArray(V))Z=S.fromArray(V);else if(typeof V=="string"){let b=H;if(!b){const _=S.rawSplit(V);b=h.getBestVersionForData(_,J)}Z=S.fromString(V,b||40)}else throw new Error("Invalid data");const Q=h.getBestVersionForData(Z,J);if(!Q)throw new Error("The amount of data is too big to be stored in a QR Code");if(!H)H=Q;else if(H<Q)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Q+`.
`);const $=F(H,J,Z),T=r.getSymbolSize(H),p=new n(T);return C(p,H),v(p),R(p,H),M(p,J,0),H>=7&&D(p,H),N(p,$),isNaN(q)&&(q=l.getBestMask(p,M.bind(null,p,J))),l.applyMask(q,p),M(p,J,q),{modules:p,version:H,errorCorrectionLevel:J,maskPattern:q,segments:Z}}return Ig.create=function(H,J){if(typeof H>"u"||H==="")throw new Error("No input text");let q=e.M,Z,Q;return typeof J<"u"&&(q=e.from(J.errorCorrectionLevel,e.M),Z=h.from(J.version),Q=l.from(J.maskPattern),J.toSJISFunc&&r.setToSJISFunction(J.toSJISFunc)),K(H,Z,q,Q)},Ig}var Jg={},e1={},y6;function fC(){return y6||(y6=1,(function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+t);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,l=n.scale||4;return{width:a,scale:a?4:l,margin:s,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},r.getImageWidth=function(n,s){const a=r.getScale(n,s);return Math.floor((n+s.margin*2)*a)},r.qrToImageData=function(n,s,a){const l=s.modules.size,u=s.modules.data,f=r.getScale(l,a),h=Math.floor((l+a.margin*2)*f),m=a.margin*f,E=[a.color.light,a.color.dark];for(let S=0;S<h;S++)for(let C=0;C<h;C++){let v=(S*h+C)*4,R=a.color.light;if(S>=m&&C>=m&&S<h-m&&C<h-m){const D=Math.floor((S-m)/f),M=Math.floor((C-m)/f);R=E[u[D*l+M]?1:0]}n[v++]=R.r,n[v++]=R.g,n[v++]=R.b,n[v]=R.a}}})(e1)),e1}var E6;function eI(){return E6||(E6=1,(function(r){const e=fC();function t(s,a,l){s.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=l,a.width=l,a.style.height=l+"px",a.style.width=l+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(a,l,u){let f=u,h=l;typeof f>"u"&&(!l||!l.getContext)&&(f=l,l=void 0),l||(h=n()),f=e.getOptions(f);const m=e.getImageWidth(a.modules.size,f),E=h.getContext("2d"),S=E.createImageData(m,m);return e.qrToImageData(S.data,a,f),t(E,h,m),E.putImageData(S,0,0),h},r.renderToDataURL=function(a,l,u){let f=u;typeof f>"u"&&(!l||!l.getContext)&&(f=l,l=void 0),f||(f={});const h=r.render(a,l,f),m=f.type||"image/png",E=f.rendererOpts||{};return h.toDataURL(m,E.quality)}})(Jg)),Jg}var t1={},b6;function tI(){if(b6)return t1;b6=1;const r=fC();function e(s,a){const l=s.a/255,u=a+'="'+s.hex+'"';return l<1?u+" "+a+'-opacity="'+l.toFixed(2).slice(1)+'"':u}function t(s,a,l){let u=s+a;return typeof l<"u"&&(u+=" "+l),u}function n(s,a,l){let u="",f=0,h=!1,m=0;for(let E=0;E<s.length;E++){const S=Math.floor(E%a),C=Math.floor(E/a);!S&&!h&&(h=!0),s[E]?(m++,E>0&&S>0&&s[E-1]||(u+=h?t("M",S+l,.5+C+l):t("m",f,0),f=0,h=!1),S+1<a&&s[E+1]||(u+=t("h",m),m=0)):f++}return u}return t1.render=function(a,l,u){const f=r.getOptions(l),h=a.modules.size,m=a.modules.data,E=h+f.margin*2,S=f.color.light.a?"<path "+e(f.color.light,"fill")+' d="M0 0h'+E+"v"+E+'H0z"/>':"",C="<path "+e(f.color.dark,"stroke")+' d="'+n(m,h,f.margin)+'"/>',v='viewBox="0 0 '+E+" "+E+'"',D='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+v+' shape-rendering="crispEdges">'+S+C+`</svg>
`;return typeof u=="function"&&u(null,D),D},t1}var w6;function nI(){if(w6)return Fl;w6=1;const r=ON(),e=JN(),t=eI(),n=tI();function s(a,l,u,f,h){const m=[].slice.call(arguments,1),E=m.length,S=typeof m[E-1]=="function";if(!S&&!r())throw new Error("Callback required as last argument");if(S){if(E<2)throw new Error("Too few arguments provided");E===2?(h=u,u=l,l=f=void 0):E===3&&(l.getContext&&typeof h>"u"?(h=f,f=void 0):(h=f,f=u,u=l,l=void 0))}else{if(E<1)throw new Error("Too few arguments provided");return E===1?(u=l,l=f=void 0):E===2&&!l.getContext&&(f=u,u=l,l=void 0),new Promise(function(C,v){try{const R=e.create(u,f);C(a(R,l,f))}catch(R){v(R)}})}try{const C=e.create(u,f);h(null,a(C,l,f))}catch(C){h(C)}}return Fl.create=e.create,Fl.toCanvas=s.bind(null,t.render),Fl.toDataURL=s.bind(null,t.renderToDataURL),Fl.toString=s.bind(null,function(a,l,u){return n.render(a,u)}),Fl}nI();function n1(r){switch(r){case"processed":case"confirmed":case"finalized":case void 0:return r;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const V0="solana:mainnet",hC="solana:devnet",pC="solana:testnet",rI="solana:localnet",iI="https://api.mainnet-beta.solana.com";function oI(r){return r.includes(iI)?V0:/\bdevnet\b/i.test(r)?hC:/\btestnet\b/i.test(r)?pC:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?rI:V0}function sI(r){let e=`${r.domain} wants you to sign in with your Solana account:
`;e+=`${r.address}`,r.statement&&(e+=`

${r.statement}`);const t=[];if(r.uri&&t.push(`URI: ${r.uri}`),r.version&&t.push(`Version: ${r.version}`),r.chainId&&t.push(`Chain ID: ${r.chainId}`),r.nonce&&t.push(`Nonce: ${r.nonce}`),r.issuedAt&&t.push(`Issued At: ${r.issuedAt}`),r.expirationTime&&t.push(`Expiration Time: ${r.expirationTime}`),r.notBefore&&t.push(`Not Before: ${r.notBefore}`),r.requestId&&t.push(`Request ID: ${r.requestId}`),r.resources){t.push("Resources:");for(const n of r.resources)t.push(`- ${n}`)}return t.length&&(e+=`

${t.join(`
`)}`),e}function aI(r){return Object.freeze({...r,decode:(e,t=0)=>r.read(e,t)[0]})}var lI=r=>aI({read(e,t){const n=t===0?e:e.slice(t);if(n.length===0)return["",0];let s=n.findIndex(f=>f!==0);s=s===-1?n.length:s;const a=r[0].repeat(s);if(s===n.length)return[a,e.length];const l=n.slice(s).reduce((f,h)=>f*256n+BigInt(h),0n),u=cI(l,r);return[a+u,e.length]}});function cI(r,e){const t=BigInt(e.length),n=[];for(;r>0n;)n.unshift(e[Number(r%t)]),r/=t;return n.join("")}var uI="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",dI=()=>lI(uI);const Lo={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Po extends Error{constructor(...e){const[t,n,s]=e;super(n),this.code=t,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class gC extends Error{constructor(...e){const[t,n,s,a]=e;super(s),this.code=n,this.data=a,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}}function Un(r,e,t,n){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(m){try{h(n.next(m))}catch(E){l(E)}}function f(m){try{h(n.throw(m))}catch(E){l(E)}}function h(m){m.done?a(m.value):s(m.value).then(u,f)}h((n=n.apply(r,[])).next())})}function xI(r){return window.btoa(r)}function A6(r,e){return window.btoa(String.fromCharCode.call(null,...r))}function mC(r){return new Uint8Array(window.atob(r).split("").map(e=>e.charCodeAt(0)))}function r1(r,e){return Un(this,void 0,void 0,function*(){const t=yield crypto.subtle.exportKey("raw",r),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,t),s=new Uint8Array(t.byteLength+n.byteLength);return s.set(new Uint8Array(t),0),s.set(new Uint8Array(n),t.byteLength),s})}function fI(r){return sI(r)}function hI(r){return xI(fI(r)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const pI="solana:signTransactions",C6="solana:cloneAuthorization";function gI(r){return dI().decode(r)}function mI(r){return gI(mC(r))}function yI(r,e){return new Proxy({},{get(t,n){return n==="then"?null:(t[n]==null&&(t[n]=function(s){return Un(this,void 0,void 0,function*(){const{method:a,params:l}=EI(n,s,r),u=yield e(a,l);return a==="authorize"&&l.sign_in_payload&&!u.sign_in_result&&(u.sign_in_result=yield wI(l.sign_in_payload,u,e)),bI(n,u,r)})}),t[n])},defineProperty(){return!1},deleteProperty(){return!1}})}function EI(r,e,t){let n=e,s=r.toString().replace(/[A-Z]/g,a=>`_${a.toLowerCase()}`).toLowerCase();switch(r){case"authorize":{let{chain:a}=n;if(t==="legacy"){switch(a){case"solana:testnet":{a="testnet";break}case"solana:devnet":{a="devnet";break}case"solana:mainnet":{a="mainnet-beta";break}default:a=n.cluster}n.cluster=a}else{switch(a){case"testnet":case"devnet":{a=`solana:${a}`;break}case"mainnet-beta":{a="solana:mainnet";break}}n.chain=a}}case"reauthorize":{const{auth_token:a,identity:l}=n;a&&(t==="legacy"?(s="reauthorize",n={auth_token:a,identity:l}):s="authorize");break}}return{method:s,params:n}}function bI(r,e,t){switch(r){case"getCapabilities":{const n=e;switch(t){case"legacy":{const s=[pI];return n.supports_clone_authorization===!0&&s.push(C6),Object.assign(Object.assign({},n),{features:s})}case"v1":return Object.assign(Object.assign({},n),{supports_sign_and_send_transactions:!0,supports_clone_authorization:n.features.includes(C6)})}}}return e}function wI(r,e,t){var n;return Un(this,void 0,void 0,function*(){const s=(n=r.domain)!==null&&n!==void 0?n:window.location.host,a=e.accounts[0].address,l=hI(Object.assign(Object.assign({},r),{domain:s,address:mI(a)})),u=yield t("sign_messages",{addresses:[a],payloads:[l]}),f=mC(u.signed_payloads[0]),h=A6(f.slice(0,f.length-64)),m=A6(f.slice(f.length-64));return{address:a,signed_message:h.length==0?l:h,signature:m}})}const ya=4;function AI(r){if(r>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(ya);return new DataView(e).setUint32(0,r,!1),new Uint8Array(e)}const G1=12,yC=65;function CI(r,e,t){return Un(this,void 0,void 0,function*(){const n=AI(e),s=new Uint8Array(G1);crypto.getRandomValues(s);const a=yield crypto.subtle.encrypt(bC(n,s),t,new TextEncoder().encode(r)),l=new Uint8Array(n.byteLength+s.byteLength+a.byteLength);return l.set(new Uint8Array(n),0),l.set(new Uint8Array(s),n.byteLength),l.set(new Uint8Array(a),n.byteLength+s.byteLength),l})}function EC(r,e){return Un(this,void 0,void 0,function*(){const t=r.slice(0,ya),n=r.slice(ya,ya+G1),s=r.slice(ya+G1),a=yield crypto.subtle.decrypt(bC(t,n),e,s);return vI().decode(a)})}function bC(r,e){return{additionalData:r,iv:e,name:"AES-GCM",tagLength:128}}let i1;function vI(){return i1===void 0&&(i1=new TextDecoder("utf-8")),i1}function BI(){return Un(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function o1(){return Un(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function SI(r){let e="";const t=new Uint8Array(r),n=t.byteLength;for(let s=0;s<n;s++)e+=String.fromCharCode(t[s]);return window.btoa(e)}function _I(){return wC(49152+Math.floor(Math.random()*16384))}function wC(r){if(r<49152||r>65535)throw new Po(Lo.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${r} given.`,{port:r});return r}function DI(r){return r.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const RI="solana-wallet";function v6(r){return r.replace(/(^\/+|\/+$)/g,"").split("/")}function kI(r,e){let t=null;if(e){try{t=new URL(e)}catch{}if(t?.protocol!=="https:")throw new Po(Lo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}t||(t=new URL(`${RI}:/`));const n=r.startsWith("/")?r:[...v6(t.pathname),...v6(r)].join("/");return new URL(n,t)}function FI(r,e,t,n=["v1"]){return Un(this,void 0,void 0,function*(){const s=wC(e),a=yield crypto.subtle.exportKey("raw",r),l=SI(a),u=kI("v1/associate/local",t);return u.searchParams.set("association",DI(l)),u.searchParams.set("port",`${s}`),n.forEach(f=>{u.searchParams.set("v",f)}),u})}function TI(r,e){return Un(this,void 0,void 0,function*(){const t=JSON.stringify(r),n=r.id;return CI(t,n,e)})}function NI(r,e){return Un(this,void 0,void 0,function*(){const t=yield EC(r,e),n=JSON.parse(t);if(Object.hasOwnProperty.call(n,"error"))throw new gC(n.id,n.error.code,n.error.message);return n})}function II(r,e,t){return Un(this,void 0,void 0,function*(){const[n,s]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",r.slice(0,yC),{name:"ECDH",namedCurve:"P-256"},!1,[])]),a=yield crypto.subtle.deriveBits({name:"ECDH",public:s},t,256),l=yield crypto.subtle.importKey("raw",a,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},l,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function MI(r,e){return Un(this,void 0,void 0,function*(){const t=yield EC(r,e),n=JSON.parse(t);let s="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new Po(Lo.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:s}})}const Yx={Firefox:0,Other:1};function OI(){return navigator.userAgent.indexOf("Firefox/")!==-1?Yx.Firefox:Yx.Other}function jI(){return new Promise((r,e)=>{function t(){clearTimeout(s),window.removeEventListener("blur",n)}function n(){t(),r()}window.addEventListener("blur",n);const s=setTimeout(()=>{t(),e()},3e3)})}let y0=null;function LI(r){y0==null&&(y0=document.createElement("iframe"),y0.style.display="none",document.body.appendChild(y0)),y0.contentWindow.location.href=r.toString()}function PI(r){return Un(this,void 0,void 0,function*(){if(r.protocol==="https:")window.location.assign(r);else try{const e=OI();switch(e){case Yx.Firefox:LI(r);break;case Yx.Other:{const t=jI();window.location.assign(r),yield t;break}default:}}catch{throw new Po(Lo.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function zI(r,e){return Un(this,void 0,void 0,function*(){const t=_I(),n=yield FI(r,t,e);return yield PI(n),t})}const B6={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},UI="com.solana.mobilewalletadapter.v1";function HI(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Po(Lo.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function WI(r){let e;try{e=new URL(r)}catch{throw new Po(Lo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Po(Lo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function S6(r){return new DataView(r).getUint32(0,!1)}function qI(r,e){return Un(this,void 0,void 0,function*(){HI();const t=yield BI(),s=`ws://localhost:${yield zI(t.publicKey,e?.baseUri)}/solana-wallet`;let a;const l=(()=>{const m=[...B6.retryDelayScheduleMs];return()=>m.length>1?m.shift():m[0]})();let u=1,f=0,h={__type:"disconnected"};return new Promise((m,E)=>{let S;const C={},v=()=>Un(this,void 0,void 0,function*(){if(h.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${h.__type}\`.`);return}S.removeEventListener("open",v);const{associationKeypair:K}=h,V=yield o1();S.send(yield r1(V.publicKey,K.privateKey)),h={__type:"hello_req_sent",associationPublicKey:K.publicKey,ecdhPrivateKey:V.privateKey}}),R=K=>{K.wasClean?h={__type:"disconnected"}:E(new Po(Lo.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${K.code}: ${K.reason}).`,{closeEvent:K})),N()},D=K=>Un(this,void 0,void 0,function*(){N(),Date.now()-a>=B6.timeoutMs?E(new Po(Lo.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(V=>{const H=l();F=window.setTimeout(V,H)}),P())}),M=K=>Un(this,void 0,void 0,function*(){const V=yield K.data.arrayBuffer();switch(h.__type){case"connecting":if(V.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const H=yield o1();S.send(yield r1(H.publicKey,t.privateKey)),h={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:H.privateKey};break;case"connected":try{const J=V.slice(0,ya),q=S6(J);if(q!==f+1)throw new Error("Encrypted message has invalid sequence number");f=q;const Z=yield NI(V,h.sharedSecret),Q=C[Z.id];delete C[Z.id],Q.resolve(Z.result)}catch(J){if(J instanceof gC){const q=C[J.jsonRpcMessageId];delete C[J.jsonRpcMessageId],q.reject(J)}else throw J}break;case"hello_req_sent":{if(V.byteLength===0){const $=yield o1();S.send(yield r1($.publicKey,t.privateKey)),h={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:$.privateKey};break}const J=yield II(V,h.associationPublicKey,h.ecdhPrivateKey),q=V.slice(yC),Z=q.byteLength!==0?yield Un(this,void 0,void 0,function*(){const $=q.slice(0,ya),T=S6($);if(T!==f+1)throw new Error("Encrypted message has invalid sequence number");return f=T,MI(q,J)}):{protocol_version:"legacy"};h={__type:"connected",sharedSecret:J,sessionProperties:Z};const Q=yI(Z.protocol_version,($,T)=>Un(this,void 0,void 0,function*(){const p=u++;return S.send(yield TI({id:p,jsonrpc:"2.0",method:$,params:T??{}},J)),new Promise((b,_)=>{C[p]={resolve(O){switch($){case"authorize":case"reauthorize":{const{wallet_uri_base:G}=O;if(G!=null)try{WI(G)}catch(z){_(z);return}break}}b(O)},reject:_}})}));try{m(yield r(Q))}catch($){E($)}finally{N(),S.close()}break}}});let N,F;const P=()=>{N&&N(),h={__type:"connecting",associationKeypair:t},a===void 0&&(a=Date.now()),S=new WebSocket(s,[UI]),S.addEventListener("open",v),S.addEventListener("close",R),S.addEventListener("error",D),S.addEventListener("message",M),N=()=>{window.clearTimeout(F),S.removeEventListener("open",v),S.removeEventListener("close",R),S.removeEventListener("error",D),S.removeEventListener("message",M)}};P()})})}var s1,_6;function KI(){if(_6)return s1;_6=1;function r(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var s=0;s<e.length;s++){var a=e.charAt(s),l=a.charCodeAt(0);if(t[l]!==255)throw new TypeError(a+" is ambiguous");t[l]=s}var u=e.length,f=e.charAt(0),h=Math.log(u)/Math.log(256),m=Math.log(256)/Math.log(u);function E(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var R=0,D=0,M=0,N=v.length;M!==N&&v[M]===0;)M++,R++;for(var F=(N-M)*m+1>>>0,P=new Uint8Array(F);M!==N;){for(var K=v[M],V=0,H=F-1;(K!==0||V<D)&&H!==-1;H--,V++)K+=256*P[H]>>>0,P[H]=K%u>>>0,K=K/u>>>0;if(K!==0)throw new Error("Non-zero carry");D=V,M++}for(var J=F-D;J!==F&&P[J]===0;)J++;for(var q=f.repeat(R);J<F;++J)q+=e.charAt(P[J]);return q}function S(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var R=0,D=0,M=0;v[R]===f;)D++,R++;for(var N=(v.length-R)*h+1>>>0,F=new Uint8Array(N);v[R];){var P=v.charCodeAt(R);if(P>255)return;var K=t[P];if(K===255)return;for(var V=0,H=N-1;(K!==0||V<M)&&H!==-1;H--,V++)K+=u*F[H]>>>0,F[H]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");M=V,R++}for(var J=N-M;J!==N&&F[J]===0;)J++;for(var q=new Uint8Array(D+(N-J)),Z=D;J!==N;)q[Z++]=F[J++];return q}function C(v){var R=S(v);if(R)return R;throw new Error("Non-base"+u+" character")}return{encode:E,decodeUnsafe:S,decode:C}}return s1=r,s1}var a1,D6;function VI(){return D6||(D6=1,a1=KI()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),a1}var GI=VI();const Y1=ri(GI);function ln(r,e,t,n){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(m){try{h(n.next(m))}catch(E){l(E)}}function f(m){try{h(n.throw(m))}catch(E){l(E)}}function h(m){m.done?a(m.value):s(m.value).then(u,f)}h((n=n.apply(r,[])).next())})}function Be(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function Ln(r,e,t,n,s){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}var S0,Wn,sa,Ml,AC,CC,vC,hx;const YI=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,$I=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,ZI=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class QI{constructor(){S0.add(this),Wn.set(this,null),sa.set(this,{}),Ml.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),Be(this,S0,"m",CC).call(this),Be(this,Wn,"f")&&(Be(this,Wn,"f").style.display="flex")},this.close=(e=void 0)=>{var t;console.debug("Modal close"),Be(this,S0,"m",vC).call(this),Be(this,Wn,"f")&&(Be(this,Wn,"f").style.display="none"),(t=Be(this,sa,"f").close)===null||t===void 0||t.forEach(n=>n(e))},hx.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Ln(this,Wn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return ln(this,void 0,void 0,function*(){console.log("Injecting modal"),Be(this,S0,"m",AC).call(this)})}addEventListener(e,t){var n;return!((n=Be(this,sa,"f")[e])===null||n===void 0)&&n.push(t)||(Be(this,sa,"f")[e]=[t]),()=>this.removeEventListener(e,t)}removeEventListener(e,t){var n;Be(this,sa,"f")[e]=(n=Be(this,sa,"f")[e])===null||n===void 0?void 0:n.filter(s=>t!==s)}}Wn=new WeakMap,sa=new WeakMap,Ml=new WeakMap,hx=new WeakMap,S0=new WeakSet,AC=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){Be(this,Wn,"f")||Ln(this,Wn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Ln(this,Wn,document.createElement("div")),Be(this,Wn,"f").id="mobile-wallet-adapter-embedded-root-ui",Be(this,Wn,"f").innerHTML=YI,Be(this,Wn,"f").style.display="none";const e=Be(this,Wn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const t=document.createElement("style");t.id="mobile-wallet-adapter-embedded-modal-styles",t.textContent=$I+this.contentStyles;const n=document.createElement("div");n.innerHTML=ZI,this.dom=n.attachShadow({mode:"closed"}),this.dom.appendChild(t),this.dom.appendChild(Be(this,Wn,"f")),document.body.appendChild(n)},CC=function(){if(!Be(this,Wn,"f")||Be(this,Ml,"f"))return;[...Be(this,Wn,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t?.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",Be(this,hx,"f")),Ln(this,Ml,!0)},vC=function(){if(!Be(this,Ml,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",Be(this,hx,"f")),!Be(this,Wn,"f")))return;[...Be(this,Wn,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t?.removeEventListener("click",this.close)),Ln(this,Ml,!1)};const XI="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function jd(r){return window.btoa(String.fromCharCode.call(null,...r))}function Es(r){return new Uint8Array(window.atob(r).split("").map(e=>e.charCodeAt(0)))}var Ol,Ea,$1,Z1,Q1,X1,_0,dr,wo,bs,jl,aa,px,D0,gx,J1,mx,BC,em,yx,Ll,Ex,R0,bx,Pl,k0,wx,tm,nm,Ax,Cx,rm,im,vx;const SC="Mobile Wallet Adapter",JI=64,eM=[pr,cn,Do,_a];class tM{constructor(e){Ol.add(this),Ea.set(this,{}),$1.set(this,"1.0.0"),Z1.set(this,SC),Q1.set(this,"https://solanamobile.com/wallets"),X1.set(this,XI),_0.set(this,void 0),dr.set(this,void 0),wo.set(this,void 0),bs.set(this,!1),jl.set(this,0),aa.set(this,[]),px.set(this,void 0),D0.set(this,void 0),gx.set(this,void 0),J1.set(this,(t,n)=>{var s;return!((s=Be(this,Ea,"f")[t])===null||s===void 0)&&s.push(n)||(Be(this,Ea,"f")[t]=[n]),()=>Be(this,Ol,"m",BC).call(this,t,n)}),em.set(this,({silent:t}={})=>ln(this,void 0,void 0,function*(){if(Be(this,bs,"f")||this.connected)return{accounts:this.accounts};Ln(this,bs,!0);try{if(t){const n=yield Be(this,wo,"f").get();if(n)yield Be(this,Ex,"f").call(this,n.capabilities),yield Be(this,Ll,"f").call(this,n);else return{accounts:this.accounts}}else yield Be(this,yx,"f").call(this)}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}finally{Ln(this,bs,!1)}return{accounts:this.accounts}})),yx.set(this,t=>ln(this,void 0,void 0,function*(){try{const n=yield Be(this,wo,"f").get();if(n)return Be(this,Ll,"f").call(this,n),n;const s=yield Be(this,px,"f").select(Be(this,aa,"f"));return yield Be(this,Pl,"f").call(this,a=>ln(this,void 0,void 0,function*(){const[l,u]=yield Promise.all([a.getCapabilities(),a.authorize({chain:s,identity:Be(this,_0,"f"),sign_in_payload:t})]),f=Be(this,wx,"f").call(this,u.accounts),h=Object.assign(Object.assign({},u),{accounts:f,chain:s,capabilities:l});return Promise.all([Be(this,Ex,"f").call(this,l),Be(this,wo,"f").set(h),Be(this,Ll,"f").call(this,h)]),h}))}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}})),Ll.set(this,t=>ln(this,void 0,void 0,function*(){var n;const s=Be(this,dr,"f")==null||((n=Be(this,dr,"f"))===null||n===void 0?void 0:n.accounts.length)!==t.accounts.length||Be(this,dr,"f").accounts.some((a,l)=>a.address!==t.accounts[l].address);Ln(this,dr,t),s&&Be(this,Ol,"m",mx).call(this,"change",{accounts:this.accounts})})),Ex.set(this,t=>ln(this,void 0,void 0,function*(){const n=t.features.includes("solana:signTransactions"),s=t.supports_sign_and_send_transactions,a=pr in this.features!==s||cn in this.features!==n;Ln(this,D0,Object.assign(Object.assign({},(s||!s&&!n)&&{[pr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Be(this,Ax,"f")}}),n&&{[cn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Be(this,Cx,"f")}})),a&&Be(this,Ol,"m",mx).call(this,"change",{features:this.features})})),R0.set(this,(t,n,s)=>ln(this,void 0,void 0,function*(){var a,l;try{const[u,f]=yield Promise.all([(l=(a=Be(this,dr,"f"))===null||a===void 0?void 0:a.capabilities)!==null&&l!==void 0?l:yield t.getCapabilities(),t.authorize({auth_token:n,identity:Be(this,_0,"f"),chain:s})]),h=Be(this,wx,"f").call(this,f.accounts),m=Object.assign(Object.assign({},f),{accounts:h,chain:s,capabilities:u});Promise.all([Be(this,wo,"f").set(m),Be(this,Ll,"f").call(this,m)])}catch(u){throw Be(this,bx,"f").call(this),new Error(u instanceof Error&&u.message||"Unknown error")}})),bx.set(this,()=>ln(this,void 0,void 0,function*(){var t;Be(this,wo,"f").clear(),Ln(this,bs,!1),Ln(this,jl,(t=Be(this,jl,"f"),t++,t)),Ln(this,dr,void 0),Be(this,Ol,"m",mx).call(this,"change",{accounts:this.accounts})})),Pl.set(this,t=>ln(this,void 0,void 0,function*(){var n;const s=(n=Be(this,dr,"f"))===null||n===void 0?void 0:n.wallet_uri_base,a=s?{baseUri:s}:void 0,l=Be(this,jl,"f");try{return yield qI(t,a)}catch(u){throw Be(this,jl,"f")!==l&&(yield new Promise(()=>{})),u instanceof Error&&u.name==="SolanaMobileWalletAdapterError"&&u.code==="ERROR_WALLET_NOT_FOUND"&&(yield Be(this,gx,"f").call(this,this)),u}})),k0.set(this,()=>{if(!Be(this,dr,"f"))throw new Error("Wallet not connected");return{authToken:Be(this,dr,"f").auth_token,chain:Be(this,dr,"f").chain}}),wx.set(this,t=>t.map(n=>{var s,a;const l=Es(n.address);return{address:Y1.encode(l),publicKey:l,label:n.label,icon:n.icon,chains:(s=n.chains)!==null&&s!==void 0?s:Be(this,aa,"f"),features:(a=n.features)!==null&&a!==void 0?a:eM}})),tm.set(this,t=>ln(this,void 0,void 0,function*(){const{authToken:n,chain:s}=Be(this,k0,"f").call(this);try{const a=t.map(l=>jd(l));return yield Be(this,Pl,"f").call(this,l=>ln(this,void 0,void 0,function*(){return yield Be(this,R0,"f").call(this,l,n,s),(yield l.signTransactions({payloads:a})).signed_payloads.map(Es)}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),nm.set(this,(t,n)=>ln(this,void 0,void 0,function*(){const{authToken:s,chain:a}=Be(this,k0,"f").call(this);try{return yield Be(this,Pl,"f").call(this,l=>ln(this,void 0,void 0,function*(){const[u,f]=yield Promise.all([l.getCapabilities(),Be(this,R0,"f").call(this,l,s,a)]);if(u.supports_sign_and_send_transactions){const h=jd(t);return(yield l.signAndSendTransactions(Object.assign(Object.assign({},n),{payloads:[h]}))).signatures.map(Es)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(l){throw new Error(l instanceof Error&&l.message||"Unknown error")}})),Ax.set(this,(...t)=>ln(this,void 0,void 0,function*(){const n=[];for(const s of t){const a=yield Be(this,nm,"f").call(this,s.transaction,s.options);n.push({signature:a})}return n})),Cx.set(this,(...t)=>ln(this,void 0,void 0,function*(){return(yield Be(this,tm,"f").call(this,t.map(({transaction:n})=>n))).map(n=>({signedTransaction:n}))})),rm.set(this,(...t)=>ln(this,void 0,void 0,function*(){const{authToken:n,chain:s}=Be(this,k0,"f").call(this),a=t.map(({account:u})=>jd(u.publicKey)),l=t.map(({message:u})=>jd(u));try{return yield Be(this,Pl,"f").call(this,u=>ln(this,void 0,void 0,function*(){return yield Be(this,R0,"f").call(this,u,n,s),(yield u.signMessages({addresses:a,payloads:l})).signed_payloads.map(Es).map(h=>({signedMessage:h,signature:h.slice(-JI)}))}))}catch(u){throw new Error(u instanceof Error&&u.message||"Unknown error")}})),im.set(this,(...t)=>ln(this,void 0,void 0,function*(){const n=[];if(t.length>1)for(const s of t)n.push(yield Be(this,vx,"f").call(this,s));else return[yield Be(this,vx,"f").call(this,t[0])];return n})),vx.set(this,t=>ln(this,void 0,void 0,function*(){var n,s,a;Ln(this,bs,!0);try{const l=yield Be(this,yx,"f").call(this,Object.assign(Object.assign({},t),{domain:(n=t?.domain)!==null&&n!==void 0?n:window.location.host}));if(!l.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const u=l.sign_in_result.address,f=l.accounts.find(h=>h.address==u);return{account:Object.assign(Object.assign({},f??{address:Y1.encode(Es(u))}),{publicKey:Es(u),chains:(s=f?.chains)!==null&&s!==void 0?s:Be(this,aa,"f"),features:(a=f?.features)!==null&&a!==void 0?a:l.capabilities.features}),signedMessage:Es(l.sign_in_result.signed_message),signature:Es(l.sign_in_result.signature)}}catch(l){throw new Error(l instanceof Error&&l.message||"Unknown error")}finally{Ln(this,bs,!1)}})),Ln(this,wo,e.authorizationCache),Ln(this,_0,e.appIdentity),Ln(this,aa,e.chains),Ln(this,px,e.chainSelector),Ln(this,gx,e.onWalletNotFound),Ln(this,D0,{[pr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Be(this,Ax,"f")},[cn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Be(this,Cx,"f")}})}get version(){return Be(this,$1,"f")}get name(){return Be(this,Z1,"f")}get url(){return Be(this,Q1,"f")}get icon(){return Be(this,X1,"f")}get chains(){return Be(this,aa,"f")}get features(){return Object.assign({[_f]:{version:"1.0.0",connect:Be(this,em,"f")},[Gx]:{version:"1.0.0",disconnect:Be(this,bx,"f")},[Df]:{version:"1.0.0",on:Be(this,J1,"f")},[Do]:{version:"1.0.0",signMessage:Be(this,rm,"f")},[_a]:{version:"1.0.0",signIn:Be(this,im,"f")}},Be(this,D0,"f"))}get accounts(){var e,t;return(t=(e=Be(this,dr,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!Be(this,dr,"f")}get isAuthorized(){return!!Be(this,dr,"f")}get currentAuthorization(){return Be(this,dr,"f")}get cachedAuthorizationResult(){return Be(this,wo,"f").get()}}Ea=new WeakMap,$1=new WeakMap,Z1=new WeakMap,Q1=new WeakMap,X1=new WeakMap,_0=new WeakMap,dr=new WeakMap,wo=new WeakMap,bs=new WeakMap,jl=new WeakMap,aa=new WeakMap,px=new WeakMap,D0=new WeakMap,gx=new WeakMap,J1=new WeakMap,em=new WeakMap,yx=new WeakMap,Ll=new WeakMap,Ex=new WeakMap,R0=new WeakMap,bx=new WeakMap,Pl=new WeakMap,k0=new WeakMap,wx=new WeakMap,tm=new WeakMap,nm=new WeakMap,Ax=new WeakMap,Cx=new WeakMap,rm=new WeakMap,im=new WeakMap,vx=new WeakMap,Ol=new WeakSet,mx=function(e,...t){var n;(n=Be(this,Ea,"f")[e])===null||n===void 0||n.forEach(s=>s.apply(null,t))},BC=function(e,t){var n;Be(this,Ea,"f")[e]=(n=Be(this,Ea,"f")[e])===null||n===void 0?void 0:n.filter(s=>t!==s)};const nM="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",rM="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class iM extends QI{constructor(){super(...arguments),this.contentStyles=sM,this.contentHtml=oM}initWithError(e){super.init(),this.populateError(e)}populateError(e){var t,n;const s=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-error-message"),a=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-action");if(s){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":s.innerHTML=nM,a&&a.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":s.innerHTML=rM,a&&(a.style.display="none");return}s.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const oM=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,sM=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function aM(){return ln(this,void 0,void 0,function*(){if(typeof window<"u"){const r=window.navigator.userAgent.toLowerCase(),e=new iM;r.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const l1="SolanaMobileWalletAdapterDefaultAuthorizationCache";function lM(){let r;try{r=window.localStorage}catch{}return{clear(){return ln(this,void 0,void 0,function*(){if(r)try{r.removeItem(l1)}catch{}})},get(){return ln(this,void 0,void 0,function*(){if(r)try{const e=JSON.parse(r.getItem(l1));if(e&&e.accounts){const t=e.accounts.map(n=>Object.assign(Object.assign({},n),{publicKey:"publicKey"in n?new Uint8Array(Object.values(n.publicKey)):Y1.decode(n.address)}));return Object.assign(Object.assign({},e),{accounts:t})}else return e||void 0}catch{}})},set(e){return ln(this,void 0,void 0,function*(){if(r)try{r.setItem(l1,JSON.stringify(e))}catch{}})}}}function cM(){return{select(r){return ln(this,void 0,void 0,function*(){return r.length===1?r[0]:r.includes(V0)?V0:r[0]})}}}function Gt(r,e,t,n){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(m){try{h(n.next(m))}catch(E){l(E)}}function f(m){try{h(n.throw(m))}catch(E){l(E)}}function h(m){m.done?a(m.value):s(m.value).then(u,f)}h((n=n.apply(r,[])).next())})}function Ze(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function Pr(r,e,t,n,s){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}const om="standard:connect",uM="standard:disconnect",dM="standard:events";function c1(r){return window.btoa(String.fromCharCode.call(null,...r))}function xM(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var Vn,mn,Bs,Ro,Bx,Co,la,sm,am,_C,$x,Sx,Cs;const _x=SC,fM=64;function hM(r){return"version"in r}function DC(r){switch(r){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return r}}class pM extends TN{constructor(e,t){super(),Vn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),mn.set(this,void 0),Bs.set(this,!1),Ro.set(this,xM()?xt.Loadable:xt.Unsupported),Bx.set(this,void 0),Co.set(this,void 0),la.set(this,void 0),sm.set(this,n=>Gt(this,void 0,void 0,function*(){if(n.accounts&&n.accounts.length>0){Ze(this,Vn,"m",_C).call(this);const s=yield Ze(this,Bx,"f").call(this,n.accounts);s!==Ze(this,Co,"f")&&(Pr(this,Co,s),Pr(this,la,void 0),this.emit("connect",this.publicKey))}})),Pr(this,Bx,n=>Gt(this,void 0,void 0,function*(){var s;const a=yield t.addressSelector.select(n.map(({publicKey:l})=>c1(l)));return(s=n.find(({publicKey:l})=>c1(l)===a))!==null&&s!==void 0?s:n[0]})),Pr(this,mn,e),Ze(this,mn,"f").features[dM].on("change",Ze(this,sm,"f")),this.name=Ze(this,mn,"f").name,this.icon=Ze(this,mn,"f").icon,this.url=Ze(this,mn,"f").url}get publicKey(){var e;if(!Ze(this,la,"f")&&Ze(this,Co,"f"))try{Pr(this,la,new ve(Ze(this,Co,"f").publicKey),"f")}catch(t){throw new sc(t instanceof Error&&t?.message||"Unknown error",t)}return(e=Ze(this,la,"f"))!==null&&e!==void 0?e:null}get connected(){return Ze(this,mn,"f").connected}get connecting(){return Ze(this,Bs,"f")}get readyState(){return Ze(this,Ro,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Gt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Gt(this,void 0,void 0,function*(){Ze(this,Vn,"m",am).call(this,!0)})}connect(){return Gt(this,void 0,void 0,function*(){Ze(this,Vn,"m",am).call(this)})}performAuthorization(e){return Gt(this,void 0,void 0,function*(){try{const t=yield Ze(this,mn,"f").cachedAuthorizationResult;return t?(yield Ze(this,mn,"f").features[om].connect({silent:!0}),t):(e?yield Ze(this,mn,"f").features[_a].signIn(e):yield Ze(this,mn,"f").features[om].connect(),yield yield Ze(this,mn,"f").cachedAuthorizationResult)}catch(t){throw new Na(t instanceof Error&&t.message||"Unknown error",t)}})}disconnect(){return Gt(this,void 0,void 0,function*(){return yield Ze(this,Vn,"m",Cs).call(this,()=>Gt(this,void 0,void 0,function*(){Pr(this,Bs,!1),Pr(this,la,void 0),Pr(this,Co,void 0),yield Ze(this,mn,"f").features[uM].disconnect(),this.emit("disconnect")}))})}signIn(e){return Gt(this,void 0,void 0,function*(){return Ze(this,Vn,"m",Cs).call(this,()=>Gt(this,void 0,void 0,function*(){var t;if(Ze(this,Ro,"f")!==xt.Installed&&Ze(this,Ro,"f")!==xt.Loadable)throw new Ta;Pr(this,Bs,!0);try{const n=yield Ze(this,mn,"f").features[_a].signIn(Object.assign(Object.assign({},e),{domain:(t=e?.domain)!==null&&t!==void 0?t:window.location.host}));if(n.length>0)return n[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(n){throw new Na(n instanceof Error&&n.message||"Unknown error",n)}finally{Pr(this,Bs,!1)}}))})}signMessage(e){return Gt(this,void 0,void 0,function*(){return yield Ze(this,Vn,"m",Cs).call(this,()=>Gt(this,void 0,void 0,function*(){const t=Ze(this,Vn,"m",$x).call(this);try{return(yield Ze(this,mn,"f").features[Do].signMessage({account:t,message:e}))[0].signature}catch(n){throw new Sf(n?.message,n)}}))})}sendTransaction(e,t,n){return Gt(this,void 0,void 0,function*(){return yield Ze(this,Vn,"m",Cs).call(this,()=>Gt(this,void 0,void 0,function*(){const s=Ze(this,Vn,"m",$x).call(this);try{let a=function(){let l;switch(t.commitment){case"confirmed":case"finalized":case"processed":l=t.commitment;break;default:l="finalized"}let u;switch(n?.preflightCommitment){case"confirmed":case"finalized":case"processed":u=n.preflightCommitment;break;case void 0:u=l;break;default:u="finalized"}return(u==="finalized"?2:u==="confirmed"?1:0)<(l==="finalized"?2:l==="confirmed"?1:0)?u:l};if(pr in Ze(this,mn,"f").features){const l=DC(Ze(this,mn,"f").currentAuthorization.chain),[u]=(yield Ze(this,mn,"f").features[pr].signAndSendTransaction({account:s,transaction:e.serialize(),chain:l,options:n?{skipPreflight:n.skipPreflight,maxRetries:n.maxRetries}:void 0})).map((f=>c1(f.signature)));return u}else{const[l]=yield Ze(this,Vn,"m",Sx).call(this,[e]);if(hM(l))return yield t.sendTransaction(l);{const u=l.serialize();return yield t.sendRawTransaction(u,Object.assign(Object.assign({},n),{preflightCommitment:a()}))}}}catch(a){throw new No(a?.message,a)}}))})}signTransaction(e){return Gt(this,void 0,void 0,function*(){return yield Ze(this,Vn,"m",Cs).call(this,()=>Gt(this,void 0,void 0,function*(){const[t]=yield Ze(this,Vn,"m",Sx).call(this,[e]);return t}))})}signAllTransactions(e){return Gt(this,void 0,void 0,function*(){return yield Ze(this,Vn,"m",Cs).call(this,()=>Gt(this,void 0,void 0,function*(){return yield Ze(this,Vn,"m",Sx).call(this,e)}))})}}mn=new WeakMap,Bs=new WeakMap,Ro=new WeakMap,Bx=new WeakMap,Co=new WeakMap,la=new WeakMap,sm=new WeakMap,Vn=new WeakSet,am=function(e=!1){return Gt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Ze(this,Vn,"m",Cs).call(this,()=>Gt(this,void 0,void 0,function*(){if(Ze(this,Ro,"f")!==xt.Installed&&Ze(this,Ro,"f")!==xt.Loadable)throw new Ta;Pr(this,Bs,!0);try{yield Ze(this,mn,"f").features[om].connect({silent:e})}catch(t){throw new Na(t instanceof Error&&t.message||"Unknown error",t)}finally{Pr(this,Bs,!1)}}))})},_C=function(){Ze(this,Ro,"f")!==xt.Installed&&this.emit("readyStateChange",Pr(this,Ro,xt.Installed))},$x=function(){if(!Ze(this,mn,"f").isAuthorized||!Ze(this,Co,"f"))throw new Tn;return Ze(this,Co,"f")},Sx=function(e){return Gt(this,void 0,void 0,function*(){const t=Ze(this,Vn,"m",$x).call(this);try{if(cn in Ze(this,mn,"f").features)return Ze(this,mn,"f").features[cn].signTransaction(...e.map(n=>({account:t,transaction:n.serialize()}))).then(n=>n.map(s=>{const a=s.signedTransaction,u=a[0]*fM+1;return Ef.deserializeMessageVersion(a.slice(u,a.length))==="legacy"?bt.from(a):rc.deserialize(a)}));throw new Error("Connected wallet does not support signing transactions")}catch(n){throw new fi(n?.message,n)}})},Cs=function(e){return Gt(this,void 0,void 0,function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}})};class gM extends pM{constructor(e){var t;const n=DC((t=e.chain)!==null&&t!==void 0?t:e.cluster);super(new tM({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Gt(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:cM(),onWalletNotFound:()=>Gt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class mM extends gM{}function yM(){return{select(r){return Gt(this,void 0,void 0,function*(){return r[0]})}}}function EM(){return lM()}function bM(r){return Gt(this,void 0,void 0,function*(){return aM()})}function wM(){return bM}var AM=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},CM=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Dx;function vM(r){const e=({register:t})=>t(r);try{window.dispatchEvent(new BM(e))}catch(t){console.error(`wallet-standard:register-wallet event could not be dispatched
`,t)}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>e(t))}catch(t){console.error(`wallet-standard:app-ready event listener could not be added
`,t)}}class BM extends Event{get detail(){return AM(this,Dx,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Dx.set(this,void 0),CM(this,Dx,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Dx=new WeakMap;function SM(r,e){if(r===e)return!0;const t=r.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}function _M(r){if(r.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<r.length;h++){const m=r.charAt(h),E=m.charCodeAt(0);if(e[E]!==255)throw new TypeError(m+" is ambiguous");e[E]=h}const t=r.length,n=r.charAt(0),s=Math.log(t)/Math.log(256),a=Math.log(256)/Math.log(t);function l(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let m=0,E=0,S=0;const C=h.length;for(;S!==C&&h[S]===0;)S++,m++;const v=(C-S)*a+1>>>0,R=new Uint8Array(v);for(;S!==C;){let N=h[S],F=0;for(let P=v-1;(N!==0||F<E)&&P!==-1;P--,F++)N+=256*R[P]>>>0,R[P]=N%t>>>0,N=N/t>>>0;if(N!==0)throw new Error("Non-zero carry");E=F,S++}let D=v-E;for(;D!==v&&R[D]===0;)D++;let M=n.repeat(m);for(;D<v;++D)M+=r.charAt(R[D]);return M}function u(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let m=0,E=0,S=0;for(;h[m]===n;)E++,m++;const C=(h.length-m)*s+1>>>0,v=new Uint8Array(C);for(;m<h.length;){const N=h.charCodeAt(m);if(N>255)return;let F=e[N];if(F===255)return;let P=0;for(let K=C-1;(F!==0||P<S)&&K!==-1;K--,P++)F+=t*v[K]>>>0,v[K]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");S=P,m++}let R=C-S;for(;R!==C&&v[R]===0;)R++;const D=new Uint8Array(E+(C-R));let M=E;for(;R!==C;)D[M++]=v[R++];return D}function f(h){const m=u(h);if(m)return m;throw new Error("Non-base"+t+" character")}return{encode:l,decodeUnsafe:u,decode:f}}var DM="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const RM=_M(DM);var Ue=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Pn=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},nr,Cr,ba,wa,ca,F0,Zx,Rt,Qx,lm,Rx,cm,N0,um,R6,k6,F6,T6;class kM extends aC{get name(){return Ue(this,Rt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Ue(this,Rt,"f").icon}get readyState(){return Ue(this,Qx,"f")}get publicKey(){return Ue(this,ba,"f")}get connecting(){return Ue(this,wa,"f")}get supportedTransactionVersions(){return Ue(this,Zx,"f")}get wallet(){return Ue(this,Rt,"f")}get standard(){return!0}constructor({wallet:e}){super(),nr.add(this),Cr.set(this,void 0),ba.set(this,void 0),wa.set(this,void 0),ca.set(this,void 0),F0.set(this,void 0),Zx.set(this,void 0),Rt.set(this,void 0),Qx.set(this,typeof window>"u"||typeof document>"u"?xt.Unsupported:xt.Installed),um.set(this,t=>{if("accounts"in t){const n=Ue(this,Rt,"f").accounts[0];Ue(this,Cr,"f")&&!Ue(this,ca,"f")&&n!==Ue(this,Cr,"f")&&(n?Ue(this,nr,"m",Rx).call(this,n):(this.emit("error",new my),Ue(this,nr,"m",cm).call(this)))}"features"in t&&Ue(this,nr,"m",N0).call(this)}),Pn(this,Rt,e,"f"),Pn(this,Cr,null,"f"),Pn(this,ba,null,"f"),Pn(this,wa,!1,"f"),Pn(this,ca,!1,"f"),Pn(this,F0,Ue(this,Rt,"f").features[Df].on("change",Ue(this,um,"f")),"f"),Ue(this,nr,"m",N0).call(this)}destroy(){Pn(this,Cr,null,"f"),Pn(this,ba,null,"f"),Pn(this,wa,!1,"f"),Pn(this,ca,!1,"f");const e=Ue(this,F0,"f");e&&(Pn(this,F0,null,"f"),e())}async autoConnect(){return Ue(this,nr,"m",lm).call(this,{silent:!0})}async connect(){return Ue(this,nr,"m",lm).call(this)}async disconnect(){if(Gx in Ue(this,Rt,"f").features)try{Pn(this,ca,!0,"f"),await Ue(this,Rt,"f").features[Gx].disconnect()}catch(e){this.emit("error",new yy(e?.message,e))}finally{Pn(this,ca,!1,"f")}Ue(this,nr,"m",cm).call(this)}async sendTransaction(e,t,n={}){try{const s=Ue(this,Cr,"f");if(!s)throw new Tn;let a;if(pr in Ue(this,Rt,"f").features)if(s.features.includes(pr))a=pr;else if(cn in Ue(this,Rt,"f").features&&s.features.includes(cn))a=cn;else throw new ma;else if(cn in Ue(this,Rt,"f").features){if(!s.features.includes(cn))throw new ma;a=cn}else throw new Hl;const l=oI(t.rpcEndpoint);if(!s.chains.includes(l))throw new No;try{const{signers:u,...f}=n;let h;if(Io(e)?(u?.length&&e.sign(u),h=e.serialize()):(e=await this.prepareTransaction(e,t,f),u?.length&&e.partialSign(...u),h=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),a===pr){const[m]=await Ue(this,Rt,"f").features[pr].signAndSendTransaction({account:s,chain:l,transaction:h,options:{preflightCommitment:n1(f.preflightCommitment||t.commitment),skipPreflight:f.skipPreflight,maxRetries:f.maxRetries,minContextSlot:f.minContextSlot}});return RM.encode(m.signature)}else{const[m]=await Ue(this,Rt,"f").features[cn].signTransaction({account:s,chain:l,transaction:h,options:{preflightCommitment:n1(f.preflightCommitment||t.commitment),minContextSlot:f.minContextSlot}});return await t.sendRawTransaction(m.signedTransaction,{...f,preflightCommitment:n1(f.preflightCommitment||t.commitment)})}}catch(u){throw u instanceof $n?u:new No(u?.message,u)}}catch(s){throw this.emit("error",s),s}}}Cr=new WeakMap,ba=new WeakMap,wa=new WeakMap,ca=new WeakMap,F0=new WeakMap,Zx=new WeakMap,Rt=new WeakMap,Qx=new WeakMap,um=new WeakMap,nr=new WeakSet,lm=async function(e){try{if(this.connected||this.connecting)return;if(Ue(this,Qx,"f")!==xt.Installed)throw new Ta;if(Pn(this,wa,!0,"f"),!Ue(this,Rt,"f").accounts.length)try{await Ue(this,Rt,"f").features[_f].connect(e)}catch(n){throw new Na(n?.message,n)}const t=Ue(this,Rt,"f").accounts[0];if(!t)throw new ma;Ue(this,nr,"m",Rx).call(this,t)}catch(t){throw this.emit("error",t),t}finally{Pn(this,wa,!1,"f")}},Rx=function(e){let t;try{t=new ve(e.address)}catch(n){throw new sc(n?.message,n)}Pn(this,Cr,e,"f"),Pn(this,ba,t,"f"),Ue(this,nr,"m",N0).call(this),this.emit("connect",t)},cm=function(){Pn(this,Cr,null,"f"),Pn(this,ba,null,"f"),Ue(this,nr,"m",N0).call(this),this.emit("disconnect")},N0=function(){const e=pr in Ue(this,Rt,"f").features?Ue(this,Rt,"f").features[pr].supportedTransactionVersions:Ue(this,Rt,"f").features[cn].supportedTransactionVersions;Pn(this,Zx,SM(e,["legacy"])?null:new Set(e),"f"),cn in Ue(this,Rt,"f").features&&Ue(this,Cr,"f")?.features.includes(cn)?(this.signTransaction=Ue(this,nr,"m",R6),this.signAllTransactions=Ue(this,nr,"m",k6)):(delete this.signTransaction,delete this.signAllTransactions),Do in Ue(this,Rt,"f").features&&Ue(this,Cr,"f")?.features.includes(Do)?this.signMessage=Ue(this,nr,"m",F6):delete this.signMessage,_a in Ue(this,Rt,"f").features?this.signIn=Ue(this,nr,"m",T6):delete this.signIn},R6=async function(e){try{const t=Ue(this,Cr,"f");if(!t)throw new Tn;if(!(cn in Ue(this,Rt,"f").features))throw new Hl;if(!t.features.includes(cn))throw new ma;try{const s=(await Ue(this,Rt,"f").features[cn].signTransaction({account:t,transaction:Io(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Io(e)?rc.deserialize(s):bt.from(s)}catch(n){throw n instanceof $n?n:new fi(n?.message,n)}}catch(t){throw this.emit("error",t),t}},k6=async function(e){try{const t=Ue(this,Cr,"f");if(!t)throw new Tn;if(!(cn in Ue(this,Rt,"f").features))throw new Hl;if(!t.features.includes(cn))throw new ma;try{const n=await Ue(this,Rt,"f").features[cn].signTransaction(...e.map(s=>({account:t,transaction:Io(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((s,a)=>{const l=n[a].signedTransaction;return Io(s)?rc.deserialize(l):bt.from(l)})}catch(n){throw new fi(n?.message,n)}}catch(t){throw this.emit("error",t),t}},F6=async function(e){try{const t=Ue(this,Cr,"f");if(!t)throw new Tn;if(!(Do in Ue(this,Rt,"f").features))throw new Hl;if(!t.features.includes(Do))throw new ma;try{return(await Ue(this,Rt,"f").features[Do].signMessage({account:t,message:e}))[0].signature}catch(n){throw new Sf(n?.message,n)}}catch(t){throw this.emit("error",t),t}},T6=async function(e={}){try{if(!(_a in Ue(this,Rt,"f").features))throw new Hl;let t;try{[t]=await Ue(this,Rt,"f").features[_a].signIn(e)}catch(n){throw new V2(n?.message,n)}if(!t)throw new V2;return Ue(this,nr,"m",Rx).call(this,t.account),t}catch(t){throw this.emit("error",t),t}};const FM=NN;var TM=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},NM=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},kx;let zr;const kf=new Set;function IM(r){I0=void 0,kf.add(r)}function MM(r){I0=void 0,kf.delete(r)}const Wl={};function OM(){if(zr||(zr=Object.freeze({register:N6,get:jM,on:LM}),typeof window>"u"))return zr;const r=Object.freeze({register:N6});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(r))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new PM(r))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return zr}function N6(...r){return r=r.filter(e=>!kf.has(e)),r.length?(r.forEach(e=>IM(e)),Wl.register?.forEach(e=>dm(()=>e(...r))),function(){r.forEach(t=>MM(t)),Wl.unregister?.forEach(t=>dm(()=>t(...r)))}):()=>{}}let I0;function jM(){return I0||(I0=[...kf]),I0}function LM(r,e){return Wl[r]?.push(e)||(Wl[r]=[e]),function(){Wl[r]=Wl[r]?.filter(n=>e!==n)}}function dm(r){try{r()}catch(e){console.error(e)}}class PM extends Event{get detail(){return TM(this,kx,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),kx.set(this,void 0),NM(this,kx,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}kx=new WeakMap;function zM(){if(zr||(zr=OM(),typeof window>"u"))return zr;const r=window.navigator.wallets||[];if(!Array.isArray(r))return console.error("window.navigator.wallets is not an array"),zr;const{register:e}=zr,t=(...n)=>n.forEach(s=>dm(()=>s({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:t})})}catch{return console.error("window.navigator.wallets could not be set"),zr}return t(...r),zr}function UM(r){const e=I6(()=>new Set),{get:t,on:n}=I6(()=>zM()),[s,a]=U.useState(()=>M6(t()));U.useEffect(()=>{const u=[n("register",(...f)=>a(h=>[...h,...M6(f)])),n("unregister",(...f)=>a(h=>h.filter(m=>f.some(E=>E===m.wallet))))];return()=>u.forEach(f=>f())},[n]);const l=HM(s);return U.useEffect(()=>{if(!l)return;const u=new Set(s);new Set(l.filter(h=>!u.has(h))).forEach(h=>h.destroy())},[l,s]),U.useEffect(()=>()=>s.forEach(u=>u.destroy()),[]),U.useMemo(()=>[...s,...r.filter(({name:u})=>s.some(f=>f.name===u)?(e.has(u)||(e.add(u),console.warn(`${u} was registered as a Standard Wallet. The Wallet Adapter for ${u} can be removed from your app.`)),!1):!0)],[s,r,e])}function I6(r){const e=U.useRef(void 0);return e.current===void 0&&(e.current={value:r()}),e.current.value}function HM(r){const e=U.useRef(void 0);return U.useEffect(()=>{e.current=r}),e.current}function M6(r){return r.filter(FM).map(e=>new kM({wallet:e}))}var Zl;(function(r){r[r.DESKTOP_WEB=0]="DESKTOP_WEB",r[r.MOBILE_WEB=1]="MOBILE_WEB"})(Zl||(Zl={}));function WM(r){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(r)}function qM({adapters:r,userAgentString:e}){return r.some(t=>t.name!==_x&&t.readyState===xt.Installed)?Zl.DESKTOP_WEB:e&&/android/i.test(e)&&!WM(e)?Zl.MOBILE_WEB:Zl.DESKTOP_WEB}function KM(r){return r?/devnet/i.test(r)?"devnet":/testnet/i.test(r)?"testnet":"mainnet-beta":"mainnet-beta"}function VM({children:r,wallets:e,adapter:t,isUnloadingRef:n,onAutoConnectRequest:s,onConnectError:a,onError:l,onSelectWallet:u}){const f=U.useRef(!1),[h,m]=U.useState(!1),E=U.useRef(!1),[S,C]=U.useState(!1),[v,R]=U.useState(()=>t?.publicKey??null),[D,M]=U.useState(()=>t?.connected??!1),N=U.useRef(l);U.useEffect(()=>(N.current=l,()=>{N.current=void 0}),[l]);const F=U.useRef((b,_)=>(n.current||(N.current?N.current(b,_):(console.error(b,_),b instanceof Ta&&typeof window<"u"&&_&&window.open(_.url,"_blank"))),b)),[P,K]=U.useState(()=>e.map(b=>({adapter:b,readyState:b.readyState})).filter(({readyState:b})=>b!==xt.Unsupported));U.useEffect(()=>{K(_=>e.map((O,G)=>{const z=_[G];return z&&z.adapter===O&&z.readyState===O.readyState?z:{adapter:O,readyState:O.readyState}}).filter(({readyState:O})=>O!==xt.Unsupported));function b(_){K(O=>{const G=O.findIndex(({adapter:k})=>k===this);if(G===-1)return O;const{adapter:z}=O[G];return[...O.slice(0,G),{adapter:z,readyState:_},...O.slice(G+1)].filter(({readyState:k})=>k!==xt.Unsupported)})}return e.forEach(_=>_.on("readyStateChange",b,_)),()=>{e.forEach(_=>_.off("readyStateChange",b,_))}},[t,e]);const V=U.useMemo(()=>P.find(b=>b.adapter===t)??null,[t,P]);U.useEffect(()=>{if(!t)return;const b=G=>{R(G),f.current=!1,m(!1),M(!0),E.current=!1,C(!1)},_=()=>{n.current||(R(null),f.current=!1,m(!1),M(!1),E.current=!1,C(!1))},O=G=>{F.current(G,t)};return t.on("connect",b),t.on("disconnect",_),t.on("error",O),()=>{t.off("connect",b),t.off("disconnect",_),t.off("error",O),_()}},[t,n]);const H=U.useRef(!1);U.useEffect(()=>()=>{H.current=!1},[t]),U.useEffect(()=>{H.current||f.current||D||!s||!(V?.readyState===xt.Installed||V?.readyState===xt.Loadable)||(f.current=!0,m(!0),H.current=!0,(async function(){try{await s()}catch{a()}finally{m(!1),f.current=!1}})())},[D,s,a,V]);const J=U.useCallback(async(b,_,O)=>{if(!t)throw F.current(new G2);if(!D)throw F.current(new Tn,t);return await t.sendTransaction(b,_,O)},[t,D]),q=U.useMemo(()=>t&&"signTransaction"in t?async b=>{if(!D)throw F.current(new Tn,t);return await t.signTransaction(b)}:void 0,[t,D]),Z=U.useMemo(()=>t&&"signAllTransactions"in t?async b=>{if(!D)throw F.current(new Tn,t);return await t.signAllTransactions(b)}:void 0,[t,D]),Q=U.useMemo(()=>t&&"signMessage"in t?async b=>{if(!D)throw F.current(new Tn,t);return await t.signMessage(b)}:void 0,[t,D]),$=U.useMemo(()=>t&&"signIn"in t?async b=>await t.signIn(b):void 0,[t]),T=U.useCallback(async()=>{if(f.current||E.current||V?.adapter.connected)return;if(!V)throw F.current(new G2);const{adapter:b,readyState:_}=V;if(!(_===xt.Installed||_===xt.Loadable))throw F.current(new Ta,b);f.current=!0,m(!0);try{await b.connect()}catch(O){throw a(),O}finally{m(!1),f.current=!1}},[a,V]),p=U.useCallback(async()=>{if(!E.current&&t){E.current=!0,C(!0);try{await t.disconnect()}finally{C(!1),E.current=!1}}},[t]);return Se.createElement(cC.Provider,{value:{autoConnect:!!s,wallets:P,wallet:V,publicKey:v,connected:D,connecting:h,disconnecting:S,select:u,connect:T,disconnect:p,sendTransaction:J,signTransaction:q,signAllTransactions:Z,signMessage:Q,signIn:$}},r)}let u1;function GM(){return u1===void 0&&(u1=globalThis.navigator?.userAgent??null),u1}function O6(r){const e=GM();return qM({adapters:r,userAgentString:e})===Zl.MOBILE_WEB}function YM(){const r=globalThis.location;if(r)return`${r.protocol}//${r.host}`}function $M({children:r,wallets:e,autoConnect:t,localStorageKey:n="walletName",onError:s}){const{connection:a}=BN(),l=UM(e),u=U.useMemo(()=>{if(!O6(l))return null;const N=l.find(F=>F.name===_x);return N||new mM({addressSelector:yM(),appIdentity:{uri:YM()},authorizationResultCache:EM(),cluster:KM(a?.rpcEndpoint),onWalletNotFound:wM()})},[l,a?.rpcEndpoint]),f=U.useMemo(()=>u==null||l.indexOf(u)!==-1?l:[u,...l],[l,u]),[h,m]=MN(n,null),E=U.useMemo(()=>f.find(N=>N.name===h)??null,[f,h]),S=U.useCallback(N=>{h!==N&&(E&&E.name!==_x&&E.disconnect(),m(N))},[E,m,h]);U.useEffect(()=>{if(!E)return;function N(){R.current||m(null)}return E.on("disconnect",N),()=>{E.off("disconnect",N)}},[E,l,m,h]);const C=U.useRef(!1),v=U.useMemo(()=>{if(!(!t||!E))return async()=>{(t===!0||await t(E))&&(C.current?await E.connect():await E.autoConnect())}},[t,E]),R=U.useRef(!1);U.useEffect(()=>{if(h===_x&&O6(l)){R.current=!1;return}function N(){R.current=!0}return window.addEventListener("beforeunload",N),()=>{window.removeEventListener("beforeunload",N)}},[l,h]);const D=U.useCallback(()=>{E&&S(null)},[E,S]),M=U.useCallback(N=>{C.current=!0,S(N)},[S]);return Se.createElement(VM,{wallets:f,adapter:E,isUnloadingRef:R,onAutoConnectRequest:v,onConnectError:D,onError:s,onSelectWallet:M},r)}const RC={setVisible(r){console.error(kC("call","setVisible"))},visible:!1};Object.defineProperty(RC,"visible",{get(){return console.error(kC("read","visible")),!1}});function kC(r,e){return`You have tried to  ${r} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const FC=U.createContext(RC);function TC(){return U.useContext(FC)}function ZM({onSelectWallet:r}){const{connect:e,connected:t,connecting:n,disconnect:s,disconnecting:a,publicKey:l,select:u,wallet:f,wallets:h}=oi();let m;n?m="connecting":t?m="connected":a?m="disconnecting":f?m="has-wallet":m="no-wallet";const E=U.useCallback(()=>{e().catch(()=>{})},[e]),S=U.useCallback(()=>{s().catch(()=>{})},[s]),C=U.useCallback(()=>{r({onSelectWallet:u,wallets:h})},[r,u,h]);return{buttonState:m,onConnect:m==="has-wallet"?E:void 0,onDisconnect:m!=="disconnecting"&&m!=="no-wallet"?S:void 0,onSelectWallet:C,publicKey:l??void 0,walletIcon:f?.adapter.icon,walletName:f?.adapter.name}}const NC=r=>Se.createElement("button",{className:`wallet-adapter-button ${r.className||""}`,disabled:r.disabled,style:r.style,onClick:r.onClick,tabIndex:r.tabIndex||0,type:"button"},r.startIcon&&Se.createElement("i",{className:"wallet-adapter-button-start-icon"},r.startIcon),r.children,r.endIcon&&Se.createElement("i",{className:"wallet-adapter-button-end-icon"},r.endIcon)),IC=({wallet:r,...e})=>r&&Se.createElement("img",{src:r.adapter.icon,alt:`${r.adapter.name} icon`,...e});function QM({walletIcon:r,walletName:e,...t}){return Se.createElement(NC,{...t,className:"wallet-adapter-button-trigger",startIcon:r&&e?Se.createElement(IC,{wallet:{adapter:{icon:r,name:e}}}):void 0})}function XM({children:r,labels:e,...t}){const{setVisible:n}=TC(),{buttonState:s,onConnect:a,onDisconnect:l,publicKey:u,walletIcon:f,walletName:h}=ZM({onSelectWallet(){n(!0)}}),[m,E]=U.useState(!1),[S,C]=U.useState(!1),v=U.useRef(null);U.useEffect(()=>{const D=M=>{const N=v.current;!N||N.contains(M.target)||C(!1)};return document.addEventListener("mousedown",D),document.addEventListener("touchstart",D),()=>{document.removeEventListener("mousedown",D),document.removeEventListener("touchstart",D)}},[]);const R=U.useMemo(()=>{if(r)return r;if(u){const D=u.toBase58();return D.slice(0,4)+".."+D.slice(-4)}else return s==="connecting"||s==="has-wallet"?e[s]:e["no-wallet"]},[s,r,e,u]);return Se.createElement("div",{className:"wallet-adapter-dropdown"},Se.createElement(QM,{...t,"aria-expanded":S,style:{pointerEvents:S?"none":"auto",...t.style},onClick:()=>{switch(s){case"no-wallet":n(!0);break;case"has-wallet":a&&a();break;case"connected":C(!0);break}},walletIcon:f,walletName:h},R),Se.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${S&&"wallet-adapter-dropdown-list-active"}`,ref:v,role:"menu"},u?Se.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(u.toBase58()),E(!0),setTimeout(()=>E(!1),400)},role:"menuitem"},m?e.copied:e["copy-address"]):null,Se.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),C(!1)},role:"menuitem"},e["change-wallet"]),l?Se.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{l(),C(!1)},role:"menuitem"},e.disconnect):null))}const j6=({id:r,children:e,expanded:t=!1})=>{const n=U.useRef(null),s=U.useRef(!0),a="height 250ms ease-out",l=()=>{const f=n.current;f&&requestAnimationFrame(()=>{f.style.height=f.scrollHeight+"px"})},u=()=>{const f=n.current;f&&requestAnimationFrame(()=>{f.style.height=f.offsetHeight+"px",f.style.overflow="hidden",requestAnimationFrame(()=>{f.style.height="0"})})};return U.useLayoutEffect(()=>{t?l():u()},[t]),U.useLayoutEffect(()=>{const f=n.current;if(!f)return;function h(){f&&(f.style.overflow=t?"initial":"hidden",t&&(f.style.height="auto"))}function m(E){f&&E.target===f&&E.propertyName==="height"&&h()}return s.current&&(h(),s.current=!1),f.addEventListener("transitionend",m),()=>f.removeEventListener("transitionend",m)},[t]),Se.createElement("div",{className:"wallet-adapter-collapse",id:r,ref:n,role:"region",style:{height:0,transition:s.current?void 0:a}},e)},d1=({handleClick:r,tabIndex:e,wallet:t})=>Se.createElement("li",null,Se.createElement(NC,{onClick:r,startIcon:Se.createElement(IC,{wallet:t}),tabIndex:e},t.adapter.name,t.readyState===xt.Installed&&Se.createElement("span",null,"Detected"))),JM=()=>Se.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Se.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),Se.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),Se.createElement("g",{clipPath:"url(#clip0_880_5115)"},Se.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),Se.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),Se.createElement("defs",null,Se.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Se.createElement("stop",{stopColor:"#9945FF"}),Se.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Se.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Se.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Se.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Se.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Se.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Se.createElement("stop",{stopColor:"#9945FF"}),Se.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Se.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Se.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Se.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Se.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Se.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},Se.createElement("stop",{stopColor:"#9945FF"}),Se.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Se.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Se.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Se.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Se.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Se.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},Se.createElement("stop",{stopColor:"#9945FF"}),Se.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Se.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Se.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Se.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Se.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Se.createElement("clipPath",{id:"clip0_880_5115"},Se.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),eO=({className:r="",container:e="body"})=>{const t=U.useRef(null),{wallets:n,select:s}=oi(),{setVisible:a}=TC(),[l,u]=U.useState(!1),[f,h]=U.useState(!1),[m,E]=U.useState(null),[S,C]=U.useMemo(()=>{const F=[],P=[];for(const K of n)K.readyState===xt.Installed?F.push(K):P.push(K);return F.length?[F,P]:[P,[]]},[n]),v=U.useCallback(()=>{h(!1),setTimeout(()=>a(!1),150)},[a]),R=U.useCallback(F=>{F.preventDefault(),v()},[v]),D=U.useCallback((F,P)=>{s(P),R(F)},[s,R]),M=U.useCallback(()=>u(!l),[l]),N=U.useCallback(F=>{const P=t.current;if(!P)return;const K=P.querySelectorAll("button"),V=K[0],H=K[K.length-1];F.shiftKey?document.activeElement===V&&(H.focus(),F.preventDefault()):document.activeElement===H&&(V.focus(),F.preventDefault())},[t]);return U.useLayoutEffect(()=>{const F=K=>{K.key==="Escape"?v():K.key==="Tab"&&N(K)},{overflow:P}=window.getComputedStyle(document.body);return setTimeout(()=>h(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",F,!1),()=>{document.body.style.overflow=P,window.removeEventListener("keydown",F,!1)}},[v,N]),U.useLayoutEffect(()=>E(document.querySelector(e)),[e]),m&&WS.createPortal(Se.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${f&&"wallet-adapter-modal-fade-in"} ${r}`,ref:t,role:"dialog"},Se.createElement("div",{className:"wallet-adapter-modal-container"},Se.createElement("div",{className:"wallet-adapter-modal-wrapper"},Se.createElement("button",{onClick:R,className:"wallet-adapter-modal-button-close"},Se.createElement("svg",{width:"14",height:"14"},Se.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),S.length?Se.createElement(Se.Fragment,null,Se.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),Se.createElement("ul",{className:"wallet-adapter-modal-list"},S.map(F=>Se.createElement(d1,{key:F.adapter.name,handleClick:P=>D(P,F.adapter.name),wallet:F})),C.length?Se.createElement(j6,{expanded:l,id:"wallet-adapter-modal-collapse"},C.map(F=>Se.createElement(d1,{key:F.adapter.name,handleClick:P=>D(P,F.adapter.name),tabIndex:l?0:-1,wallet:F}))):null),C.length?Se.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:M,tabIndex:0},Se.createElement("span",null,l?"Less ":"More ","options"),Se.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${l?"wallet-adapter-modal-list-more-icon-rotate":""}`},Se.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):Se.createElement(Se.Fragment,null,Se.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),Se.createElement("div",{className:"wallet-adapter-modal-middle"},Se.createElement(JM,null)),C.length?Se.createElement(Se.Fragment,null,Se.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:M,tabIndex:0},Se.createElement("span",null,l?"Hide ":"Already have a wallet? View ","options"),Se.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${l?"wallet-adapter-modal-list-more-icon-rotate":""}`},Se.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),Se.createElement(j6,{expanded:l,id:"wallet-adapter-modal-collapse"},Se.createElement("ul",{className:"wallet-adapter-modal-list"},C.map(F=>Se.createElement(d1,{key:F.adapter.name,handleClick:P=>D(P,F.adapter.name),tabIndex:l?0:-1,wallet:F}))))):null))),Se.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:R})),m)},tO=({children:r,...e})=>{const[t,n]=U.useState(!1);return Se.createElement(FC.Provider,{value:{visible:t,setVisible:n}},r,t&&Se.createElement(eO,{...e}))},nO={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function Gi(r){return Se.createElement(XM,{...r,labels:nO})}function rO(){const[r,e]=U.useState(""),[t,n]=U.useState(""),[s,a]=U.useState(""),[l,u]=U.useState(!1),[f,h]=U.useState(null),[m,E]=U.useState(null),{publicKey:S,connected:C}=oi(),v=U.useMemo(()=>S?S.toBase58():null,[S]),R=async D=>{if(D.preventDefault(),h(null),E(null),!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(s)){h("Password must be at least 8 characters and include at least 1 uppercase letter, 1 lowercase letter, and 1 number.");return}if(!C||!v){h("Please connect your Solana wallet to register.");return}u(!0);try{const N=await De.post(`${Rr}/create-account`,{username:r,email:t,password:s,role_id:"consumer",public_key:v});if(!N.data.success){h(N.data.error||"Failed to create account");return}E("Account created successfully. You can now log in."),e(""),n(""),a("")}catch(N){h(N?.response?.data?.error||N?.response?.data?.details||"Failed to create account")}finally{u(!1)}};return d.jsx(zA,{children:d.jsxs("div",{className:"auth-card",children:[d.jsxs("div",{className:"auth-tabs",children:[d.jsx(Xl,{to:"/login",className:"auth-tab",children:"Login"}),d.jsx("button",{className:"auth-tab auth-tab-active",children:"Register"})]}),d.jsx("div",{className:"auth-card-header",children:d.jsxs("div",{children:[d.jsx("h2",{className:"auth-card-title",children:"Create an account"}),d.jsx("p",{className:"auth-card-subtitle",children:"Register to start using BlockTrace."})]})}),d.jsxs("div",{style:{marginBottom:12},children:[d.jsx(Gi,{}),v&&d.jsxs("div",{style:{marginTop:8,fontSize:12,opacity:.8},children:["Connected: ",v]})]}),d.jsxs("form",{className:"auth-form",onSubmit:R,children:[d.jsxs("label",{className:"auth-label",children:["Username",d.jsx("input",{className:"auth-input",type:"text",placeholder:"Choose a username",value:r,onChange:D=>e(D.target.value),required:!0})]}),d.jsxs("label",{className:"auth-label",children:["Email",d.jsx("input",{className:"auth-input",type:"email",placeholder:"Enter your email",value:t,onChange:D=>n(D.target.value),required:!0})]}),d.jsxs("label",{className:"auth-label",children:["Password",d.jsx("input",{className:"auth-input",type:"password",placeholder:"Create a password",value:s,onChange:D=>a(D.target.value),required:!0}),d.jsx("small",{className:"auth-helper-text",children:"Must be at least 8 characters and include 1 uppercase letter, 1 lowercase letter, and 1 number."})]}),f&&d.jsx("p",{className:"auth-error-text",children:f}),m&&d.jsx("p",{className:"auth-success-text",style:{color:"#16a34a"},children:m}),d.jsx("button",{type:"submit",className:"auth-submit",disabled:l,children:l?"Registering...":"Register"})]}),d.jsxs("p",{className:"auth-footer-text",children:["Already have an account?"," ",d.jsx(Xl,{to:"/login",className:"auth-link",children:"Login"})]})]})})}function iO(){return localStorage.getItem("isAuthenticated")==="true"}function oO(){const r=qi();return iO()?d.jsx(dc,{}):d.jsx(z0,{to:"/login",replace:!0,state:{from:r}})}function sO(){const r=localStorage.getItem("userRole");return r==="admin"||r==="manufacturer"||r==="distributor"||r==="retailer"||r==="consumer"?r:null}function aO(r){return`/${r}`}function E0({allow:r}){const e=sO();return e?r.includes(e)?d.jsx(dc,{}):d.jsx(z0,{to:aO(e),replace:!0}):d.jsx(z0,{to:"/login",replace:!0})}const lO="http://34.177.85.28:3000/api/users",cO="http://34.177.85.28:3000/api/chats",ki={color:"white",textDecoration:"none",display:"block",padding:"10px 12px",borderRadius:10},Fi={background:"rgba(255,255,255,0.12)"};function uO(){const r=tn(),[e,t]=Se.useState(!1),[n,s]=U.useState(0),[a,l]=U.useState(""),[u,f]=U.useState("");U.useEffect(()=>{const m=localStorage.getItem("username"),E=localStorage.getItem("userRole");l(m||""),f(E||"")},[]),U.useEffect(()=>{const m=Number(localStorage.getItem("userId"));if(!m)return;const E=async()=>{try{const C=await De.get(`${cO}/threads`,{params:{userId:m}});if(C.data.success&&Array.isArray(C.data.threads)){const v=C.data.threads.reduce((R,D)=>R+(D.unread_count||0),0);s(v)}}catch{}};E();const S=setInterval(E,1e4);return()=>clearInterval(S)},[]);const h=async()=>{try{await De.post(`${lO}/logout-account`)}catch{}finally{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("username"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),r("/login")}};return d.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[d.jsxs("aside",{style:{width:240,background:"#0d1b2a",color:"white",padding:20,position:"relative"},children:[d.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",borderRadius:10,padding:14,marginBottom:24,borderLeft:"3px solid #3b82f6"},children:[d.jsx("div",{style:{fontSize:11,color:"rgba(255,255,255,0.7)",fontWeight:600,marginBottom:4,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Logged In As"}),d.jsxs("div",{style:{fontSize:16,fontWeight:700,color:"white"},children:["@",a]})]}),d.jsx("h2",{style:{marginBottom:30},children:"Consumer"}),d.jsx("nav",{children:d.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:10},children:[d.jsx("li",{children:d.jsx(lt,{to:"",end:!0,style:({isActive:m})=>({...ki,...m?Fi:{}}),children:"Dashboard"})}),d.jsx("li",{children:d.jsx(lt,{to:"scan-qr",style:({isActive:m})=>({...ki,...m?Fi:{}}),children:"Scan QR"})}),d.jsx("li",{children:d.jsx(lt,{to:"my-products",style:({isActive:m})=>({...ki,...m?Fi:{}}),children:"My Products"})}),d.jsx("li",{children:d.jsx(lt,{to:"marketplace",style:({isActive:m})=>({...ki,...m?Fi:{}}),children:"Marketplace"})}),d.jsx("li",{children:d.jsx(lt,{to:"chats",style:({isActive:m})=>({...ki,...m?Fi:{}}),children:d.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:["Messages",n>0&&d.jsx("span",{style:{width:10,height:10,borderRadius:"50%",background:"#ef4444",display:"inline-block"}})]})})}),d.jsx("li",{children:d.jsxs("div",{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[d.jsxs(lt,{to:"my-listings",style:({isActive:m})=>({...ki,...m?Fi:{},display:"flex",justifyContent:"space-between",alignItems:"center"}),children:[d.jsx("span",{children:"My Listings"}),d.jsx("span",{style:{fontSize:"12px",transition:"transform 0.2s",transform:e?"rotate(90deg)":"rotate(0deg)"},children:""})]}),e&&d.jsx(lt,{to:"create-listing",style:({isActive:m})=>({...ki,paddingLeft:24,fontSize:14,...m?Fi:{}}),children:"+ Create Listing"})]})}),d.jsx("li",{children:d.jsx(lt,{to:"transfer-ownership",style:({isActive:m})=>({...ki,...m?Fi:{}}),children:"Transfer Ownership"})}),d.jsx("li",{children:d.jsx(lt,{to:"reviews",style:({isActive:m})=>({...ki,...m?Fi:{}}),children:"Reviews"})})]})}),d.jsxs("div",{style:{position:"absolute",bottom:30,left:20,right:20},children:[d.jsx(lt,{to:"settings",style:({isActive:m})=>({...ki,...m?Fi:{}}),children:" Settings"}),d.jsx("button",{onClick:h,style:{width:"100%",background:"none",border:"1px solid rgba(255,255,255,0.3)",color:"white",padding:"10px",borderRadius:8,cursor:"pointer",fontSize:15},children:" Logout"})]})]}),d.jsx("main",{style:{flexGrow:1,background:"#f5f7fb",padding:40},children:d.jsx(dc,{})})]})}const b0={color:"white",textDecoration:"none",display:"block",padding:"10px 12px",borderRadius:10},w0={background:"rgba(255,255,255,0.12)"};function dO(){const r=tn(),[e,t]=Se.useState(""),[n,s]=Se.useState("");Se.useEffect(()=>{const l=localStorage.getItem("username"),u=localStorage.getItem("userRole");t(l||""),s(u||"")},[]);const a=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("username"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),r("/login")};return d.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden"},children:[d.jsxs("aside",{style:{width:240,flexShrink:0,background:"#0d1b2a",color:"white",padding:20,display:"flex",flexDirection:"column",height:"100vh",boxSizing:"border-box"},children:[d.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",borderRadius:10,padding:14,marginBottom:24,borderLeft:"3px solid #3b82f6"},children:[d.jsx("div",{style:{fontSize:11,color:"rgba(255,255,255,0.7)",fontWeight:600,marginBottom:4,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Logged In As"}),d.jsxs("div",{style:{fontSize:16,fontWeight:700,color:"white"},children:["@",e]})]}),d.jsx("h2",{style:{marginBottom:30},children:"Manufacturer"}),d.jsx("nav",{children:d.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:10},children:[d.jsx("li",{children:d.jsx(lt,{to:"",end:!0,style:({isActive:l})=>({...b0,...l?w0:{}}),children:"Dashboard"})}),d.jsx("li",{children:d.jsx(lt,{to:"scan-qr",style:({isActive:l})=>({...b0,...l?w0:{}}),children:"Scan QR"})}),d.jsx("li",{children:d.jsx(lt,{to:"register",style:({isActive:l})=>({...b0,...l?w0:{}}),children:"Register Product"})}),d.jsx("li",{children:d.jsx(lt,{to:"my-products",style:({isActive:l})=>({...b0,...l?w0:{}}),children:"My Products"})})]})}),d.jsxs("div",{style:{marginTop:"auto",paddingTop:16},children:[d.jsx(lt,{to:"settings",style:({isActive:l})=>({...b0,...l?w0:{}}),children:" Settings"}),d.jsx("button",{onClick:a,style:{width:"100%",background:"none",border:"1px solid rgba(255,255,255,0.3)",color:"white",padding:"10px",borderRadius:8,cursor:"pointer",fontSize:15},children:" Logout"})]})]}),d.jsx("main",{style:{flexGrow:1,background:"#f5f7fb",padding:40,overflowY:"auto",boxSizing:"border-box"},children:d.jsx(dc,{})})]})}const xO="http://34.177.85.28:3000/api/user",Ld={color:"white",textDecoration:"none",display:"block",padding:"10px 12px",borderRadius:10},Pd={background:"rgba(255,255,255,0.12)"};function fO(){const r=tn(),[e,t]=Se.useState(""),[n,s]=Se.useState("");Se.useEffect(()=>{const l=localStorage.getItem("username"),u=localStorage.getItem("userRole");t(l||""),s(u||"")},[]);const a=async()=>{try{await De.post(`${xO}/logout-account`)}catch{}finally{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("username"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),r("/login")}};return d.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden"},children:[d.jsxs("aside",{style:{width:240,flexShrink:0,background:"#0d1b2a",color:"white",padding:20,height:"100vh",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[d.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",borderRadius:10,padding:14,marginBottom:24,borderLeft:"3px solid #3b82f6"},children:[d.jsx("div",{style:{fontSize:11,color:"rgba(255,255,255,0.7)",fontWeight:600,marginBottom:4,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Logged In As"}),d.jsxs("div",{style:{fontSize:16,fontWeight:700,color:"white"},children:["@",e]})]}),d.jsx("h2",{style:{marginBottom:30},children:"Distributor"}),d.jsx("nav",{children:d.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:10},children:[d.jsx("li",{children:d.jsx(lt,{to:"",end:!0,style:({isActive:l})=>({...Ld,...l?Pd:{}}),children:"Dashboard"})}),d.jsx("li",{children:d.jsx(lt,{to:"scan-qr",style:({isActive:l})=>({...Ld,...l?Pd:{}}),children:"Scan QR"})}),d.jsx("li",{children:d.jsx(lt,{to:"products",style:({isActive:l})=>({...Ld,...l?Pd:{}}),children:"My Products"})})]})}),d.jsxs("div",{style:{marginTop:"auto",paddingTop:16},children:[d.jsx(lt,{to:"settings",style:({isActive:l})=>({...Ld,...l?Pd:{}}),children:" Settings"}),d.jsx("button",{onClick:a,style:{width:"100%",background:"none",border:"1px solid rgba(255,255,255,0.3)",color:"white",padding:"10px",borderRadius:8,cursor:"pointer",fontSize:15},children:" Logout"})]})]}),d.jsx("main",{style:{flexGrow:1,background:"#f5f7fb",padding:40,overflowY:"auto",boxSizing:"border-box"},children:d.jsx(dc,{})})]})}const hO="http://34.177.85.28:3000/api/user",A0={color:"white",textDecoration:"none",display:"block",padding:"10px 12px",borderRadius:10},C0={background:"rgba(255,255,255,0.12)"};function pO(){const r=tn(),[e,t]=Se.useState(""),[n,s]=Se.useState("");Se.useEffect(()=>{const l=localStorage.getItem("username"),u=localStorage.getItem("userRole");t(l||""),s(u||"")},[]);const a=async()=>{try{await De.post(`${hO}/logout-account`)}catch{}finally{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("username"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),r("/login")}};return d.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden"},children:[d.jsxs("aside",{style:{width:240,flexShrink:0,background:"#0d1b2a",color:"white",padding:20,height:"100vh",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[d.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",borderRadius:10,padding:14,marginBottom:24,borderLeft:"3px solid #3b82f6"},children:[d.jsx("div",{style:{fontSize:11,color:"rgba(255,255,255,0.7)",fontWeight:600,marginBottom:4,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Logged In As"}),d.jsxs("div",{style:{fontSize:16,fontWeight:700,color:"white"},children:["@",e]})]}),d.jsx("h2",{style:{marginBottom:30},children:"Retailer"}),d.jsx("nav",{children:d.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:10},children:[d.jsx("li",{children:d.jsx(lt,{to:"",end:!0,style:({isActive:l})=>({...A0,...l?C0:{}}),children:"Dashboard"})}),d.jsx("li",{children:d.jsx(lt,{to:"scan-qr",style:({isActive:l})=>({...A0,...l?C0:{}}),children:"Scan QR"})}),d.jsx("li",{children:d.jsx(lt,{to:"products",style:({isActive:l})=>({...A0,...l?C0:{}}),children:"My Products"})}),d.jsx("li",{children:d.jsx(lt,{to:"reviews",style:({isActive:l})=>({...A0,...l?C0:{}}),children:"Reviews"})})]})}),d.jsxs("div",{style:{marginTop:"auto",paddingTop:16},children:[d.jsx(lt,{to:"settings",style:({isActive:l})=>({...A0,...l?C0:{}}),children:" Settings"}),d.jsx("button",{onClick:a,style:{width:"100%",background:"none",border:"1px solid rgba(255,255,255,0.3)",color:"white",padding:"10px",borderRadius:8,cursor:"pointer",fontSize:15},children:" Logout"})]})]}),d.jsx("main",{style:{flexGrow:1,background:"#f5f7fb",padding:40,overflowY:"auto",boxSizing:"border-box"},children:d.jsx(dc,{})})]})}var x1,L6;function gO(){if(L6)return x1;L6=1;var r=Qm().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var a=0;a<t.length;a++){var l=t.charAt(a),u=l.charCodeAt(0);if(n[u]!==255)throw new TypeError(l+" is ambiguous");n[u]=a}var f=t.length,h=t.charAt(0),m=Math.log(f)/Math.log(256),E=Math.log(256)/Math.log(f);function S(R){if((Array.isArray(R)||R instanceof Uint8Array)&&(R=r.from(R)),!r.isBuffer(R))throw new TypeError("Expected Buffer");if(R.length===0)return"";for(var D=0,M=0,N=0,F=R.length;N!==F&&R[N]===0;)N++,D++;for(var P=(F-N)*E+1>>>0,K=new Uint8Array(P);N!==F;){for(var V=R[N],H=0,J=P-1;(V!==0||H<M)&&J!==-1;J--,H++)V+=256*K[J]>>>0,K[J]=V%f>>>0,V=V/f>>>0;if(V!==0)throw new Error("Non-zero carry");M=H,N++}for(var q=P-M;q!==P&&K[q]===0;)q++;for(var Z=h.repeat(D);q<P;++q)Z+=t.charAt(K[q]);return Z}function C(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return r.alloc(0);for(var D=0,M=0,N=0;R[D]===h;)M++,D++;for(var F=(R.length-D)*m+1>>>0,P=new Uint8Array(F);D<R.length;){var K=R.charCodeAt(D);if(K>255)return;var V=n[K];if(V===255)return;for(var H=0,J=F-1;(V!==0||H<N)&&J!==-1;J--,H++)V+=f*P[J]>>>0,P[J]=V%256>>>0,V=V/256>>>0;if(V!==0)throw new Error("Non-zero carry");N=H,D++}for(var q=F-N;q!==F&&P[q]===0;)q++;var Z=r.allocUnsafe(M+(F-q));Z.fill(0,0,M);for(var Q=M;q!==F;)Z[Q++]=P[q++];return Z}function v(R){var D=C(R);if(D)return D;throw new Error("Non-base"+f+" character")}return{encode:S,decodeUnsafe:C,decode:v}}return x1=e,x1}var f1,P6;function mO(){if(P6)return f1;P6=1;var r=gO(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return f1=r(e),f1}var yO=mO();const wy=ri(yO);var zd={exports:{}},z6;function EO(){if(z6)return zd.exports;z6=1;const r=/[\p{Lu}]/u,e=/[\p{Ll}]/u,t=/^[\p{Lu}](?![\p{Lu}])/gu,n=/([\p{Alpha}\p{N}_]|$)/u,s=/[_.\- ]+/,a=new RegExp("^"+s.source),l=new RegExp(s.source+n.source,"gu"),u=new RegExp("\\d+"+n.source,"gu"),f=(S,C,v)=>{let R=!1,D=!1,M=!1;for(let N=0;N<S.length;N++){const F=S[N];R&&r.test(F)?(S=S.slice(0,N)+"-"+S.slice(N),R=!1,M=D,D=!0,N++):D&&M&&e.test(F)?(S=S.slice(0,N-1)+"-"+S.slice(N-1),M=D,D=!1,R=!0):(R=C(F)===F&&v(F)!==F,M=D,D=v(F)===F&&C(F)!==F)}return S},h=(S,C)=>(t.lastIndex=0,S.replace(t,v=>C(v))),m=(S,C)=>(l.lastIndex=0,u.lastIndex=0,S.replace(l,(v,R)=>C(R)).replace(u,v=>C(v))),E=(S,C)=>{if(!(typeof S=="string"||Array.isArray(S)))throw new TypeError("Expected the input to be `string | string[]`");if(C={pascalCase:!1,preserveConsecutiveUppercase:!1,...C},Array.isArray(S)?S=S.map(M=>M.trim()).filter(M=>M.length).join("-"):S=S.trim(),S.length===0)return"";const v=C.locale===!1?M=>M.toLowerCase():M=>M.toLocaleLowerCase(C.locale),R=C.locale===!1?M=>M.toUpperCase():M=>M.toLocaleUpperCase(C.locale);return S.length===1?C.pascalCase?R(S):v(S):(S!==v(S)&&(S=f(S,v,R)),S=S.replace(a,""),C.preserveConsecutiveUppercase?S=h(S,v):S=v(S),C.pascalCase&&(S=R(S.charAt(0))+S.slice(1)),m(S,R))};return zd.exports=E,zd.exports.default=E,zd.exports}var bO=EO();const wO=ri(bO);var v0={},Oe={},U6;function H6(){if(U6)return Oe;U6=1;class r{constructor(k,A){if(!Number.isInteger(k))throw new TypeError("span must be an integer");this.span=k,this.property=A}makeDestinationObject(){return{}}decode(k,A){throw new Error("Layout is abstract")}encode(k,A,g){throw new Error("Layout is abstract")}getSpan(k,A){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(k){const A=Object.create(this.constructor.prototype);return Object.assign(A,this),A.property=k,A}fromArray(k){}}Oe.Layout=r;function e(z,k){return k.property?z+"["+k.property+"]":z}Oe.nameWithProperty=e;function t(z,k){if(typeof z!="function")throw new TypeError("Class must be constructor");if(z.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(k&&k instanceof r))throw new TypeError("layout must be a Layout");if(k.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");z.layout_=k,k.boundConstructor_=z,k.makeDestinationObject=(()=>new z),Object.defineProperty(z.prototype,"encode",{value:function(A,g){return k.encode(this,A,g)},writable:!0}),Object.defineProperty(z,"decode",{value:function(A,g){return k.decode(A,g)},writable:!0})}Oe.bindConstructorLayout=t;class n extends r{isCount(){throw new Error("ExternalLayout is abstract")}}class s extends n{constructor(k,A){if(k===void 0&&(k=1),!Number.isInteger(k)||0>=k)throw new TypeError("elementSpan must be a (positive) integer");super(-1,A),this.elementSpan=k}isCount(){return!0}decode(k,A){A===void 0&&(A=0);const g=k.length-A;return Math.floor(g/this.elementSpan)}encode(k,A,g){return 0}}class a extends n{constructor(k,A,g){if(!(k instanceof r))throw new TypeError("layout must be a Layout");if(A===void 0)A=0;else if(!Number.isInteger(A))throw new TypeError("offset must be integer or undefined");super(k.span,g||k.property),this.layout=k,this.offset=A}isCount(){return this.layout instanceof l||this.layout instanceof u}decode(k,A){return A===void 0&&(A=0),this.layout.decode(k,A+this.offset)}encode(k,A,g){return g===void 0&&(g=0),this.layout.encode(k,A,g+this.offset)}}class l extends r{constructor(k,A){if(super(k,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,A){return A===void 0&&(A=0),k.readUIntLE(A,this.span)}encode(k,A,g){return g===void 0&&(g=0),A.writeUIntLE(k,g,this.span),this.span}}class u extends r{constructor(k,A){if(super(k,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,A){return A===void 0&&(A=0),k.readUIntBE(A,this.span)}encode(k,A,g){return g===void 0&&(g=0),A.writeUIntBE(k,g,this.span),this.span}}class f extends r{constructor(k,A){if(super(k,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,A){return A===void 0&&(A=0),k.readIntLE(A,this.span)}encode(k,A,g){return g===void 0&&(g=0),A.writeIntLE(k,g,this.span),this.span}}class h extends r{constructor(k,A){if(super(k,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,A){return A===void 0&&(A=0),k.readIntBE(A,this.span)}encode(k,A,g){return g===void 0&&(g=0),A.writeIntBE(k,g,this.span),this.span}}const m=Math.pow(2,32);function E(z){const k=Math.floor(z/m),A=z-k*m;return{hi32:k,lo32:A}}function S(z,k){return z*m+k}class C extends r{constructor(k){super(8,k)}decode(k,A){A===void 0&&(A=0);const g=k.readUInt32LE(A),w=k.readUInt32LE(A+4);return S(w,g)}encode(k,A,g){g===void 0&&(g=0);const w=E(k);return A.writeUInt32LE(w.lo32,g),A.writeUInt32LE(w.hi32,g+4),8}}class v extends r{constructor(k){super(8,k)}decode(k,A){A===void 0&&(A=0);const g=k.readUInt32BE(A),w=k.readUInt32BE(A+4);return S(g,w)}encode(k,A,g){g===void 0&&(g=0);const w=E(k);return A.writeUInt32BE(w.hi32,g),A.writeUInt32BE(w.lo32,g+4),8}}class R extends r{constructor(k){super(8,k)}decode(k,A){A===void 0&&(A=0);const g=k.readUInt32LE(A),w=k.readInt32LE(A+4);return S(w,g)}encode(k,A,g){g===void 0&&(g=0);const w=E(k);return A.writeUInt32LE(w.lo32,g),A.writeInt32LE(w.hi32,g+4),8}}class D extends r{constructor(k){super(8,k)}decode(k,A){A===void 0&&(A=0);const g=k.readInt32BE(A),w=k.readUInt32BE(A+4);return S(g,w)}encode(k,A,g){g===void 0&&(g=0);const w=E(k);return A.writeInt32BE(w.hi32,g),A.writeUInt32BE(w.lo32,g+4),8}}class M extends r{constructor(k){super(4,k)}decode(k,A){return A===void 0&&(A=0),k.readFloatLE(A)}encode(k,A,g){return g===void 0&&(g=0),A.writeFloatLE(k,g),4}}class N extends r{constructor(k){super(4,k)}decode(k,A){return A===void 0&&(A=0),k.readFloatBE(A)}encode(k,A,g){return g===void 0&&(g=0),A.writeFloatBE(k,g),4}}class F extends r{constructor(k){super(8,k)}decode(k,A){return A===void 0&&(A=0),k.readDoubleLE(A)}encode(k,A,g){return g===void 0&&(g=0),A.writeDoubleLE(k,g),8}}class P extends r{constructor(k){super(8,k)}decode(k,A){return A===void 0&&(A=0),k.readDoubleBE(A)}encode(k,A,g){return g===void 0&&(g=0),A.writeDoubleBE(k,g),8}}class K extends r{constructor(k,A,g){if(!(k instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(A instanceof n&&A.isCount()||Number.isInteger(A)&&0<=A))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let w=-1;!(A instanceof n)&&0<k.span&&(w=A*k.span),super(w,g),this.elementLayout=k,this.count=A}getSpan(k,A){if(0<=this.span)return this.span;A===void 0&&(A=0);let g=0,w=this.count;if(w instanceof n&&(w=w.decode(k,A)),0<this.elementLayout.span)g=w*this.elementLayout.span;else{let j=0;for(;j<w;)g+=this.elementLayout.getSpan(k,A+g),++j}return g}decode(k,A){A===void 0&&(A=0);const g=[];let w=0,j=this.count;for(j instanceof n&&(j=j.decode(k,A));w<j;)g.push(this.elementLayout.decode(k,A)),A+=this.elementLayout.getSpan(k,A),w+=1;return g}encode(k,A,g){g===void 0&&(g=0);const w=this.elementLayout,j=k.reduce((X,ne)=>X+w.encode(ne,A,g+X),0);return this.count instanceof n&&this.count.encode(k.length,A,g),j}}class V extends r{constructor(k,A,g){if(!(Array.isArray(k)&&k.reduce((j,X)=>j&&X instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof A=="boolean"&&g===void 0&&(g=A,A=void 0);for(const j of k)if(0>j.span&&j.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let w=-1;try{w=k.reduce((j,X)=>j+X.getSpan(),0)}catch{}super(w,A),this.fields=k,this.decodePrefixes=!!g}getSpan(k,A){if(0<=this.span)return this.span;A===void 0&&(A=0);let g=0;try{g=this.fields.reduce((w,j)=>{const X=j.getSpan(k,A);return A+=X,w+X},0)}catch{throw new RangeError("indeterminate span")}return g}decode(k,A){A===void 0&&(A=0);const g=this.makeDestinationObject();for(const w of this.fields)if(w.property!==void 0&&(g[w.property]=w.decode(k,A)),A+=w.getSpan(k,A),this.decodePrefixes&&k.length===A)break;return g}encode(k,A,g){g===void 0&&(g=0);const w=g;let j=0,X=0;for(const ne of this.fields){let oe=ne.span;if(X=0<oe?oe:0,ne.property!==void 0){const be=k[ne.property];be!==void 0&&(X=ne.encode(be,A,g),0>oe&&(oe=ne.getSpan(A,g)))}j=g,g+=oe}return j+X-w}fromArray(k){const A=this.makeDestinationObject();for(const g of this.fields)g.property!==void 0&&0<k.length&&(A[g.property]=k.shift());return A}layoutFor(k){if(typeof k!="string")throw new TypeError("property must be string");for(const A of this.fields)if(A.property===k)return A}offsetOf(k){if(typeof k!="string")throw new TypeError("property must be string");let A=0;for(const g of this.fields){if(g.property===k)return A;0>g.span?A=-1:0<=A&&(A+=g.span)}}}class H{constructor(k){this.property=k}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class J extends H{constructor(k,A){if(!(k instanceof n&&k.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(A||k.property||"variant"),this.layout=k}decode(k,A){return this.layout.decode(k,A)}encode(k,A,g){return this.layout.encode(k,A,g)}}class q extends r{constructor(k,A,g){const w=k instanceof l||k instanceof u;if(w)k=new J(new a(k));else if(k instanceof n&&k.isCount())k=new J(k);else if(!(k instanceof H))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(A===void 0&&(A=null),!(A===null||A instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(A!==null){if(0>A.span)throw new Error("defaultLayout must have constant span");A.property===void 0&&(A=A.replicate("content"))}let j=-1;A&&(j=A.span,0<=j&&w&&(j+=k.layout.span)),super(j,g),this.discriminator=k,this.usesPrefixDiscriminator=w,this.defaultLayout=A,this.registry={};let X=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ne){return X(ne)},this.configGetSourceVariant=function(ne){X=ne.bind(this)}}getSpan(k,A){if(0<=this.span)return this.span;A===void 0&&(A=0);const g=this.getVariant(k,A);if(!g)throw new Error("unable to determine span for unrecognized variant");return g.getSpan(k,A)}defaultGetSourceVariant(k){if(k.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&k.hasOwnProperty(this.defaultLayout.property))return;const A=this.registry[k[this.discriminator.property]];if(A&&(!A.layout||k.hasOwnProperty(A.property)))return A}else for(const A in this.registry){const g=this.registry[A];if(k.hasOwnProperty(g.property))return g}throw new Error("unable to infer src variant")}decode(k,A){A===void 0&&(A=0);let g;const w=this.discriminator,j=w.decode(k,A);let X=this.registry[j];if(X===void 0){let ne=0;X=this.defaultLayout,this.usesPrefixDiscriminator&&(ne=w.layout.span),g=this.makeDestinationObject(),g[w.property]=j,g[X.property]=this.defaultLayout.decode(k,A+ne)}else g=X.decode(k,A);return g}encode(k,A,g){g===void 0&&(g=0);const w=this.getSourceVariant(k);if(w===void 0){const j=this.discriminator,X=this.defaultLayout;let ne=0;return this.usesPrefixDiscriminator&&(ne=j.layout.span),j.encode(k[j.property],A,g),ne+X.encode(k[X.property],A,g+ne)}return w.encode(k,A,g)}addVariant(k,A,g){const w=new Z(this,k,A,g);return this.registry[k]=w,w}getVariant(k,A){let g=k;return Buffer.isBuffer(k)&&(A===void 0&&(A=0),g=this.discriminator.decode(k,A)),this.registry[g]}}class Z extends r{constructor(k,A,g,w){if(!(k instanceof q))throw new TypeError("union must be a Union");if(!Number.isInteger(A)||0>A)throw new TypeError("variant must be a (non-negative) integer");if(typeof g=="string"&&w===void 0&&(w=g,g=null),g){if(!(g instanceof r))throw new TypeError("layout must be a Layout");if(k.defaultLayout!==null&&0<=g.span&&g.span>k.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof w!="string")throw new TypeError("variant must have a String property")}let j=k.span;0>k.span&&(j=g?g.span:0,0<=j&&k.usesPrefixDiscriminator&&(j+=k.discriminator.layout.span)),super(j,w),this.union=k,this.variant=A,this.layout=g||null}getSpan(k,A){if(0<=this.span)return this.span;A===void 0&&(A=0);let g=0;return this.union.usesPrefixDiscriminator&&(g=this.union.discriminator.layout.span),g+this.layout.getSpan(k,A+g)}decode(k,A){const g=this.makeDestinationObject();if(A===void 0&&(A=0),this!==this.union.getVariant(k,A))throw new Error("variant mismatch");let w=0;return this.union.usesPrefixDiscriminator&&(w=this.union.discriminator.layout.span),this.layout?g[this.property]=this.layout.decode(k,A+w):this.property?g[this.property]=!0:this.union.usesPrefixDiscriminator&&(g[this.union.discriminator.property]=this.variant),g}encode(k,A,g){g===void 0&&(g=0);let w=0;if(this.union.usesPrefixDiscriminator&&(w=this.union.discriminator.layout.span),this.layout&&!k.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,A,g);let j=w;if(this.layout&&(this.layout.encode(k[this.property],A,g+w),j+=this.layout.getSpan(A,g+w),0<=this.union.span&&j>this.union.span))throw new Error("encoded variant overruns containing union");return j}fromArray(k){if(this.layout)return this.layout.fromArray(k)}}function Q(z){return 0>z&&(z+=4294967296),z}class $ extends r{constructor(k,A,g){if(!(k instanceof l||k instanceof u))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof A=="string"&&g===void 0&&(g=A,A=void 0),4<k.span)throw new RangeError("word cannot exceed 32 bits");super(k.span,g),this.word=k,this.msb=!!A,this.fields=[];let w=0;this._packedSetValue=function(j){return w=Q(j),this},this._packedGetValue=function(){return w}}decode(k,A){const g=this.makeDestinationObject();A===void 0&&(A=0);const w=this.word.decode(k,A);this._packedSetValue(w);for(const j of this.fields)j.property!==void 0&&(g[j.property]=j.decode(w));return g}encode(k,A,g){g===void 0&&(g=0);const w=this.word.decode(A,g);this._packedSetValue(w);for(const j of this.fields)if(j.property!==void 0){const X=k[j.property];X!==void 0&&j.encode(X)}return this.word.encode(this._packedGetValue(),A,g)}addField(k,A){const g=new T(this,k,A);return this.fields.push(g),g}addBoolean(k){const A=new p(this,k);return this.fields.push(A),A}fieldFor(k){if(typeof k!="string")throw new TypeError("property must be string");for(const A of this.fields)if(A.property===k)return A}}class T{constructor(k,A,g){if(!(k instanceof $))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(A)||0>=A)throw new TypeError("bits must be positive integer");const w=8*k.span,j=k.fields.reduce((X,ne)=>X+ne.bits,0);if(A+j>w)throw new Error("bits too long for span remainder ("+(w-j)+" of "+w+" remain)");this.container=k,this.bits=A,this.valueMask=(1<<A)-1,A===32&&(this.valueMask=4294967295),this.start=j,this.container.msb&&(this.start=w-j-A),this.wordMask=Q(this.valueMask<<this.start),this.property=g}decode(){const k=this.container._packedGetValue();return Q(k&this.wordMask)>>>this.start}encode(k){if(!Number.isInteger(k)||k!==Q(k&this.valueMask))throw new TypeError(e("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const A=this.container._packedGetValue(),g=Q(k<<this.start);this.container._packedSetValue(Q(A&~this.wordMask)|g)}}class p extends T{constructor(k,A){super(k,1,A)}decode(k,A){return!!T.prototype.decode.call(this,k,A)}encode(k){return typeof k=="boolean"&&(k=+k),T.prototype.encode.call(this,k)}}class b extends r{constructor(k,A){if(!(k instanceof n&&k.isCount()||Number.isInteger(k)&&0<=k))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let g=-1;k instanceof n||(g=k),super(g,A),this.length=k}getSpan(k,A){let g=this.span;return 0>g&&(g=this.length.decode(k,A)),g}decode(k,A){A===void 0&&(A=0);let g=this.span;return 0>g&&(g=this.length.decode(k,A)),k.slice(A,A+g)}encode(k,A,g){let w=this.length;if(this.length instanceof n&&(w=k.length),!(Buffer.isBuffer(k)&&w===k.length))throw new TypeError(e("Blob.encode",this)+" requires (length "+w+") Buffer as src");if(g+w>A.length)throw new RangeError("encoding overruns Buffer");return A.write(k.toString("hex"),g,w,"hex"),this.length instanceof n&&this.length.encode(w,A,g),w}}class _ extends r{constructor(k){super(-1,k)}getSpan(k,A){if(!Buffer.isBuffer(k))throw new TypeError("b must be a Buffer");A===void 0&&(A=0);let g=A;for(;g<k.length&&k[g]!==0;)g+=1;return 1+g-A}decode(k,A,g){A===void 0&&(A=0);let w=this.getSpan(k,A);return k.slice(A,A+w-1).toString("utf-8")}encode(k,A,g){g===void 0&&(g=0),typeof k!="string"&&(k=k.toString());const w=new Buffer(k,"utf8"),j=w.length;if(g+j>A.length)throw new RangeError("encoding overruns Buffer");return w.copy(A,g),A[g+j]=0,j+1}}class O extends r{constructor(k,A){if(typeof k=="string"&&A===void 0&&(A=k,k=void 0),k===void 0)k=-1;else if(!Number.isInteger(k))throw new TypeError("maxSpan must be an integer");super(-1,A),this.maxSpan=k}getSpan(k,A){if(!Buffer.isBuffer(k))throw new TypeError("b must be a Buffer");return A===void 0&&(A=0),k.length-A}decode(k,A,g){A===void 0&&(A=0);let w=this.getSpan(k,A);if(0<=this.maxSpan&&this.maxSpan<w)throw new RangeError("text length exceeds maxSpan");return k.slice(A,A+w).toString("utf-8")}encode(k,A,g){g===void 0&&(g=0),typeof k!="string"&&(k=k.toString());const w=new Buffer(k,"utf8"),j=w.length;if(0<=this.maxSpan&&this.maxSpan<j)throw new RangeError("text length exceeds maxSpan");if(g+j>A.length)throw new RangeError("encoding overruns Buffer");return w.copy(A,g),j}}class G extends r{constructor(k,A){super(0,A),this.value=k}decode(k,A,g){return this.value}encode(k,A,g){return 0}}return Oe.ExternalLayout=n,Oe.GreedyCount=s,Oe.OffsetLayout=a,Oe.UInt=l,Oe.UIntBE=u,Oe.Int=f,Oe.IntBE=h,Oe.Float=M,Oe.FloatBE=N,Oe.Double=F,Oe.DoubleBE=P,Oe.Sequence=K,Oe.Structure=V,Oe.UnionDiscriminator=H,Oe.UnionLayoutDiscriminator=J,Oe.Union=q,Oe.VariantLayout=Z,Oe.BitStructure=$,Oe.BitField=T,Oe.Boolean=p,Oe.Blob=b,Oe.CString=_,Oe.UTF8=O,Oe.Constant=G,Oe.greedy=((z,k)=>new s(z,k)),Oe.offset=((z,k,A)=>new a(z,k,A)),Oe.u8=(z=>new l(1,z)),Oe.u16=(z=>new l(2,z)),Oe.u24=(z=>new l(3,z)),Oe.u32=(z=>new l(4,z)),Oe.u40=(z=>new l(5,z)),Oe.u48=(z=>new l(6,z)),Oe.nu64=(z=>new C(z)),Oe.u16be=(z=>new u(2,z)),Oe.u24be=(z=>new u(3,z)),Oe.u32be=(z=>new u(4,z)),Oe.u40be=(z=>new u(5,z)),Oe.u48be=(z=>new u(6,z)),Oe.nu64be=(z=>new v(z)),Oe.s8=(z=>new f(1,z)),Oe.s16=(z=>new f(2,z)),Oe.s24=(z=>new f(3,z)),Oe.s32=(z=>new f(4,z)),Oe.s40=(z=>new f(5,z)),Oe.s48=(z=>new f(6,z)),Oe.ns64=(z=>new R(z)),Oe.s16be=(z=>new h(2,z)),Oe.s24be=(z=>new h(3,z)),Oe.s32be=(z=>new h(4,z)),Oe.s40be=(z=>new h(5,z)),Oe.s48be=(z=>new h(6,z)),Oe.ns64be=(z=>new D(z)),Oe.f32=(z=>new M(z)),Oe.f32be=(z=>new N(z)),Oe.f64=(z=>new F(z)),Oe.f64be=(z=>new P(z)),Oe.struct=((z,k,A)=>new V(z,k,A)),Oe.bits=((z,k,A)=>new $(z,k,A)),Oe.seq=((z,k,A)=>new K(z,k,A)),Oe.union=((z,k,A)=>new q(z,k,A)),Oe.unionLayoutDiscriminator=((z,k)=>new J(z,k)),Oe.blob=((z,k)=>new b(z,k)),Oe.cstr=(z=>new _(z)),Oe.utf8=((z,k)=>new O(z,k)),Oe.const=((z,k)=>new G(z,k)),Oe}const AO=tf(vN);var W6;function CO(){return W6||(W6=1,(function(r){var e=v0&&v0.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(r,"__esModule",{value:!0}),r.struct=r.f64=r.f32=r.i32=r.u32=r.i16=r.u16=r.i8=r.u8=void 0,r.u64=u,r.i64=f,r.u128=h,r.i128=m,r.u256=E,r.i256=S,r.publicKey=v,r.option=D,r.bool=M,r.vec=P,r.tagged=K,r.vecU8=V,r.str=H,r.rustEnum=J,r.array=q,r.map=Q;const t=H6(),n=AO,s=e(Zm());var a=H6();Object.defineProperty(r,"u8",{enumerable:!0,get:function(){return a.u8}}),Object.defineProperty(r,"i8",{enumerable:!0,get:function(){return a.s8}}),Object.defineProperty(r,"u16",{enumerable:!0,get:function(){return a.u16}}),Object.defineProperty(r,"i16",{enumerable:!0,get:function(){return a.s16}}),Object.defineProperty(r,"u32",{enumerable:!0,get:function(){return a.u32}}),Object.defineProperty(r,"i32",{enumerable:!0,get:function(){return a.s32}}),Object.defineProperty(r,"f32",{enumerable:!0,get:function(){return a.f32}}),Object.defineProperty(r,"f64",{enumerable:!0,get:function(){return a.f64}}),Object.defineProperty(r,"struct",{enumerable:!0,get:function(){return a.struct}});class l extends t.Layout{constructor(T,p,b){super(T,b),this.blob=(0,t.blob)(T),this.signed=p}decode(T,p=0){const b=new s.default(this.blob.decode(T,p),10,"le");return this.signed?b.fromTwos(this.span*8).clone():b}encode(T,p,b=0){return this.signed&&(T=T.toTwos(this.span*8)),this.blob.encode(T.toArrayLike(Buffer,"le",this.span),p,b)}}function u($){return new l(8,!1,$)}function f($){return new l(8,!0,$)}function h($){return new l(16,!1,$)}function m($){return new l(16,!0,$)}function E($){return new l(32,!1,$)}function S($){return new l(32,!0,$)}class C extends t.Layout{constructor(T,p,b,_){super(T.span,_),this.layout=T,this.decoder=p,this.encoder=b}decode(T,p){return this.decoder(this.layout.decode(T,p))}encode(T,p,b){return this.layout.encode(this.encoder(T),p,b)}getSpan(T,p){return this.layout.getSpan(T,p)}}function v($){return new C((0,t.blob)(32),T=>new n.PublicKey(T),T=>T.toBuffer(),$)}class R extends t.Layout{constructor(T,p){super(-1,p),this.layout=T,this.discriminator=(0,t.u8)()}encode(T,p,b=0){return T==null?this.discriminator.encode(0,p,b):(this.discriminator.encode(1,p,b),this.layout.encode(T,p,b+1)+1)}decode(T,p=0){const b=this.discriminator.decode(T,p);if(b===0)return null;if(b===1)return this.layout.decode(T,p+1);throw new Error("Invalid option "+this.property)}getSpan(T,p=0){const b=this.discriminator.decode(T,p);if(b===0)return 1;if(b===1)return this.layout.getSpan(T,p+1)+1;throw new Error("Invalid option "+this.property)}}function D($,T){return new R($,T)}function M($){return new C((0,t.u8)(),N,F,$)}function N($){if($===0)return!1;if($===1)return!0;throw new Error("Invalid bool: "+$)}function F($){return $?1:0}function P($,T){const p=(0,t.u32)("length"),b=(0,t.struct)([p,(0,t.seq)($,(0,t.offset)(p,-p.span),"values")]);return new C(b,({values:_})=>_,_=>({values:_}),T)}function K($,T,p){const b=(0,t.struct)([u("tag"),T.replicate("data")]);function _({tag:O,data:G}){if(!O.eq($))throw new Error("Invalid tag, expected: "+$.toString("hex")+", got: "+O.toString("hex"));return G}return new C(b,_,O=>({tag:$,data:O}),p)}function V($){const T=(0,t.u32)("length"),p=(0,t.struct)([T,(0,t.blob)((0,t.offset)(T,-T.span),"data")]);return new C(p,({data:b})=>b,b=>({data:b}),$)}function H($){return new C(V(),T=>T.toString("utf-8"),T=>Buffer.from(T,"utf-8"),$)}function J($,T,p){const b=(0,t.union)(p??(0,t.u8)(),T);return $.forEach((_,O)=>b.addVariant(O,_,_.property)),b}function q($,T,p){const b=(0,t.struct)([(0,t.seq)($,T,"values")]);return new C(b,({values:_})=>_,_=>({values:_}),p)}class Z extends t.Layout{constructor(T,p,b){super(T.span+p.span,b),this.keyLayout=T,this.valueLayout=p}decode(T,p){p=p||0;const b=this.keyLayout.decode(T,p),_=this.valueLayout.decode(T,p+this.keyLayout.getSpan(T,p));return[b,_]}encode(T,p,b){b=b||0;const _=this.keyLayout.encode(T[0],p,b),O=this.valueLayout.encode(T[1],p,b+_);return _+O}getSpan(T,p){return this.keyLayout.getSpan(T,p)+this.valueLayout.getSpan(T,p)}}function Q($,T,p){const b=(0,t.u32)("length"),_=(0,t.struct)([b,(0,t.seq)(new Z($,T),(0,t.offset)(b,-b.span),"values")]);return new C(_,({values:O})=>new Map(O),O=>({values:Array.from(O.entries())}),p)}})(v0)),v0}var at=CO();function yc(r){let e=r.length;for(;--e>=0;)r[e]=0}const vO=3,BO=258,MC=29,SO=256,_O=SO+1+MC,OC=30,DO=512,RO=new Array((_O+2)*2);yc(RO);const kO=new Array(OC*2);yc(kO);const FO=new Array(DO);yc(FO);const TO=new Array(BO-vO+1);yc(TO);const NO=new Array(MC);yc(NO);const IO=new Array(OC);yc(IO);const MO=(r,e,t,n)=>{let s=r&65535|0,a=r>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do s=s+e[n++]|0,a=a+s|0;while(--l);s%=65521,a%=65521}return s|a<<16|0};var xm=MO;const OO=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},jO=new Uint32Array(OO()),LO=(r,e,t,n)=>{const s=jO,a=n+t;r^=-1;for(let l=n;l<a;l++)r=r>>>8^s[(r^e[l])&255];return r^-1};var Ti=LO,fm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},jC={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const PO=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var zO=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)PO(t,n)&&(r[n]=t[n])}}return r},UO=r=>{let e=0;for(let n=0,s=r.length;n<s;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,s=0,a=r.length;n<a;n++){let l=r[n];t.set(l,s),s+=l.length}return t},LC={assign:zO,flattenChunks:UO};let PC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{PC=!1}const G0=new Uint8Array(256);for(let r=0;r<256;r++)G0[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;G0[254]=G0[254]=1;var HO=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,s,a,l=r.length,u=0;for(s=0;s<l;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<l&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),s++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),a=0,s=0;a<u;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<l&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),s++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const WO=(r,e)=>{if(e<65534&&r.subarray&&PC)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var qO=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,s;const a=new Array(t*2);for(s=0,n=0;n<t;){let l=r[n++];if(l<128){a[s++]=l;continue}let u=G0[l];if(u>4){a[s++]=65533,n+=u-1;continue}for(l&=u===2?31:u===3?15:7;u>1&&n<t;)l=l<<6|r[n++]&63,u--;if(u>1){a[s++]=65533;continue}l<65536?a[s++]=l:(l-=65536,a[s++]=55296|l>>10&1023,a[s++]=56320|l&1023)}return WO(a,s)},KO=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+G0[r[t]]>e?t:e},hm={string2buf:HO,buf2string:qO,utf8border:KO};function VO(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var GO=VO;const Ud=16209,YO=16191;var $O=function(e,t){let n,s,a,l,u,f,h,m,E,S,C,v,R,D,M,N,F,P,K,V,H,J,q,Z;const Q=e.state;n=e.next_in,q=e.input,s=n+(e.avail_in-5),a=e.next_out,Z=e.output,l=a-(t-e.avail_out),u=a+(e.avail_out-257),f=Q.dmax,h=Q.wsize,m=Q.whave,E=Q.wnext,S=Q.window,C=Q.hold,v=Q.bits,R=Q.lencode,D=Q.distcode,M=(1<<Q.lenbits)-1,N=(1<<Q.distbits)-1;e:do{v<15&&(C+=q[n++]<<v,v+=8,C+=q[n++]<<v,v+=8),F=R[C&M];t:for(;;){if(P=F>>>24,C>>>=P,v-=P,P=F>>>16&255,P===0)Z[a++]=F&65535;else if(P&16){K=F&65535,P&=15,P&&(v<P&&(C+=q[n++]<<v,v+=8),K+=C&(1<<P)-1,C>>>=P,v-=P),v<15&&(C+=q[n++]<<v,v+=8,C+=q[n++]<<v,v+=8),F=D[C&N];n:for(;;){if(P=F>>>24,C>>>=P,v-=P,P=F>>>16&255,P&16){if(V=F&65535,P&=15,v<P&&(C+=q[n++]<<v,v+=8,v<P&&(C+=q[n++]<<v,v+=8)),V+=C&(1<<P)-1,V>f){e.msg="invalid distance too far back",Q.mode=Ud;break e}if(C>>>=P,v-=P,P=a-l,V>P){if(P=V-P,P>m&&Q.sane){e.msg="invalid distance too far back",Q.mode=Ud;break e}if(H=0,J=S,E===0){if(H+=h-P,P<K){K-=P;do Z[a++]=S[H++];while(--P);H=a-V,J=Z}}else if(E<P){if(H+=h+E-P,P-=E,P<K){K-=P;do Z[a++]=S[H++];while(--P);if(H=0,E<K){P=E,K-=P;do Z[a++]=S[H++];while(--P);H=a-V,J=Z}}}else if(H+=E-P,P<K){K-=P;do Z[a++]=S[H++];while(--P);H=a-V,J=Z}for(;K>2;)Z[a++]=J[H++],Z[a++]=J[H++],Z[a++]=J[H++],K-=3;K&&(Z[a++]=J[H++],K>1&&(Z[a++]=J[H++]))}else{H=a-V;do Z[a++]=Z[H++],Z[a++]=Z[H++],Z[a++]=Z[H++],K-=3;while(K>2);K&&(Z[a++]=Z[H++],K>1&&(Z[a++]=Z[H++]))}}else if((P&64)===0){F=D[(F&65535)+(C&(1<<P)-1)];continue n}else{e.msg="invalid distance code",Q.mode=Ud;break e}break}}else if((P&64)===0){F=R[(F&65535)+(C&(1<<P)-1)];continue t}else if(P&32){Q.mode=YO;break e}else{e.msg="invalid literal/length code",Q.mode=Ud;break e}break}}while(n<s&&a<u);K=v>>3,n-=K,v-=K<<3,C&=(1<<v)-1,e.next_in=n,e.next_out=a,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=a<u?257+(u-a):257-(a-u),Q.hold=C,Q.bits=v};const Tl=15,q6=852,K6=592,V6=0,h1=1,G6=2,ZO=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),QO=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),XO=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),JO=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ej=(r,e,t,n,s,a,l,u)=>{const f=u.bits;let h=0,m=0,E=0,S=0,C=0,v=0,R=0,D=0,M=0,N=0,F,P,K,V,H,J=null,q;const Z=new Uint16Array(Tl+1),Q=new Uint16Array(Tl+1);let $=null,T,p,b;for(h=0;h<=Tl;h++)Z[h]=0;for(m=0;m<n;m++)Z[e[t+m]]++;for(C=f,S=Tl;S>=1&&Z[S]===0;S--);if(C>S&&(C=S),S===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,u.bits=1,0;for(E=1;E<S&&Z[E]===0;E++);for(C<E&&(C=E),D=1,h=1;h<=Tl;h++)if(D<<=1,D-=Z[h],D<0)return-1;if(D>0&&(r===V6||S!==1))return-1;for(Q[1]=0,h=1;h<Tl;h++)Q[h+1]=Q[h]+Z[h];for(m=0;m<n;m++)e[t+m]!==0&&(l[Q[e[t+m]]++]=m);if(r===V6?(J=$=l,q=20):r===h1?(J=ZO,$=QO,q=257):(J=XO,$=JO,q=0),N=0,m=0,h=E,H=a,v=C,R=0,K=-1,M=1<<C,V=M-1,r===h1&&M>q6||r===G6&&M>K6)return 1;for(;;){T=h-R,l[m]+1<q?(p=0,b=l[m]):l[m]>=q?(p=$[l[m]-q],b=J[l[m]-q]):(p=96,b=0),F=1<<h-R,P=1<<v,E=P;do P-=F,s[H+(N>>R)+P]=T<<24|p<<16|b|0;while(P!==0);for(F=1<<h-1;N&F;)F>>=1;if(F!==0?(N&=F-1,N+=F):N=0,m++,--Z[h]===0){if(h===S)break;h=e[t+l[m]]}if(h>C&&(N&V)!==K){for(R===0&&(R=C),H+=E,v=h-R,D=1<<v;v+R<S&&(D-=Z[v+R],!(D<=0));)v++,D<<=1;if(M+=1<<v,r===h1&&M>q6||r===G6&&M>K6)return 1;K=N&V,s[K]=C<<24|v<<16|H-a|0}}return N!==0&&(s[H+N]=h-R<<24|64<<16|0),u.bits=C,0};var M0=ej;const tj=0,zC=1,UC=2,{Z_FINISH:Y6,Z_BLOCK:nj,Z_TREES:Hd,Z_OK:Ia,Z_STREAM_END:rj,Z_NEED_DICT:ij,Z_STREAM_ERROR:ti,Z_DATA_ERROR:HC,Z_MEM_ERROR:WC,Z_BUF_ERROR:oj,Z_DEFLATED:$6}=jC,Ff=16180,Z6=16181,Q6=16182,X6=16183,J6=16184,ew=16185,tw=16186,nw=16187,rw=16188,iw=16189,Xx=16190,yo=16191,p1=16192,ow=16193,g1=16194,sw=16195,aw=16196,lw=16197,cw=16198,Wd=16199,qd=16200,uw=16201,dw=16202,xw=16203,fw=16204,hw=16205,m1=16206,pw=16207,gw=16208,an=16209,qC=16210,KC=16211,sj=852,aj=592,lj=15,cj=lj,mw=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function uj(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ua=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Ff||e.mode>KC?1:0},VC=r=>{if(Ua(r))return ti;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Ff,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(sj),e.distcode=e.distdyn=new Int32Array(aj),e.sane=1,e.back=-1,Ia},GC=r=>{if(Ua(r))return ti;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,VC(r)},YC=(r,e)=>{let t;if(Ua(r))return ti;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ti:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,GC(r))},$C=(r,e)=>{if(!r)return ti;const t=new uj;r.state=t,t.strm=r,t.window=null,t.mode=Ff;const n=YC(r,e);return n!==Ia&&(r.state=null),n},dj=r=>$C(r,cj);let yw=!0,y1,E1;const xj=r=>{if(yw){y1=new Int32Array(512),E1=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(M0(zC,r.lens,0,288,y1,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;M0(UC,r.lens,0,32,E1,0,r.work,{bits:5}),yw=!1}r.lencode=y1,r.lenbits=9,r.distcode=E1,r.distbits=5},ZC=(r,e,t,n)=>{let s;const a=r.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>n&&(s=n),a.window.set(e.subarray(t-n,t-n+s),a.wnext),n-=s,n?(a.window.set(e.subarray(t-n,t),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},fj=(r,e)=>{let t,n,s,a,l,u,f,h,m,E,S,C,v,R,D=0,M,N,F,P,K,V,H,J;const q=new Uint8Array(4);let Z,Q;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ua(r)||!r.output||!r.input&&r.avail_in!==0)return ti;t=r.state,t.mode===yo&&(t.mode=p1),l=r.next_out,s=r.output,f=r.avail_out,a=r.next_in,n=r.input,u=r.avail_in,h=t.hold,m=t.bits,E=u,S=f,J=Ia;e:for(;;)switch(t.mode){case Ff:if(t.wrap===0){t.mode=p1;break}for(;m<16;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,q[0]=h&255,q[1]=h>>>8&255,t.check=Ti(t.check,q,2,0),h=0,m=0,t.mode=Z6;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){r.msg="incorrect header check",t.mode=an;break}if((h&15)!==$6){r.msg="unknown compression method",t.mode=an;break}if(h>>>=4,m-=4,H=(h&15)+8,t.wbits===0&&(t.wbits=H),H>15||H>t.wbits){r.msg="invalid window size",t.mode=an;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=h&512?iw:yo,h=0,m=0;break;case Z6:for(;m<16;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}if(t.flags=h,(t.flags&255)!==$6){r.msg="unknown compression method",t.mode=an;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=an;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,t.check=Ti(t.check,q,2,0)),h=0,m=0,t.mode=Q6;case Q6:for(;m<32;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,q[2]=h>>>16&255,q[3]=h>>>24&255,t.check=Ti(t.check,q,4,0)),h=0,m=0,t.mode=X6;case X6:for(;m<16;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,t.check=Ti(t.check,q,2,0)),h=0,m=0,t.mode=J6;case J6:if(t.flags&1024){for(;m<16;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,t.check=Ti(t.check,q,2,0)),h=0,m=0}else t.head&&(t.head.extra=null);t.mode=ew;case ew:if(t.flags&1024&&(C=t.length,C>u&&(C=u),C&&(t.head&&(H=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(a,a+C),H)),t.flags&512&&t.wrap&4&&(t.check=Ti(t.check,n,C,a)),u-=C,a+=C,t.length-=C),t.length))break e;t.length=0,t.mode=tw;case tw:if(t.flags&2048){if(u===0)break e;C=0;do H=n[a+C++],t.head&&H&&t.length<65536&&(t.head.name+=String.fromCharCode(H));while(H&&C<u);if(t.flags&512&&t.wrap&4&&(t.check=Ti(t.check,n,C,a)),u-=C,a+=C,H)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=nw;case nw:if(t.flags&4096){if(u===0)break e;C=0;do H=n[a+C++],t.head&&H&&t.length<65536&&(t.head.comment+=String.fromCharCode(H));while(H&&C<u);if(t.flags&512&&t.wrap&4&&(t.check=Ti(t.check,n,C,a)),u-=C,a+=C,H)break e}else t.head&&(t.head.comment=null);t.mode=rw;case rw:if(t.flags&512){for(;m<16;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}if(t.wrap&4&&h!==(t.check&65535)){r.msg="header crc mismatch",t.mode=an;break}h=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=yo;break;case iw:for(;m<32;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}r.adler=t.check=mw(h),h=0,m=0,t.mode=Xx;case Xx:if(t.havedict===0)return r.next_out=l,r.avail_out=f,r.next_in=a,r.avail_in=u,t.hold=h,t.bits=m,ij;r.adler=t.check=1,t.mode=yo;case yo:if(e===nj||e===Hd)break e;case p1:if(t.last){h>>>=m&7,m-=m&7,t.mode=m1;break}for(;m<3;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}switch(t.last=h&1,h>>>=1,m-=1,h&3){case 0:t.mode=ow;break;case 1:if(xj(t),t.mode=Wd,e===Hd){h>>>=2,m-=2;break e}break;case 2:t.mode=aw;break;case 3:r.msg="invalid block type",t.mode=an}h>>>=2,m-=2;break;case ow:for(h>>>=m&7,m-=m&7;m<32;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}if((h&65535)!==(h>>>16^65535)){r.msg="invalid stored block lengths",t.mode=an;break}if(t.length=h&65535,h=0,m=0,t.mode=g1,e===Hd)break e;case g1:t.mode=sw;case sw:if(C=t.length,C){if(C>u&&(C=u),C>f&&(C=f),C===0)break e;s.set(n.subarray(a,a+C),l),u-=C,a+=C,f-=C,l+=C,t.length-=C;break}t.mode=yo;break;case aw:for(;m<14;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}if(t.nlen=(h&31)+257,h>>>=5,m-=5,t.ndist=(h&31)+1,h>>>=5,m-=5,t.ncode=(h&15)+4,h>>>=4,m-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=an;break}t.have=0,t.mode=lw;case lw:for(;t.have<t.ncode;){for(;m<3;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}t.lens[$[t.have++]]=h&7,h>>>=3,m-=3}for(;t.have<19;)t.lens[$[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Z={bits:t.lenbits},J=M0(tj,t.lens,0,19,t.lencode,0,t.work,Z),t.lenbits=Z.bits,J){r.msg="invalid code lengths set",t.mode=an;break}t.have=0,t.mode=cw;case cw:for(;t.have<t.nlen+t.ndist;){for(;D=t.lencode[h&(1<<t.lenbits)-1],M=D>>>24,N=D>>>16&255,F=D&65535,!(M<=m);){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}if(F<16)h>>>=M,m-=M,t.lens[t.have++]=F;else{if(F===16){for(Q=M+2;m<Q;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}if(h>>>=M,m-=M,t.have===0){r.msg="invalid bit length repeat",t.mode=an;break}H=t.lens[t.have-1],C=3+(h&3),h>>>=2,m-=2}else if(F===17){for(Q=M+3;m<Q;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}h>>>=M,m-=M,H=0,C=3+(h&7),h>>>=3,m-=3}else{for(Q=M+7;m<Q;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}h>>>=M,m-=M,H=0,C=11+(h&127),h>>>=7,m-=7}if(t.have+C>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=an;break}for(;C--;)t.lens[t.have++]=H}}if(t.mode===an)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=an;break}if(t.lenbits=9,Z={bits:t.lenbits},J=M0(zC,t.lens,0,t.nlen,t.lencode,0,t.work,Z),t.lenbits=Z.bits,J){r.msg="invalid literal/lengths set",t.mode=an;break}if(t.distbits=6,t.distcode=t.distdyn,Z={bits:t.distbits},J=M0(UC,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Z),t.distbits=Z.bits,J){r.msg="invalid distances set",t.mode=an;break}if(t.mode=Wd,e===Hd)break e;case Wd:t.mode=qd;case qd:if(u>=6&&f>=258){r.next_out=l,r.avail_out=f,r.next_in=a,r.avail_in=u,t.hold=h,t.bits=m,$O(r,S),l=r.next_out,s=r.output,f=r.avail_out,a=r.next_in,n=r.input,u=r.avail_in,h=t.hold,m=t.bits,t.mode===yo&&(t.back=-1);break}for(t.back=0;D=t.lencode[h&(1<<t.lenbits)-1],M=D>>>24,N=D>>>16&255,F=D&65535,!(M<=m);){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}if(N&&(N&240)===0){for(P=M,K=N,V=F;D=t.lencode[V+((h&(1<<P+K)-1)>>P)],M=D>>>24,N=D>>>16&255,F=D&65535,!(P+M<=m);){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}h>>>=P,m-=P,t.back+=P}if(h>>>=M,m-=M,t.back+=M,t.length=F,N===0){t.mode=hw;break}if(N&32){t.back=-1,t.mode=yo;break}if(N&64){r.msg="invalid literal/length code",t.mode=an;break}t.extra=N&15,t.mode=uw;case uw:if(t.extra){for(Q=t.extra;m<Q;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=dw;case dw:for(;D=t.distcode[h&(1<<t.distbits)-1],M=D>>>24,N=D>>>16&255,F=D&65535,!(M<=m);){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}if((N&240)===0){for(P=M,K=N,V=F;D=t.distcode[V+((h&(1<<P+K)-1)>>P)],M=D>>>24,N=D>>>16&255,F=D&65535,!(P+M<=m);){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}h>>>=P,m-=P,t.back+=P}if(h>>>=M,m-=M,t.back+=M,N&64){r.msg="invalid distance code",t.mode=an;break}t.offset=F,t.extra=N&15,t.mode=xw;case xw:if(t.extra){for(Q=t.extra;m<Q;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=an;break}t.mode=fw;case fw:if(f===0)break e;if(C=S-f,t.offset>C){if(C=t.offset-C,C>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=an;break}C>t.wnext?(C-=t.wnext,v=t.wsize-C):v=t.wnext-C,C>t.length&&(C=t.length),R=t.window}else R=s,v=l-t.offset,C=t.length;C>f&&(C=f),f-=C,t.length-=C;do s[l++]=R[v++];while(--C);t.length===0&&(t.mode=qd);break;case hw:if(f===0)break e;s[l++]=t.length,f--,t.mode=qd;break;case m1:if(t.wrap){for(;m<32;){if(u===0)break e;u--,h|=n[a++]<<m,m+=8}if(S-=f,r.total_out+=S,t.total+=S,t.wrap&4&&S&&(r.adler=t.check=t.flags?Ti(t.check,s,S,l-S):xm(t.check,s,S,l-S)),S=f,t.wrap&4&&(t.flags?h:mw(h))!==t.check){r.msg="incorrect data check",t.mode=an;break}h=0,m=0}t.mode=pw;case pw:if(t.wrap&&t.flags){for(;m<32;){if(u===0)break e;u--,h+=n[a++]<<m,m+=8}if(t.wrap&4&&h!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=an;break}h=0,m=0}t.mode=gw;case gw:J=rj;break e;case an:J=HC;break e;case qC:return WC;case KC:default:return ti}return r.next_out=l,r.avail_out=f,r.next_in=a,r.avail_in=u,t.hold=h,t.bits=m,(t.wsize||S!==r.avail_out&&t.mode<an&&(t.mode<m1||e!==Y6))&&ZC(r,r.output,r.next_out,S-r.avail_out),E-=r.avail_in,S-=r.avail_out,r.total_in+=E,r.total_out+=S,t.total+=S,t.wrap&4&&S&&(r.adler=t.check=t.flags?Ti(t.check,s,S,r.next_out-S):xm(t.check,s,S,r.next_out-S)),r.data_type=t.bits+(t.last?64:0)+(t.mode===yo?128:0)+(t.mode===Wd||t.mode===g1?256:0),(E===0&&S===0||e===Y6)&&J===Ia&&(J=oj),J},hj=r=>{if(Ua(r))return ti;let e=r.state;return e.window&&(e.window=null),r.state=null,Ia},pj=(r,e)=>{if(Ua(r))return ti;const t=r.state;return(t.wrap&2)===0?ti:(t.head=e,e.done=!1,Ia)},gj=(r,e)=>{const t=e.length;let n,s,a;return Ua(r)||(n=r.state,n.wrap!==0&&n.mode!==Xx)?ti:n.mode===Xx&&(s=1,s=xm(s,e,t,0),s!==n.check)?HC:(a=ZC(r,e,t,t),a?(n.mode=qC,WC):(n.havedict=1,Ia))};var mj=GC,yj=YC,Ej=VC,bj=dj,wj=$C,Aj=fj,Cj=hj,vj=pj,Bj=gj,Sj="pako inflate (from Nodeca project)",vo={inflateReset:mj,inflateReset2:yj,inflateResetKeep:Ej,inflateInit:bj,inflateInit2:wj,inflate:Aj,inflateEnd:Cj,inflateGetHeader:vj,inflateSetDictionary:Bj,inflateInfo:Sj};function _j(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Dj=_j;const QC=Object.prototype.toString,{Z_NO_FLUSH:Rj,Z_FINISH:kj,Z_OK:Y0,Z_STREAM_END:b1,Z_NEED_DICT:w1,Z_STREAM_ERROR:Fj,Z_DATA_ERROR:Ew,Z_MEM_ERROR:Tj}=jC;function Tf(r){this.options=LC.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new GO,this.strm.avail_out=0;let t=vo.inflateInit2(this.strm,e.windowBits);if(t!==Y0)throw new Error(fm[t]);if(this.header=new Dj,vo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=hm.string2buf(e.dictionary):QC.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=vo.inflateSetDictionary(this.strm,e.dictionary),t!==Y0)))throw new Error(fm[t])}Tf.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let a,l,u;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?kj:Rj,QC.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),a=vo.inflate(t,l),a===w1&&s&&(a=vo.inflateSetDictionary(t,s),a===Y0?a=vo.inflate(t,l):a===Ew&&(a=w1));t.avail_in>0&&a===b1&&t.state.wrap>0&&r[t.next_in]!==0;)vo.inflateReset(t),a=vo.inflate(t,l);switch(a){case Fj:case Ew:case w1:case Tj:return this.onEnd(a),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||a===b1))if(this.options.to==="string"){let f=hm.utf8border(t.output,t.next_out),h=t.next_out-f,m=hm.buf2string(t.output,f);t.next_out=h,t.avail_out=n-h,h&&t.output.set(t.output.subarray(f,f+h),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Y0&&u===0)){if(a===b1)return a=vo.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Tf.prototype.onData=function(r){this.chunks.push(r)};Tf.prototype.onEnd=function(r){r===Y0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=LC.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function Nj(r,e){const t=new Tf(e);if(t.push(r),t.err)throw t.msg||fm[t.err];return t.result}var Ij=Nj,Mj={inflate:Ij};const{inflate:Oj}=Mj;var jj=Oj,A1={exports:{}},bw;function Lj(){return bw||(bw=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function s(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function a(f,h,m,E,S){if(typeof m!="function")throw new TypeError("The listener must be a function");var C=new s(m,E||f,S),v=t?t+h:h;return f._events[v]?f._events[v].fn?f._events[v]=[f._events[v],C]:f._events[v].push(C):(f._events[v]=C,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,E;if(this._eventsCount===0)return h;for(E in m=this._events)e.call(m,E)&&h.push(t?E.slice(1):E);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=t?t+h:h,E=this._events[m];if(!E)return[];if(E.fn)return[E.fn];for(var S=0,C=E.length,v=new Array(C);S<C;S++)v[S]=E[S].fn;return v},u.prototype.listenerCount=function(h){var m=t?t+h:h,E=this._events[m];return E?E.fn?1:E.length:0},u.prototype.emit=function(h,m,E,S,C,v){var R=t?t+h:h;if(!this._events[R])return!1;var D=this._events[R],M=arguments.length,N,F;if(D.fn){switch(D.once&&this.removeListener(h,D.fn,void 0,!0),M){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,m),!0;case 3:return D.fn.call(D.context,m,E),!0;case 4:return D.fn.call(D.context,m,E,S),!0;case 5:return D.fn.call(D.context,m,E,S,C),!0;case 6:return D.fn.call(D.context,m,E,S,C,v),!0}for(F=1,N=new Array(M-1);F<M;F++)N[F-1]=arguments[F];D.fn.apply(D.context,N)}else{var P=D.length,K;for(F=0;F<P;F++)switch(D[F].once&&this.removeListener(h,D[F].fn,void 0,!0),M){case 1:D[F].fn.call(D[F].context);break;case 2:D[F].fn.call(D[F].context,m);break;case 3:D[F].fn.call(D[F].context,m,E);break;case 4:D[F].fn.call(D[F].context,m,E,S);break;default:if(!N)for(K=1,N=new Array(M-1);K<M;K++)N[K-1]=arguments[K];D[F].fn.apply(D[F].context,N)}}return!0},u.prototype.on=function(h,m,E){return a(this,h,m,E,!1)},u.prototype.once=function(h,m,E){return a(this,h,m,E,!0)},u.prototype.removeListener=function(h,m,E,S){var C=t?t+h:h;if(!this._events[C])return this;if(!m)return l(this,C),this;var v=this._events[C];if(v.fn)v.fn===m&&(!S||v.once)&&(!E||v.context===E)&&l(this,C);else{for(var R=0,D=[],M=v.length;R<M;R++)(v[R].fn!==m||S&&!v[R].once||E&&v[R].context!==E)&&D.push(v[R]);D.length?this._events[C]=D.length===1?D[0]:D:l(this,C)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=t?t+h:h,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,r.exports=u})(A1)),A1.exports}var Pj=Lj();const zj=ri(Pj);function Uj(r,e){return Array.apply(0,new Array(Math.ceil(r.length/e))).map((t,n)=>r.slice(n*e,(n+1)*e))}const Xs=r=>"version"in r;function Hj(r){return new TextDecoder("utf-8").decode(r)}function ww(r){return wy.encode(r)}function XC(r){return je.Buffer.from(r,"base64")}function vs(r){return"accounts"in r}async function Wj(r){const e=(await ve.findProgramAddress([],r))[0];return await ve.createWithSeed(e,qj(),r)}function qj(){return"anchor:idl"}const Kj=at.struct([at.publicKey("authority"),at.vecU8("data")]);function Vj(r){return Kj.decode(r)}function Gj(r){const e=["name","path","account","relations","generic"],t=a=>a.split(".").map(l=>wO(l,{locale:!1})).join("."),n=a=>{for(const l in a){const u=a[l];e.includes(l)?a[l]=Array.isArray(u)?u.map(t):t(u):typeof u=="object"&&n(u)}},s=structuredClone(r);return n(s),s}function ql(r,e,t,n){return r?.length?r[0].name?t(r):n(r):e()}function Yj(r){const e=new Map;return r.errors&&r.errors.forEach(t=>{var n;let s=(n=t.msg)!==null&&n!==void 0?n:t.name;e.set(t.code,s)}),e}function $j(r,...e){if(r.args.length!=e.length)throw new Error("Invalid argument length");const t={};let n=0;return r.args.forEach(s=>{t[s.name]=e[n],n+=1}),t}function JC(r,e={}){r.forEach(t=>{if(vs(t))JC(t.accounts,e[t.name]);else if(!e[t.name])throw new Error(`Account \`${t.name}\` not provided.`)})}function hi(r){return r instanceof ve?r:new ve(r)}class Zj extends TypeError{constructor(e,t){let n;const{message:s,...a}=e,{path:l}=e,u=l.length===0?s:"At path: "+l.join(".")+" -- "+s;super(u),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var f;return(f=n)!=null?f:n=[e,...t()]}}}function Qj(r){return Ql(r)&&typeof r[Symbol.iterator]=="function"}function Ql(r){return typeof r=="object"&&r!=null}function Ts(r){return typeof r=="string"?JSON.stringify(r):""+r}function Xj(r){const{done:e,value:t}=r.next();return e?void 0:t}function Jj(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:a}=e,{type:l}=t,{refinement:u,message:f="Expected a value of type `"+l+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+Ts(n)+"`"}=r;return{value:n,type:l,refinement:u,key:s[s.length-1],path:s,branch:a,...r,message:f}}function*Aw(r,e,t,n){Qj(r)||(r=[r]);for(const s of r){const a=Jj(s,e,t,n);a&&(yield a)}}function*Ay(r,e,t){t===void 0&&(t={});const{path:n=[],branch:s=[r],coerce:a=!1,mask:l=!1}=t,u={path:n,branch:s};if(a&&(r=e.coercer(r,u),l&&e.type!=="type"&&Ql(e.schema)&&Ql(r)&&!Array.isArray(r)))for(const h in r)e.schema[h]===void 0&&delete r[h];let f=!0;for(const h of e.validator(r,u))f=!1,yield[h,void 0];for(let[h,m,E]of e.entries(r,u)){const S=Ay(m,E,{path:h===void 0?n:[...n,h],branch:h===void 0?s:[...s,m],coerce:a,mask:l});for(const C of S)C[0]?(f=!1,yield[C[0],void 0]):a&&(m=C[1],h===void 0?r=m:r instanceof Map?r.set(h,m):r instanceof Set?r.add(m):Ql(r)&&(r[h]=m))}if(f)for(const h of e.refiner(r,u))f=!1,yield[h,void 0];f&&(yield[void 0,r])}class Ns{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:n,validator:s,refiner:a,coercer:l=f=>f,entries:u=function*(){}}=e;this.type=t,this.schema=n,this.entries=u,this.coercer=l,s?this.validator=(f,h)=>{const m=s(f,h);return Aw(m,h,this,f)}:this.validator=()=>[],a?this.refiner=(f,h)=>{const m=a(f,h);return Aw(m,h,this,f)}:this.refiner=()=>[]}assert(e){return eL(e,this)}create(e){return Cy(e,this)}is(e){return ev(e,this)}mask(e){return tL(e,this)}validate(e,t){return t===void 0&&(t={}),cu(e,this,t)}}function eL(r,e){const t=cu(r,e);if(t[0])throw t[0]}function Cy(r,e){const t=cu(r,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function tL(r,e){const t=cu(r,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function ev(r,e){return!cu(r,e)[0]}function cu(r,e,t){t===void 0&&(t={});const n=Ay(r,e,t),s=Xj(n);return s[0]?[new Zj(s[0],function*(){for(const l of n)l[0]&&(yield l[0])}),void 0]:[void 0,s[1]]}function uu(r,e){return new Ns({type:r,schema:null,validator:e})}function nL(){return uu("any",()=>!0)}function C1(r){return new Ns({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Ts(e)}})}function rL(){return uu("boolean",r=>typeof r=="boolean")}function Cw(r){const e=Ts(r);return new Ns({type:"literal",schema:r,validator(t){return t===r||"Expected the literal `"+e+"`, but received: "+Ts(t)}})}function Kd(r){return new Ns({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function Fx(){return uu("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+Ts(r))}function Tx(r){return new Ns({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function Aa(){return uu("string",r=>typeof r=="string"||"Expected a string, but received: "+Ts(r))}function Ds(r){const e=Object.keys(r);return new Ns({type:"type",schema:r,*entries(t){if(Ql(t))for(const n of e)yield[n,t[n],r[n]]},validator(t){return Ql(t)||"Expected an object, but received: "+Ts(t)}})}function tv(r){const e=r.map(t=>t.type).join(" | ");return new Ns({type:"union",schema:null,coercer(t,n){return(r.find(a=>{const[l]=a.validate(t,{coerce:!0});return!l})||vy()).coercer(t,n)},validator(t,n){const s=[];for(const a of r){const[...l]=Ay(t,a,n),[u]=l;if(u[0])for(const[f]of l)f&&s.push(f);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Ts(t),...s]}})}function vy(){return uu("unknown",()=>!0)}function iL(r,e,t){return new Ns({...r,coercer:(n,s)=>ev(n,e)?r.coercer(t(n,s),s):r.coercer(n,s)})}const vw=99;async function oL(r,e,t){if(e.length<=vw)return await Bw(r,e,t);{const n=Uj(e,vw);return(await Promise.all(n.map(a=>Bw(r,a,t)))).flat()}}async function Bw(r,e,t){const n=t??r.commitment,{value:s,context:a}=await r.getMultipleAccountsInfoAndContext(e,n);return s.map((u,f)=>u===null?null:{publicKey:e[f],account:u,context:a})}async function sL(r,e,t,n,s){var a;t&&t.length>0&&e.sign(...t);const l=e._compile(),u=l.serialize(),h=e._serialize(u).toString("base64"),m={encoding:"base64",commitment:n??r.commitment};if(s){const v=(Array.isArray(s)?s:l.nonProgramIds()).map(R=>R.toBase58());m.accounts={encoding:"base64",addresses:v}}t&&t.length>0&&(m.sigVerify=!0);const E=[h,m],S=await r._rpcRequest("simulateTransaction",E),C=Cy(S,uL);if("error"in C){let v;if("data"in C.error&&(v=(a=C.error.data)===null||a===void 0?void 0:a.logs,v&&Array.isArray(v))){const R=`
    `,D=R+v.join(R);console.error(C.error.message,D)}throw new Fs("failed to simulate transaction: "+C.error.message,v)}return C.result}function aL(r){return iL(nv(r),lL,e=>"error"in e?e:{...e,result:Cy(e.result,r)})}const lL=nv(vy());function nv(r){return tv([Ds({jsonrpc:Cw("2.0"),id:Aa(),result:r}),Ds({jsonrpc:Cw("2.0"),id:Aa(),error:Ds({code:vy(),message:Aa(),data:Tx(nL())})})])}function cL(r){return aL(Ds({context:Ds({slot:Fx()}),value:r}))}const uL=cL(Ds({err:Kd(tv([Ds({}),Aa()])),logs:Kd(C1(Aa())),accounts:Tx(Kd(C1(Kd(Ds({executable:rL(),owner:Aa(),lamports:Fx(),data:C1(Aa()),rentEpoch:Tx(Fx())}))))),unitsConsumed:Tx(Fx())}));class $0{constructor(e,t,n=$0.defaultOptions()){this.connection=e,this.wallet=t,this.opts=n,this.publicKey=t?.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t=$0.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,n){var s,a,l,u;if(n===void 0&&(n=this.opts),Xs(e))t&&e.sign(t);else if(e.feePayer=(s=e.feePayer)!==null&&s!==void 0?s:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,t)for(const h of t)e.partialSign(h);e=await this.wallet.signTransaction(e);const f=e.serialize();try{return await Sw(this.connection,f,n)}catch(h){if(h instanceof pm){const m=ww(Xs(e)?((a=e.signatures)===null||a===void 0?void 0:a[0])||new Uint8Array:(l=e.signature)!==null&&l!==void 0?l:new Uint8Array),E=Xs(e)?0:void 0,S=await this.connection.getTransaction(m,{commitment:"confirmed",maxSupportedTransactionVersion:E});if(S){const C=(u=S.meta)===null||u===void 0?void 0:u.logMessages;throw C?new Fs(h.message,C):h}else throw h}else throw h}}async sendAll(e,t){var n,s,a;t===void 0&&(t=this.opts);const l=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let u=e.map(m=>{var E,S;if(Xs(m.tx)){let C=m.tx;return m.signers&&C.sign(m.signers),C}else{let C=m.tx,v=(E=m.signers)!==null&&E!==void 0?E:[];return C.feePayer=(S=C.feePayer)!==null&&S!==void 0?S:this.wallet.publicKey,C.recentBlockhash=l,v.forEach(R=>{C.partialSign(R)}),C}});const f=await this.wallet.signAllTransactions(u),h=[];for(let m=0;m<u.length;m+=1){const E=f[m],S=E.serialize();try{h.push(await Sw(this.connection,S,t))}catch(C){if(C instanceof pm){const v=ww(Xs(E)?((n=E.signatures)===null||n===void 0?void 0:n[0])||new Uint8Array:(s=E.signature)!==null&&s!==void 0?s:new Uint8Array),R=Xs(E)?0:void 0,D=await this.connection.getTransaction(v,{commitment:"confirmed",maxSupportedTransactionVersion:R});if(D){const M=(a=D.meta)===null||a===void 0?void 0:a.logMessages;throw M?new Fs(C.message,M):C}else throw C}else throw C}}return h}async simulate(e,t,n,s){let a=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,l;if(Xs(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),l=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=a,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),l=await sL(this.connection,e,t,n,s)),l.value.err)throw new dL(l.value);return l.value}}class dL extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function Sw(r,e,t){const n=t?{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment,maxRetries:t.maxRetries,minContextSlot:t.minContextSlot}:{};let s;const a=Date.now();for(;Date.now()-a<6e4;)try{const l=await r.sendRawTransaction(e,n);if(t?.blockhash)if(n.maxRetries===0){const u=AbortSignal.timeout(15e3);s=(await r.confirmTransaction({abortSignal:u,signature:l,...t.blockhash},t&&t.commitment)).value}else s=(await r.confirmTransaction({signature:l,...t.blockhash},t&&t.commitment)).value;else s=(await r.confirmTransaction(l,t&&t.commitment)).value;if(s.err)throw new pm(`Raw transaction ${l} failed (${JSON.stringify(s)})`);return l}catch(l){if(l.name==="TimeoutError")continue;throw l}throw Error("Transaction failed to confirm in 60s")}class pm extends Error{constructor(e){super(e)}}function gm(){return $0.local()}var xL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe={};Object.defineProperty(fe,"__esModule",{value:!0});var rv=fe.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=Jv=fe.ANCHOR_ERROR__REQUIRE_VIOLATED=Xv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=Qv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=Zv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=$v=fe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=Yv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Gv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Vv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Kv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=qv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=Wv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=Hv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=Uv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=zv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=Pv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=Lv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=jv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=Ov=fe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=Mv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Iv=fe.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Nv=fe.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=Tv=fe.ANCHOR_ERROR__CONSTRAINT_SPACE=Fv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=kv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=Rv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=Dv=fe.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=_v=fe.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Sv=fe.ANCHOR_ERROR__CONSTRAINT_ZERO=Bv=fe.ANCHOR_ERROR__CONSTRAINT_ADDRESS=vv=fe.ANCHOR_ERROR__CONSTRAINT_CLOSE=Cv=fe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=Av=fe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=wv=fe.ANCHOR_ERROR__CONSTRAINT_STATE=bv=fe.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=Ev=fe.ANCHOR_ERROR__CONSTRAINT_SEEDS=yv=fe.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=mv=fe.ANCHOR_ERROR__CONSTRAINT_OWNER=gv=fe.ANCHOR_ERROR__CONSTRAINT_RAW=pv=fe.ANCHOR_ERROR__CONSTRAINT_SIGNER=hv=fe.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=fv=fe.ANCHOR_ERROR__CONSTRAINT_MUT=xv=fe.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=dv=fe.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=uv=fe.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=cv=fe.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=lv=fe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=av=fe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=sv=fe.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=ov=fe.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,iv=fe.ANCHOR_ERROR__DEPRECATED=B4=fe.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=v4=fe.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=C4=fe.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=A4=fe.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=w4=fe.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=b4=fe.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=E4=fe.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=y4=fe.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=m4=fe.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=g4=fe.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=p4=fe.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=h4=fe.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=f4=fe.ANCHOR_ERROR__INVALID_PROGRAM_ID=x4=fe.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=d4=fe.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=u4=fe.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=c4=fe.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=l4=fe.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=a4=fe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=s4=fe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=o4=fe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=i4=fe.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=r4=fe.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=n4=fe.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=t4=fe.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=e4=fe.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,ov=fe.ANCHOR_ERROR__INSTRUCTION_MISSING=100,sv=fe.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,av=fe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,lv=fe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,cv=fe.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,uv=fe.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,dv=fe.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,xv=fe.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,fv=fe.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,hv=fe.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,pv=fe.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,gv=fe.ANCHOR_ERROR__CONSTRAINT_RAW=2003,mv=fe.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,yv=fe.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Ev=fe.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,bv=fe.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,wv=fe.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Av=fe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,Cv=fe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,vv=fe.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Bv=fe.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Sv=fe.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,_v=fe.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,Dv=fe.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,Rv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,kv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Fv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Tv=fe.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Nv=fe.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Iv=fe.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,Mv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,Ov=fe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,jv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,Lv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,Pv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,zv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,Uv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,Hv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,Wv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,qv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,Kv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,Vv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Gv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,Yv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,$v=fe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,Zv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,Qv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,Xv=fe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,Jv=fe.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;rv=fe.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var e4=fe.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,t4=fe.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,n4=fe.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,r4=fe.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,i4=fe.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,o4=fe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,s4=fe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,a4=fe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,l4=fe.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,c4=fe.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,u4=fe.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,d4=fe.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,x4=fe.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,f4=fe.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,h4=fe.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,p4=fe.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,g4=fe.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,m4=fe.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,y4=fe.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,E4=fe.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,b4=fe.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,w4=fe.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,A4=fe.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,C4=fe.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,v4=fe.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,B4=fe.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;iv=fe.ANCHOR_ERROR__DEPRECATED=5e3;const fL=new Map;function S4(r){return fL.get(r)!==void 0}class ws extends Error{constructor(e){super(e),this.name="IdlError"}}class du{constructor(e){this.stack=e}static parse(e){var t;const n=/^Program (\w*) invoke/,s=/^Program \w* success/,a=[];for(let l=0;l<e.length;l++){if(s.exec(e[l])){a.pop();continue}const u=(t=n.exec(e[l]))===null||t===void 0?void 0:t[1];u&&a.push(new ve(u))}return new du(a)}}class O0 extends Error{constructor(e,t,n,s,a,l){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=s,this.error={errorCode:e,errorMessage:t,comparedValues:l,origin:a},this._programErrorStack=du.parse(s)}static parse(e){if(!e)return null;const t=e.findIndex(S=>S.startsWith("Program log: AnchorError"));if(t===-1)return null;const n=e[t],s=[n];let a;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const S=/^Program log: (.*)$/,C=S.exec(e[t+2])[1],v=S.exec(e[t+4])[1];a=[new ve(C),new ve(v)],s.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const S=/^Program log: (Left|Right): (.*)$/,C=S.exec(e[t+1])[2],v=S.exec(e[t+2])[2];s.push(...e.slice(t+1,t+3)),a=[C,v]}}const u=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),h=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),E=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(u){const[S,C,v]=u.slice(1,4),R={code:S,number:parseInt(C)};return new O0(R,v,s,e,void 0,a)}else if(h){const[S,C,v,R,D]=h.slice(1,6),M={code:v,number:parseInt(R)},N={file:S,line:parseInt(C)};return new O0(M,D,s,e,N,a)}else if(E){const[S,C,v,R]=E.slice(1,5),D=S,M={code:C,number:parseInt(v)};return new O0(M,R,s,e,D,a)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Jx extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=du.parse(n))}static parse(e,t){const n=e.toString();let s;if(n.includes("custom program error:")){let u=n.split("custom program error: ");if(u.length!==2)return null;s=u[1]}else{const u=n.match(/"Custom":([0-9]+)}/g);if(!u||u.length>1)return null;s=u[0].match(/([0-9]+)/g)[0]}let a;try{a=parseInt(s)}catch{return null}let l=t.get(a);return l!==void 0?new Jx(a,l,e.logs):(l=hL.get(a),l!==void 0?new Jx(a,l,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function _4(r,e){S4("debug-logs")&&console.log("Translating error:",r);const t=O0.parse(r.logs);if(t)return t;const n=Jx.parse(r,e);if(n)return n;if(r.logs){const s={get:function(a,l){return l==="programErrorStack"?a.programErrorStack.stack:l==="program"?a.programErrorStack.stack[r.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return r.programErrorStack=du.parse(r.logs),new Proxy(r,s)}return r}const Te={InstructionMissing:ov,InstructionFallbackNotFound:sv,InstructionDidNotDeserialize:av,InstructionDidNotSerialize:lv,IdlInstructionStub:cv,IdlInstructionInvalidProgram:uv,IdlAccountNotEmpty:dv,EventInstructionStub:xv,ConstraintMut:fv,ConstraintHasOne:hv,ConstraintSigner:pv,ConstraintRaw:gv,ConstraintOwner:mv,ConstraintRentExempt:yv,ConstraintSeeds:Ev,ConstraintExecutable:bv,ConstraintState:wv,ConstraintAssociated:Av,ConstraintAssociatedInit:Cv,ConstraintClose:vv,ConstraintAddress:Bv,ConstraintZero:Sv,ConstraintTokenMint:_v,ConstraintTokenOwner:Dv,ConstraintMintMintAuthority:Rv,ConstraintMintFreezeAuthority:kv,ConstraintMintDecimals:Fv,ConstraintSpace:Tv,ConstraintAccountIsNone:Nv,ConstraintTokenTokenProgram:Iv,ConstraintMintTokenProgram:Mv,ConstraintAssociatedTokenTokenProgram:Ov,ConstraintMintGroupPointerExtension:jv,ConstraintMintGroupPointerExtensionAuthority:Lv,ConstraintMintGroupPointerExtensionGroupAddress:Pv,ConstraintMintGroupMemberPointerExtension:zv,ConstraintMintGroupMemberPointerExtensionAuthority:Uv,ConstraintMintGroupMemberPointerExtensionMemberAddress:Hv,ConstraintMintMetadataPointerExtension:Wv,ConstraintMintMetadataPointerExtensionAuthority:qv,ConstraintMintMetadataPointerExtensionMetadataAddress:Kv,ConstraintMintCloseAuthorityExtension:Vv,ConstraintMintCloseAuthorityExtensionAuthority:Gv,ConstraintMintPermanentDelegateExtension:Yv,ConstraintMintPermanentDelegateExtensionDelegate:$v,ConstraintMintTransferHookExtension:Zv,ConstraintMintTransferHookExtensionAuthority:Qv,ConstraintMintTransferHookExtensionProgramId:Xv,RequireViolated:Jv,RequireEqViolated:rv,RequireKeysEqViolated:e4,RequireNeqViolated:t4,RequireKeysNeqViolated:n4,RequireGtViolated:r4,RequireGteViolated:i4,AccountDiscriminatorAlreadySet:o4,AccountDiscriminatorNotFound:s4,AccountDiscriminatorMismatch:a4,AccountDidNotDeserialize:l4,AccountDidNotSerialize:c4,AccountNotEnoughKeys:u4,AccountNotMutable:d4,AccountOwnedByWrongProgram:x4,InvalidProgramId:f4,InvalidProgramExecutable:h4,AccountNotSigner:p4,AccountNotSystemOwned:g4,AccountNotInitialized:m4,AccountNotProgramData:y4,AccountNotAssociatedTokenAccount:E4,AccountSysvarMismatch:b4,AccountReallocExceedsLimit:w4,AccountDuplicateReallocs:A4,DeclaredProgramIdMismatch:C4,TryingToInitPayerAsProgramAccount:v4,InvalidNumericConversion:B4,Deprecated:iv},hL=new Map([[Te.InstructionMissing,"Instruction discriminator not provided"],[Te.InstructionFallbackNotFound,"Fallback functions are not supported"],[Te.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Te.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Te.IdlInstructionStub,"The program was compiled without idl instructions"],[Te.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Te.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[Te.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[Te.ConstraintMut,"A mut constraint was violated"],[Te.ConstraintHasOne,"A has one constraint was violated"],[Te.ConstraintSigner,"A signer constraint was violated"],[Te.ConstraintRaw,"A raw constraint was violated"],[Te.ConstraintOwner,"An owner constraint was violated"],[Te.ConstraintRentExempt,"A rent exemption constraint was violated"],[Te.ConstraintSeeds,"A seeds constraint was violated"],[Te.ConstraintExecutable,"An executable constraint was violated"],[Te.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Te.ConstraintAssociated,"An associated constraint was violated"],[Te.ConstraintAssociatedInit,"An associated init constraint was violated"],[Te.ConstraintClose,"A close constraint was violated"],[Te.ConstraintAddress,"An address constraint was violated"],[Te.ConstraintZero,"Expected zero account discriminant"],[Te.ConstraintTokenMint,"A token mint constraint was violated"],[Te.ConstraintTokenOwner,"A token owner constraint was violated"],[Te.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Te.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Te.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Te.ConstraintSpace,"A space constraint was violated"],[Te.ConstraintAccountIsNone,"A required account for the constraint is None"],[Te.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[Te.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[Te.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[Te.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[Te.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[Te.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[Te.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[Te.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[Te.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[Te.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[Te.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[Te.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[Te.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[Te.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[Te.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[Te.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[Te.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[Te.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[Te.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[Te.RequireViolated,"A require expression was violated"],[Te.RequireEqViolated,"A require_eq expression was violated"],[Te.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Te.RequireNeqViolated,"A require_neq expression was violated"],[Te.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Te.RequireGtViolated,"A require_gt expression was violated"],[Te.RequireGteViolated,"A require_gte expression was violated"],[Te.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Te.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[Te.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[Te.AccountDidNotDeserialize,"Failed to deserialize the account"],[Te.AccountDidNotSerialize,"Failed to serialize the account"],[Te.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Te.AccountNotMutable,"The given account is not mutable"],[Te.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Te.InvalidProgramId,"Program ID was not as expected"],[Te.InvalidProgramExecutable,"Program account is not executable"],[Te.AccountNotSigner,"The given account did not sign"],[Te.AccountNotSystemOwned,"The given account is not owned by the system program"],[Te.AccountNotInitialized,"The program expected this account to be already initialized"],[Te.AccountNotProgramData,"The given account is not a program data account"],[Te.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Te.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Te.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Te.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Te.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Te.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[Te.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[Te.Deprecated,"The API being used is deprecated and should no longer be used"]]);class Bt{static fieldLayout(e,t=[],n){const s=e.name;switch(e.type){case"bool":return at.bool(s);case"u8":return at.u8(s);case"i8":return at.i8(s);case"u16":return at.u16(s);case"i16":return at.i16(s);case"u32":return at.u32(s);case"i32":return at.i32(s);case"f32":return at.f32(s);case"u64":return at.u64(s);case"i64":return at.i64(s);case"f64":return at.f64(s);case"u128":return at.u128(s);case"i128":return at.i128(s);case"u256":return at.u256(s);case"i256":return at.i256(s);case"bytes":return at.vecU8(s);case"string":return at.str(s);case"pubkey":return at.publicKey(s);default:{if("option"in e.type)return at.option(Bt.fieldLayout({type:e.type.option},t,n),s);if("vec"in e.type)return at.vec(Bt.fieldLayout({type:e.type.vec},t,n),s);if("array"in e.type){let[a,l]=e.type.array;return l=Bt.resolveArrayLen(l,n),at.array(Bt.fieldLayout({type:a},t,n),l,s)}if("defined"in e.type){if(!t)throw new ws("User defined types not provided");const a=e.type.defined.name,l=t.find(u=>u.name===a);if(!l)throw new ws(`Type not found: ${e.name}`);return Bt.typeDefLayout({typeDef:l,types:t,genericArgs:n??e.type.defined.generics,name:s})}if("generic"in e.type){const a=n?.at(0);if(a?.kind!=="type")throw new ws(`Invalid generic field: ${e.name}`);return Bt.fieldLayout({...e,type:a.type},t)}throw new ws(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:t,name:n,genericArgs:s}){switch(e.type.kind){case"struct":{const a=ql(e.type.fields,()=>[],l=>l.map(u=>{const f=s&&Bt.resolveGenericArgs({type:u.type,typeDef:e,genericArgs:s});return Bt.fieldLayout(u,t,f)}),l=>l.map((u,f)=>{const h=s&&Bt.resolveGenericArgs({type:u,typeDef:e,genericArgs:s});return Bt.fieldLayout({name:f.toString(),type:u},t,h)}));return at.struct(a,n)}case"enum":{const a=e.type.variants.map(l=>{const u=ql(l.fields,()=>[],f=>f.map(h=>{const m=s&&Bt.resolveGenericArgs({type:h.type,typeDef:e,genericArgs:s});return Bt.fieldLayout(h,t,m)}),f=>f.map((h,m)=>{const E=s&&Bt.resolveGenericArgs({type:h,typeDef:e,genericArgs:s});return Bt.fieldLayout({name:m.toString(),type:h},t,E)}));return at.struct(u,l.name)});return n!==void 0?at.rustEnum(a).replicate(n):at.rustEnum(a,n)}case"type":return Bt.fieldLayout({type:e.type.alias,name:n},t)}}static typeSize(e,t,n){var s;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Bt.typeSize(e.option,t,n);if("coption"in e)return 4+Bt.typeSize(e.coption,t,n);if("vec"in e)return 1;if("array"in e){let[a,l]=e.array;return l=Bt.resolveArrayLen(l,n),Bt.typeSize(a,t,n)*l}if("defined"in e){const a=(s=t.types)===null||s===void 0?void 0:s.find(u=>u.name===e.defined.name);if(!a)throw new ws(`Type not found: ${JSON.stringify(e)}`);const l=u=>{const f=n??e.defined.generics,h=f&&Bt.resolveGenericArgs({type:u,typeDef:a,genericArgs:f});return Bt.typeSize(u,t,h)};switch(a.type.kind){case"struct":return ql(a.type.fields,()=>[0],u=>u.map(f=>l(f.type)),u=>u.map(f=>l(f))).reduce((u,f)=>u+f,0);case"enum":{const u=a.type.variants.map(f=>ql(f.fields,()=>[0],h=>h.map(m=>l(m.type)),h=>h.map(m=>l(m))).reduce((h,m)=>h+m,0));return Math.max(...u)+1}case"type":return Bt.typeSize(a.type.alias,t,n)}}if("generic"in e){const a=n?.at(0);if(a?.kind!=="type")throw new ws(`Invalid generic: ${e.generic}`);return Bt.typeSize(a.type,t,n)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if(typeof e=="number")return e;if(t){const n=t.find(s=>s.kind==="const");n?.kind==="const"&&(e=+n.value)}if(typeof e!="number")throw new ws("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:n,isDefined:s}){if(typeof e!="object")return null;for(const a in t.generics){const l=t.generics[a];if("generic"in e&&l.name===e.generic)return[n[a]];if("option"in e){const u=Bt.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:n,isDefined:s});if(!u||!s)return u;if(u[0].kind==="type")return[{kind:"type",type:{option:u[0].type}}]}if("vec"in e){const u=Bt.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:n,isDefined:s});if(!u||!s)return u;if(u[0].kind==="type")return[{kind:"type",type:{vec:u[0].type}}]}if("array"in e){const[u,f]=e.array,h=typeof f=="object",m=Bt.resolveGenericArgs({type:u,typeDef:t,genericArgs:n,isDefined:s})||[];if(h){const E=t.generics.findIndex(S=>S.name===f.generic);E!==-1&&m.push(n[E])}if(m.length>0){if(!s)return m;if(m[0].kind==="type"&&m[1].kind==="const")return[{kind:"type",type:{array:[m[0].type,+m[1].value]}}]}if(h&&l.name===f.generic){const E=n[a];return s?[{kind:"type",type:{array:[u,+E.value]}}]:[E]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(u=>{switch(u.kind){case"type":return Bt.resolveGenericArgs({type:u.type,typeDef:t,genericArgs:n,isDefined:!0});case"const":return[u]}}).filter(u=>u!==null):null}return null}}class pL{constructor(e){this.idl=e;const t=e.instructions.map(n=>{const s=n.name,a=n.args.map(u=>Bt.fieldLayout(u,e.types)),l=at.struct(a,s);return[s,{discriminator:n.discriminator,layout:l}]});this.ixLayouts=new Map(t)}encode(e,t){const n=je.Buffer.alloc(1e3),s=this.ixLayouts.get(e);if(!s)throw new Error(`Unknown method: ${e}`);const a=s.layout.encode(t,n),l=n.slice(0,a);return je.Buffer.concat([je.Buffer.from(s.discriminator),l])}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?je.Buffer.from(e,"hex"):wy.decode(e));for(const[n,s]of this.ixLayouts){const a=e.subarray(0,s.discriminator.length);if(a.equals(je.Buffer.from(s.discriminator)))return{name:n,data:s.layout.decode(e.subarray(a.length))}}return null}format(e,t){return Lr.format(e,t,this.idl)}}class Lr{static format(e,t,n){const s=n.instructions.find(f=>e.name===f.name);if(!s)return console.error("Invalid instruction given"),null;const a=s.args.map(f=>({name:f.name,type:Lr.formatIdlType(f.type),data:Lr.formatIdlData(f,e.data[f.name],n.types)})),l=Lr.flattenIdlAccounts(s.accounts),u=t.map((f,h)=>h<l.length?{name:l[h].name,...f}:{name:void 0,...f});return{args:a,accounts:u}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const t=e.defined.name;if(e.defined.generics){const n=e.defined.generics.map(s=>{switch(s.kind){case"type":return Lr.formatIdlType(s.type);case"const":return s.value}}).join(", ");return`${t}<${n}>`}return t}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if(typeof e.type=="string")return t.toString();if("vec"in e.type)return"["+t.map(s=>this.formatIdlData({name:"",type:e.type.vec},s,n)).join(", ")+"]";if("option"in e.type)return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,n);if("defined"in e.type){if(!n)throw new Error("User defined types not provided");const s=e.type.defined.name,a=n.find(l=>l.name===s);if(!a)throw new Error(`Type not found: ${s}`);return Lr.formatIdlDataDefined(a,t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){switch(e.type.kind){case"struct":return"{ "+ql(e.type.fields,()=>"",s=>Object.entries(t).map(([a,l])=>{const u=s.find(f=>f.name===a);if(!u)throw new Error(`Field not found: ${a}`);return a+": "+Lr.formatIdlData(u,l,n)}).join(", "),s=>Object.entries(t).map(([a,l])=>a+": "+Lr.formatIdlData({name:"",type:s[a]},l,n)).join(", "))+" }";case"enum":{const s=Object.keys(t)[0],a=e.type.variants.find(u=>u.name===s);if(!a)throw new Error(`Unable to find variant: ${s}`);const l=t[s];return ql(a.fields,()=>s,u=>{const f=Object.keys(l).map(h=>{const m=l[h],E=u.find(S=>S.name===h);if(!E)throw new Error(`Field not found: ${h}`);return h+": "+Lr.formatIdlData(E,m,n)}).join(", ");return`${s} { ${f} }`},u=>{const f=Object.entries(l).map(([h,m])=>h+": "+Lr.formatIdlData({name:"",type:u[h]},m,n)).join(", ");return`${s} { ${f} }`})}case"type":return Lr.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map(n=>{const s=gL(n.name);if(n.hasOwnProperty("accounts")){const a=t?`${t} > ${s}`:s;return Lr.flattenIdlAccounts(n.accounts,a)}else return{...n,name:t?`${t} > ${s}`:s}}).flat()}}function gL(r){const e=r.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class mL{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const t=e.types;if(!t)throw new Error("Accounts require `idl.types`");const n=e.accounts.map(s=>{const a=t.find(l=>l.name===s.name);if(!a)throw new Error(`Account not found: ${s.name}`);return[s.name,{discriminator:s.discriminator,layout:Bt.typeDefLayout({typeDef:a,types:t})}]});this.accountLayouts=new Map(n)}async encode(e,t){const n=je.Buffer.alloc(1e3),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);const a=s.layout.encode(t,n),l=n.slice(0,a),u=this.accountDiscriminator(e);return je.Buffer.concat([u,l])}decode(e,t){const n=this.accountDiscriminator(e);if(n.compare(t.slice(0,n.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){for(const[t,n]of this.accountLayouts)if(e.subarray(0,n.discriminator.length).equals(je.Buffer.from(n.discriminator)))return this.decodeUnchecked(t,e);throw new Error("Account not found")}decodeUnchecked(e,t){const n=this.accountDiscriminator(e),s=t.subarray(n.length),a=this.accountLayouts.get(e);if(!a)throw new Error(`Unknown account: ${e}`);return a.layout.decode(s)}memcmp(e,t){const n=this.accountDiscriminator(e);return{offset:0,bytes:wy.encode(t?je.Buffer.concat([n,t]):n)}}size(e){return this.accountDiscriminator(e).length+Bt.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;const n=(t=this.idl.accounts)===null||t===void 0?void 0:t.find(s=>s.name===e);if(!n)throw new Error(`Account not found: ${e}`);return je.Buffer.from(n.discriminator)}}class yL{constructor(e){if(!e.events){this.layouts=new Map;return}const t=e.types;if(!t)throw new Error("Events require `idl.types`");const n=e.events.map(s=>{const a=t.find(l=>l.name===s.name);if(!a)throw new Error(`Event not found: ${s.name}`);return[s.name,{discriminator:s.discriminator,layout:Bt.typeDefLayout({typeDef:a,types:t})}]});this.layouts=new Map(n)}decode(e){let t;try{t=XC(e)}catch{return null}for(const[n,s]of this.layouts){const a=t.subarray(0,s.discriminator.length);if(a.equals(je.Buffer.from(s.discriminator)))return{name:n,data:s.layout.decode(t.subarray(a.length))}}return null}}class EL{constructor(e){const t=e.types;if(!t){this.typeLayouts=new Map;return}const n=t.filter(s=>!s.generics).map(s=>[s.name,Bt.typeDefLayout({typeDef:s,types:t})]);this.typeLayouts=new Map(n)}encode(e,t){const n=je.Buffer.alloc(1e3),s=this.typeLayouts.get(e);if(!s)throw new Error(`Unknown type: ${e}`);const a=s.encode(t,n);return n.slice(0,a)}decode(e,t){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(t)}}class D4{constructor(e){this.instruction=new pL(e),this.accounts=new mL(e),this.events=new yL(e),this.types=new EL(e)}}class kr{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Nf=kr;function bL(r,e){return e.property?r+"["+e.property+"]":r}class Ca extends kr{isCount(){throw new Error("ExternalLayout is abstract")}}class R4 extends Ca{constructor(e,t,n){if(!(e instanceof kr))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof If||this.layout instanceof k4}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return n===void 0&&(n=0),this.layout.encode(e,t,n+this.offset)}}class If extends kr{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return n===void 0&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class k4 extends kr{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return n===void 0&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const mm=Math.pow(2,32);function F4(r){const e=Math.floor(r/mm),t=r-e*mm;return{hi32:e,lo32:t}}function T4(r,e){return r*mm+e}class wL extends kr{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const n=e.readUInt32LE(t),s=e.readUInt32LE(t+4);return T4(s,n)}encode(e,t,n){n===void 0&&(n=0);const s=F4(e);return t.writeUInt32LE(s.lo32,n),t.writeUInt32LE(s.hi32,n+4),8}}class AL extends kr{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const n=e.readUInt32LE(t),s=e.readInt32LE(t+4);return T4(s,n)}encode(e,t,n){n===void 0&&(n=0);const s=F4(e);return t.writeUInt32LE(s.lo32,n),t.writeInt32LE(s.hi32,n+4),8}}class CL extends kr{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((a,l)=>a&&l instanceof kr,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(const a of e)if(0>a.span&&a.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((a,l)=>a+l.getSpan(),0)}catch{}super(s,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let n=0;try{n=this.fields.reduce((s,a)=>{const l=a.getSpan(e,t);return t+=l,s+l},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t){t===void 0&&(t=0);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){n===void 0&&(n=0);const s=n;let a=0,l=0;for(const u of this.fields){let f=u.span;if(l=0<f?f:0,u.property!==void 0){const h=e[u.property];h!==void 0&&(l=u.encode(h,t,n),0>f&&(f=u.getSpan(t,n)))}a=n,n+=f}return a+l-s}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class N4{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class _w extends N4{constructor(e,t){if(!(e instanceof Ca&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class I4 extends kr{constructor(e,t,n){const s=e instanceof If||e instanceof k4;if(s)e=new _w(new R4(e));else if(e instanceof Ca&&e.isCount())e=new _w(e);else if(!(e instanceof N4))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof kr))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let a=-1;t&&(a=t.span,0<=a&&s&&(a+=e.layout.span)),super(a,n),this.discriminator=e,this.usesPrefixDiscriminator=s,this.defaultLayout=t,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return l(u)},this.configGetSourceVariant=function(u){l=u.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let n;const s=this.discriminator,a=s.decode(e,t);let l=this.registry[a];if(l===void 0){let u=0;l=this.defaultLayout,this.usesPrefixDiscriminator&&(u=s.layout.span),n=this.makeDestinationObject(),n[s.property]=a,n[l.property]=this.defaultLayout.decode(e,t+u)}else n=l.decode(e,t);return n}encode(e,t,n){n===void 0&&(n=0);const s=this.getSourceVariant(e);if(s===void 0){const a=this.discriminator,l=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=a.layout.span),a.encode(e[a.property],t,n),u+l.encode(e[l.property],t,n+u)}return s.encode(e,t,n)}addVariant(e,t,n){const s=new vL(this,e,t,n);return this.registry[e]=s,s}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(t===void 0&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class vL extends kr{constructor(e,t,n,s){if(!(e instanceof I4))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof kr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let a=e.span;0>e.span&&(a=n?n.span:0,0<=a&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span)),super(a,s),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){n===void 0&&(n=0);let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let a=s;if(this.layout&&(this.layout.encode(e[this.property],t,n+s),a+=this.layout.getSpan(t,n+s),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class BL extends kr{constructor(e,t){if(!(e instanceof Ca&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Ca||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){t===void 0&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let s=this.length;if(this.length instanceof Ca&&(s=e.length),!(Buffer.isBuffer(e)&&s===e.length))throw new TypeError(bL("Blob.encode",this)+" requires (length "+s+") Buffer as src");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,s,"hex"),this.length instanceof Ca&&this.length.encode(s,t,n),s}}var SL=((r,e,t)=>new R4(r,e,t)),_L=(r=>new If(1,r)),ko=(r=>new If(4,r)),DL=(r=>new wL(r)),zo=(r=>new AL(r)),qn=((r,e,t)=>new CL(r,e,t)),M4=((r,e,t)=>new I4(r,e,t)),xu=((r,e)=>new BL(r,e));class RL extends Nf{constructor(e){super(-1,e),this.property=e,this.layout=qn([ko("length"),ko("lengthPadding"),xu(SL(ko(),-8),"chars")],this.property)}encode(e,t,n=0){if(e==null)return this.layout.span;const s={chars:Buffer.from(e,"utf8")};return this.layout.encode(s,t,n)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return ko().span+ko().span+new Bo(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function Mf(r){return new RL(r)}function ni(r){return xu(32,r)}const qr=M4(ko("instruction"));qr.addVariant(0,qn([zo("lamports"),zo("space"),ni("owner")]),"createAccount");qr.addVariant(1,qn([ni("owner")]),"assign");qr.addVariant(2,qn([zo("lamports")]),"transfer");qr.addVariant(3,qn([ni("base"),Mf("seed"),zo("lamports"),zo("space"),ni("owner")]),"createAccountWithSeed");qr.addVariant(4,qn([ni("authorized")]),"advanceNonceAccount");qr.addVariant(5,qn([zo("lamports")]),"withdrawNonceAccount");qr.addVariant(6,qn([ni("authorized")]),"initializeNonceAccount");qr.addVariant(7,qn([ni("authorized")]),"authorizeNonceAccount");qr.addVariant(8,qn([zo("space")]),"allocate");qr.addVariant(9,qn([ni("base"),Mf("seed"),zo("space"),ni("owner")]),"allocateWithSeed");qr.addVariant(10,qn([ni("base"),Mf("seed"),ni("owner")]),"assignWithSeed");qr.addVariant(11,qn([zo("lamports"),Mf("seed"),ni("owner")]),"transferWithSeed");Math.max(...Object.values(qr.registry).map(r=>r.span));class kL extends Nf{constructor(e,t,n,s){super(e.span,s),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}function Dw(r){return new kL(xu(32),e=>new ve(e),e=>e.toBuffer(),r)}qn([ko("version"),ko("state"),Dw("authorizedPubkey"),Dw("nonce"),qn([DL("lamportsPerSignature")],"feeCalculator")]);new ve("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new ve("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Rw={exports:{}};(function(r,e){var t=typeof self<"u"?self:xL,n=(function(){function a(){this.fetch=!1,this.DOMException=t.DOMException}return a.prototype=t,new a})();(function(a){(function(l){var u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function f(p){return p&&DataView.prototype.isPrototypeOf(p)}if(u.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(p){return p&&h.indexOf(Object.prototype.toString.call(p))>-1};function E(p){if(typeof p!="string"&&(p=String(p)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(p))throw new TypeError("Invalid character in header field name");return p.toLowerCase()}function S(p){return typeof p!="string"&&(p=String(p)),p}function C(p){var b={next:function(){var _=p.shift();return{done:_===void 0,value:_}}};return u.iterable&&(b[Symbol.iterator]=function(){return b}),b}function v(p){this.map={},p instanceof v?p.forEach(function(b,_){this.append(_,b)},this):Array.isArray(p)?p.forEach(function(b){this.append(b[0],b[1])},this):p&&Object.getOwnPropertyNames(p).forEach(function(b){this.append(b,p[b])},this)}v.prototype.append=function(p,b){p=E(p),b=S(b);var _=this.map[p];this.map[p]=_?_+", "+b:b},v.prototype.delete=function(p){delete this.map[E(p)]},v.prototype.get=function(p){return p=E(p),this.has(p)?this.map[p]:null},v.prototype.has=function(p){return this.map.hasOwnProperty(E(p))},v.prototype.set=function(p,b){this.map[E(p)]=S(b)},v.prototype.forEach=function(p,b){for(var _ in this.map)this.map.hasOwnProperty(_)&&p.call(b,this.map[_],_,this)},v.prototype.keys=function(){var p=[];return this.forEach(function(b,_){p.push(_)}),C(p)},v.prototype.values=function(){var p=[];return this.forEach(function(b){p.push(b)}),C(p)},v.prototype.entries=function(){var p=[];return this.forEach(function(b,_){p.push([_,b])}),C(p)},u.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function R(p){if(p.bodyUsed)return Promise.reject(new TypeError("Already read"));p.bodyUsed=!0}function D(p){return new Promise(function(b,_){p.onload=function(){b(p.result)},p.onerror=function(){_(p.error)}})}function M(p){var b=new FileReader,_=D(b);return b.readAsArrayBuffer(p),_}function N(p){var b=new FileReader,_=D(b);return b.readAsText(p),_}function F(p){for(var b=new Uint8Array(p),_=new Array(b.length),O=0;O<b.length;O++)_[O]=String.fromCharCode(b[O]);return _.join("")}function P(p){if(p.slice)return p.slice(0);var b=new Uint8Array(p.byteLength);return b.set(new Uint8Array(p)),b.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(p){this._bodyInit=p,p?typeof p=="string"?this._bodyText=p:u.blob&&Blob.prototype.isPrototypeOf(p)?this._bodyBlob=p:u.formData&&FormData.prototype.isPrototypeOf(p)?this._bodyFormData=p:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(p)?this._bodyText=p.toString():u.arrayBuffer&&u.blob&&f(p)?(this._bodyArrayBuffer=P(p.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(p)||m(p))?this._bodyArrayBuffer=P(p):this._bodyText=p=Object.prototype.toString.call(p):this._bodyText="",this.headers.get("content-type")||(typeof p=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(p)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var p=R(this);if(p)return p;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?R(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var p=R(this);if(p)return p;if(this._bodyBlob)return N(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(F(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}var V=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(p){var b=p.toUpperCase();return V.indexOf(b)>-1?b:p}function J(p,b){b=b||{};var _=b.body;if(p instanceof J){if(p.bodyUsed)throw new TypeError("Already read");this.url=p.url,this.credentials=p.credentials,b.headers||(this.headers=new v(p.headers)),this.method=p.method,this.mode=p.mode,this.signal=p.signal,!_&&p._bodyInit!=null&&(_=p._bodyInit,p.bodyUsed=!0)}else this.url=String(p);if(this.credentials=b.credentials||this.credentials||"same-origin",(b.headers||!this.headers)&&(this.headers=new v(b.headers)),this.method=H(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.signal=b.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&_)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(_)}J.prototype.clone=function(){return new J(this,{body:this._bodyInit})};function q(p){var b=new FormData;return p.trim().split("&").forEach(function(_){if(_){var O=_.split("="),G=O.shift().replace(/\+/g," "),z=O.join("=").replace(/\+/g," ");b.append(decodeURIComponent(G),decodeURIComponent(z))}}),b}function Z(p){var b=new v,_=p.replace(/\r?\n[\t ]+/g," ");return _.split(/\r?\n/).forEach(function(O){var G=O.split(":"),z=G.shift().trim();if(z){var k=G.join(":").trim();b.append(z,k)}}),b}K.call(J.prototype);function Q(p,b){b||(b={}),this.type="default",this.status=b.status===void 0?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new v(b.headers),this.url=b.url||"",this._initBody(p)}K.call(Q.prototype),Q.prototype.clone=function(){return new Q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},Q.error=function(){var p=new Q(null,{status:0,statusText:""});return p.type="error",p};var $=[301,302,303,307,308];Q.redirect=function(p,b){if($.indexOf(b)===-1)throw new RangeError("Invalid status code");return new Q(null,{status:b,headers:{location:p}})},l.DOMException=a.DOMException;try{new l.DOMException}catch{l.DOMException=function(b,_){this.message=b,this.name=_;var O=Error(b);this.stack=O.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function T(p,b){return new Promise(function(_,O){var G=new J(p,b);if(G.signal&&G.signal.aborted)return O(new l.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function k(){z.abort()}z.onload=function(){var A={status:z.status,statusText:z.statusText,headers:Z(z.getAllResponseHeaders()||"")};A.url="responseURL"in z?z.responseURL:A.headers.get("X-Request-URL");var g="response"in z?z.response:z.responseText;_(new Q(g,A))},z.onerror=function(){O(new TypeError("Network request failed"))},z.ontimeout=function(){O(new TypeError("Network request failed"))},z.onabort=function(){O(new l.DOMException("Aborted","AbortError"))},z.open(G.method,G.url,!0),G.credentials==="include"?z.withCredentials=!0:G.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&u.blob&&(z.responseType="blob"),G.headers.forEach(function(A,g){z.setRequestHeader(g,A)}),G.signal&&(G.signal.addEventListener("abort",k),z.onreadystatechange=function(){z.readyState===4&&G.signal.removeEventListener("abort",k)}),z.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return T.polyfill=!0,a.fetch||(a.fetch=T,a.Headers=v,a.Request=J,a.Response=Q),l.Headers=v,l.Request=J,l.Response=Q,l.fetch=T,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,r.exports=e})(Rw,Rw.exports);at.rustEnum([at.struct([],"uninitialized"),at.struct([at.option(at.publicKey(),"authorityAddress")],"buffer"),at.struct([at.publicKey("programdataAddress")],"program"),at.struct([at.u64("slot"),at.option(at.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,at.u32());const ym="Program log: ",O4="Program data: ",FL=ym.length,TL=O4.length;class NL{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new Rs(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t,n){var s;let a=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((s=this._eventListeners.get(e))!==null&&s!==void 0?s:[]).concat(a)),this._eventCallbacks.set(a,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(l,u)=>{if(!l.err)for(const f of this._eventParser.parseLogs(l.logs)){const h=this._eventListeners.get(f.name);h&&h.forEach(m=>{const E=this._eventCallbacks.get(m);if(E){const[,S]=E;S(f.data,u.slot,l.signature)}})}},n)),a}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let s=this._eventListeners.get(n);if(!s)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(e),s=s.filter(a=>a!==e),this._eventListeners.set(n,s),s.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Rs{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const n=new ML([...e]),s=new IL,a=n.next();if(a===null)return;const l=Rs.INVOKE_RE.exec(a);if(!l||l[2]!==Rs.ROOT_DEPTH)throw new Error(`Unexpected first log line: ${a}`);for(s.push(l[1]);n.peek()!==null;){const u=n.next();if(u===null)break;let[f,h,m]=this.handleLog(s,u,t);if(f&&(yield f),h&&s.push(h),m){s.pop();const E=n.peek();if(E&&E.endsWith("invoke [1]")){const S=Rs.INVOKE_RE.exec(E);S&&s.push(S[1])}}}}handleLog(e,t,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,n):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(ym)||e.startsWith(O4)){const n=e.startsWith(ym)?e.slice(FL):e.slice(TL),s=this.coder.events.decode(n);if(t&&s===null)throw new Error(`Unable to decode event ${n}`);return[s,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){return e.startsWith(`Program ${this.programId.toString()} log:`)?[this.programId.toString(),!1]:e.includes("invoke")&&!e.endsWith("[1]")?["cpi",!1]:/^Program ([1-9A-HJ-NP-Za-km-z]+) success$/.test(e)?[null,!0]:[null,!1]}}Rs.INVOKE_RE=/^Program ([1-9A-HJ-NP-Za-km-z]+) invoke \[(\d+)\]$/;Rs.ROOT_DEPTH="1";class IL{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class ML{constructor(e){this.logs=e,this.logs=this.logs.filter(t=>t.startsWith("Program "))}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}peek(){return this.logs.length>0?this.logs[0]:null}}function Of(r,e){var t,n;let s={};const a=r.args?r.args.length:0;if(e.length>a){if(e.length!==a+1)throw new Error(`provided too many arguments ${e} to instruction ${r?.name} expecting: ${(n=(t=r.args)===null||t===void 0?void 0:t.map(l=>l.name))!==null&&n!==void 0?n:[]}`);s=e.pop()}return[e,s]}class ef{static build(e,t,n){if(e.name==="_inner")throw new ws("the _inner name is reserved");const s=(...a)=>{const[l,u]=Of(e,[...a]);JC(e.accounts,u.accounts),OL(e,...a);const f=s.accounts(u.accounts);return u.remainingAccounts!==void 0&&f.push(...u.remainingAccounts),S4("debug-logs")&&console.log("Outgoing account metas:",f),new Ut({keys:f,programId:n,data:t(e.name,$j(e,...l))})};return s.accounts=a=>ef.accountsArray(a,e.accounts,n,e.name),s}static accountsArray(e,t,n,s){return e?t.map(a=>{if(vs(a)){const m=e[a.name];return ef.accountsArray(m,a.accounts,n,s).flat()}let l;try{l=hi(e[a.name])}catch{throw new Error(`Wrong input type for account "${a.name}" in the instruction accounts object${s!==void 0?' for instruction "'+s+'"':""}. Expected PublicKey or string.`)}const u=a.optional&&l.equals(n),f=!!(a.writable&&!u),h=!!(a.signer&&!u);return{pubkey:l,isWritable:f,isSigner:h}}).flat():[]}}function OL(r,...e){}class jL{static build(e,t){return(...s)=>{var a,l,u;const[,f]=Of(e,[...s]),h=new bt;if(f.preInstructions&&f.instructions)throw new Error("instructions is deprecated, use preInstructions");return(a=f.preInstructions)===null||a===void 0||a.forEach(m=>h.add(m)),(l=f.instructions)===null||l===void 0||l.forEach(m=>h.add(m)),h.add(t(...s)),(u=f.postInstructions)===null||u===void 0||u.forEach(m=>h.add(m)),h}}}class LL{static build(e,t,n,s){return async(...l)=>{var u;const f=t(...l),[,h]=Of(e,[...l]);if(s.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await s.sendAndConfirm(f,(u=h.signers)!==null&&u!==void 0?u:[],h.options)}catch(m){throw _4(m,n)}}}}class PL{static build(e,t,n,s){var a;return((a=e.accounts)!==null&&a!==void 0?a:[]).reduce((l,u)=>(l[u.name]=new zL(e,u,n,s,t),l),{})}}class zL{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,n,s,a){this._idlAccount=t,this._programId=n,this._provider=s??gm(),this._coder=a??new D4(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);return n}async fetchNullableAndContext(e,t){const n=await this.getAccountInfoAndContext(e,t),{value:s,context:a}=n;return{data:s&&s.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,s.data):null,context:a}}async fetch(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);if(n===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return n}async fetchAndContext(e,t){const{data:n,context:s}=await this.fetchNullableAndContext(e,t);if(n===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:n,context:s}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map(s=>s?s.data:null)}async fetchMultipleAndContext(e,t){return(await oL(this._provider.connection,e.map(s=>hi(s)),t)).map(s=>{if(s==null)return null;const{account:a,context:l}=s;return{data:this._coder.accounts.decode(this._idlAccount.name,a.data),context:l}})}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),n=[];return t?.offset!=null&&t?.bytes!=null&&n.push({memcmp:{offset:t.offset,bytes:t.bytes}}),t?.dataSize!=null&&n.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map(({pubkey:a,account:l})=>({publicKey:a,account:this._coder.accounts.decode(this._idlAccount.name,l.data)}))}subscribe(e,t){const n=B0.get(e.toString());if(n)return n.ee;const s=new zj;e=hi(e);const a=this._provider.connection.onAccountChange(e,l=>{const u=this._coder.accounts.decode(this._idlAccount.name,l.data);s.emit("change",u)},t);return B0.set(e.toString(),{ee:s,listener:a}),s}async unsubscribe(e){let t=B0.get(e.toString());if(!t){console.warn("Address is not subscribed");return}B0&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{B0.delete(e.toString())}).catch(console.error)}async createInstruction(e,t){const n=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return Fn.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:t??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??n),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(hi(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(hi(e),t)}}const B0=new Map;class UL{static build(e,t,n,s,a,l,u){return async(...h)=>{var m;const E=t(...h),[,S]=Of(e,[...h]);let C;if(s.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{C=await s.simulate(E,S.signers,(m=S.options)===null||m===void 0?void 0:m.commitment)}catch(D){throw _4(D,n)}if(C===void 0)throw new Error("Unable to simulate transaction");const v=C.logs;if(!v)throw new Error("Simulated logs not found");const R=[];if(u.events){let D=new Rs(l,a);for(const M of D.parseLogs(v))R.push(M)}return{events:R,raw:v}}}}function v1(r){return new j4(xu(8),e=>By.fromBuffer(e),e=>e.toBuffer(),r)}function Vd(r){return new j4(xu(32),e=>new ve(e),e=>e.toBuffer(),r)}function B1(r,e){return new HL(r,e)}class j4 extends Nf{constructor(e,t,n,s){super(e.span,s),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class HL extends Nf{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=ko()}encode(e,t,n=0){return e==null?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(n===0)return null;if(n===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class By extends Bo{toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new By([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}const WL=qn([Vd("mint"),Vd("owner"),v1("amount"),B1(Vd(),"delegate"),(r=>{const e=M4(_L("discriminator"),null,r);return e.addVariant(0,qn([]),"uninitialized"),e.addVariant(1,qn([]),"initialized"),e.addVariant(2,qn([]),"frozen"),e})("state"),B1(v1(),"isNative"),v1("delegatedAmount"),B1(Vd(),"closeAuthority")]);function qL(r){return WL.decode(r)}class KL{constructor(e,t,n,s,a,l,u,f){this._args=e,this._accounts=t,this._provider=n,this._programId=s,this._idlIx=a,this._idlTypes=u,this._customResolver=f,this._accountStore=new VL(n,l,s)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16){const t=l=>vs(l)?l.accounts.some(t):!!(l.address||l.pda||l.relations),n=(l,u=[],f=[])=>{for(const h of l)vs(h)?f.push(...n(h.accounts,[...u,h.name])):f.push([...u,h.name]);return f},s=this._idlIx.accounts.filter(t),a=n(s).filter(l=>!this.get(l)).map(l=>l.reduce((u,f)=>u+"."+f)).map(l=>`\`${l}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${a}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce((n,s)=>n&&n[s],this._accounts);if(t&&t.toBase58)return t}set(e,t){let n=this._accounts;e.forEach((s,a)=>{var l;a===e.length-1&&(n[s]=t),n[s]=(l=n[s])!==null&&l!==void 0?l:{},n=n[s]})}resolveOptionalsHelper(e,t){const n={};for(const s of t){const a=s.name,l=e[a];l!==void 0&&(L4(l)?vs(s)?n[a]=this.resolveOptionalsHelper(l,s.accounts):n[a]=P4(l):l!==null?n[a]=hi(l):s.optional&&(n[a]=this._programId))}return n}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(const n in e){const s=e[n];vs(s)&&this.resolveEventCpi(s.accounts,[...t,s.name]);const a=+n+1;if(a===e.length)return;const l=e[n].name,u=e[a].name;if(l==="eventAuthority"&&u==="program"){const f=[...t,l],h=[...t,u];this.get(f)||this.set(f,ve.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(h)||this.set(h,this._programId);return}}}resolveConst(e,t=[]){for(const n of e){const s=n.name;if(vs(n))this.resolveConst(n.accounts,[...t,s]);else{const a=n;if((a.signer||a.address)&&!this.get([...t,s])){if(a.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...t,s],this._provider.publicKey)}a.address&&this.set([...t,s],hi(a.address))}}}}async resolvePdasAndRelations(e,t=[]){let n=0;for(const s of e){const a=s.name;if(vs(s))n+=await this.resolvePdasAndRelations(s.accounts,[...t,a]);else{const l=s;if((l.pda||l.relations)&&!this.get([...t,a])){n++;try{if(l.pda){const u=await Promise.all(l.pda.seeds.map(m=>this.toBuffer(m,t)));if(u.some(m=>!m))continue;const f=await this.parseProgramId(l,t),[h]=ve.findProgramAddressSync(u,f);this.set([...t,a],h)}}catch{}try{if(l.relations){const u=this.get([...t,l.relations[0]]);if(u){const f=await this._accountStore.fetchAccount({publicKey:u});this.set([...t,a],f[a])}}}catch{}}}}return n}async parseProgramId(e,t=[]){var n;if(!(!((n=e.pda)===null||n===void 0)&&n.program))return this._programId;const s=await this.toBuffer(e.pda.program,t);if(!s)throw new Error(`Program seed not resolved: ${e.name}`);return new ve(s)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[t,...n]=e.path.split("."),s=this._idlIx.args.findIndex(u=>u.name===t);if(s===-1)throw new Error(`Unable to find argument for seed: ${t}`);const a=n.reduce((u,f)=>(u??{})[f],this._args[s]);if(a===void 0)return;const l=this.getType(this._idlIx.args[s].type,n);return this.toBufferValue(l,a)}async toBufferAccount(e,t=[]){const[n,...s]=e.path.split("."),a=this.get([...t,n]);if(!a)return;if(!s.length)return this.toBufferValue("pubkey",a);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let u=await this._accountStore.fetchAccount({publicKey:a,name:e.account}),f=s;for(;f.length>0;)u=u[f[0]],f=f.slice(1);if(u===void 0)return;const h=this.getType({defined:{name:e.account}},s);return this.toBufferValue(h,u)}toBufferValue(e,t){switch(e){case"u8":case"i8":return Buffer.from([t]);case"u16":case"i16":return new Bo(t).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new Bo(t).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new Bo(t).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new Bo(t).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new Bo(t).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(t);case"pubkey":return t.toBuffer();case"bytes":return Buffer.from(t);default:if(e?.array)return Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var n;const s=(n=e?.defined)===null||n===void 0?void 0:n.name;if(s){if(s==="tokenAccount")switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${t}`)}const a=this._idlTypes.find(m=>m.name===s);if(!a)throw new Error(`Type not found: ${s}`);const[l,...u]=t,h=a.type.fields.find(m=>m.name===l);if(!h)throw new Error(`Field not found: ${l}`);return this.getType(h.type,u)}return e}}class VL{constructor(e,t,n){this._provider=e,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=t}async fetchAccount({publicKey:e,name:t}){const n=e.toBase58();if(!this._cache.has(n)){const s=await this._provider.connection.getAccountInfo(e);if(s===null)throw new Error(`Account not found: ${n}`);if(t==="tokenAccount"){const a=qL(s.data);this._cache.set(n,a)}else{const a=await this.getAccountsNs(s.owner);if(a){const l=Object.values(a)[0];if(l){const u=l.coder.accounts.decodeAny(s.data);this._cache.set(n,u)}}}}return this._cache.get(n)}async getAccountsNs(e){const t=e.toBase58();if(!this._idls[t]){const n=await ac.fetchIdl(e,this._provider);if(n){const s=new ac(n,this._provider);this._idls[t]=s.account}}return this._idls[t]}}class GL{static build(e,t,n,s,a,l,u,f,h,m,E){return(...S)=>new YL(S,s,a,l,u,f,e,t,n,h,m,E)}}function L4(r){return typeof r=="object"&&r!==null&&!("_bn"in r)}function P4(r,e){const t={};for(const n in r){const s=r[n];if(s===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");t[n]=L4(s)?P4(s):hi(s)}return t}class YL{constructor(e,t,n,s,a,l,u,f,h,m,E,S){this._args=e,this._ixFn=t,this._txFn=n,this._rpcFn=s,this._simulateFn=a,this._viewFn=l,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new KL(e,this._accounts,u,f,h,m,E,S)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return t?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class $L{static build(e,t,n,s){const a=t.accounts.find(f=>f.writable),l=!!t.returns;return a||!l?void 0:async(...f)=>{let h=await n(...f);const m=`Program return: ${e} `;let E=h.raw.find(R=>R.startsWith(m));if(!E)throw new Error("View expected return log");let S=XC(E.slice(m.length)),C=t.returns;if(!C)throw new Error("View expected return type");return Bt.fieldLayout({type:C},s.types).decode(S)}}}class ZL{static build(e,t,n,s,a){const l={},u={},f={},h={},m={},E={},S=Yj(e),C=e.accounts?PL.build(e,t,n,s):{};return e.instructions.forEach(v=>{const R=ef.build(v,(V,H)=>t.instruction.encode(V,H),n),D=jL.build(v,R),M=LL.build(v,D,S,s),N=UL.build(v,D,S,s,t,n,e),F=$L.build(n,v,N,e),P=GL.build(s,n,v,R,D,M,N,F,C,e.types||[],a?.(v)),K=v.name;u[K]=R,f[K]=D,l[K]=M,h[K]=N,m[K]=P,F&&(E[K]=F)}),[l,u,f,C,h,m,E]}}class ac{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=gm(),n,s){this._idl=Gj(e),this._rawIdl=e,this._provider=t,this._programId=hi(e.address),this._coder=n??new D4(this._idl),this._events=new NL(this._programId,t,this._coder);const[a,l,u,f,h,m,E]=ZL.build(this._idl,this._coder,this._programId,t,s);this.rpc=a,this.instruction=l,this.transaction=u,this.account=f,this.simulate=h,this.methods=m,this.views=E}static async at(e,t){const n=hi(e),s=await ac.fetchIdl(n,t);if(!s)throw new Error(`IDL not found for program: ${e.toString()}`);return new ac(s,t)}static async fetchIdl(e,t){t=t??gm();const n=hi(e),s=await Wj(n),a=await t.connection.getAccountInfo(s);if(!a)return null;let l=Vj(a.data.slice(8));const u=jj(l.data);return JSON.parse(Hj(u))}addEventListener(e,t,n){return this._events.addEventListener(e,t,n)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new ve("11111111111111111111111111111111");const QL="DteBceXMKFMSHsqs5HRk3aWR7TXJYKbSnknTetJSiGX4",XL={name:"product_registry",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},JL=[{name:"accept_transfer",discriminator:[94,249,171,62,208,120,49,110],accounts:[{name:"to_owner",signer:!0},{name:"transfer_request",writable:!0}],args:[]},{name:"cancel_transfer",discriminator:[50,32,70,130,142,41,111,175],accounts:[{name:"from_owner",writable:!0,signer:!0},{name:"transfer_request",writable:!0,pda:{seeds:[{kind:"const",value:[116,114,97,110,115,102,101,114]},{kind:"account",path:"transfer_request.product",account:"TransferRequest"},{kind:"account",path:"from_owner"},{kind:"account",path:"transfer_request.to_owner",account:"TransferRequest"}]}}],args:[]},{name:"execute_transfer",discriminator:[233,126,160,184,235,206,31,119],accounts:[{name:"from_owner",writable:!0,signer:!0},{name:"product",writable:!0},{name:"transfer_request",writable:!0,pda:{seeds:[{kind:"const",value:[116,114,97,110,115,102,101,114]},{kind:"account",path:"product"},{kind:"account",path:"from_owner"},{kind:"account",path:"transfer_request.to_owner",account:"TransferRequest"}]}}],args:[]},{name:"propose_transfer",discriminator:[140,86,133,124,253,226,251,195],accounts:[{name:"from_owner",writable:!0,signer:!0},{name:"product",writable:!0},{name:"to_owner"},{name:"transfer_request",writable:!0,pda:{seeds:[{kind:"const",value:[116,114,97,110,115,102,101,114]},{kind:"account",path:"product"},{kind:"account",path:"from_owner"},{kind:"account",path:"to_owner"}]}},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"register_product",discriminator:[224,97,195,220,124,218,78,43],accounts:[{name:"product",writable:!0,pda:{seeds:[{kind:"const",value:[112,114,111,100,117,99,116]},{kind:"account",path:"manufacturer"},{kind:"arg",path:"serial_hash"}]}},{name:"manufacturer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"serial_hash",type:{array:["u8",32]}},{name:"metadata_hash",type:{array:["u8",32]}},{name:"metadata_uri",type:"string"}]}],eP=[{name:"Product",discriminator:[102,76,55,251,38,73,224,229]},{name:"TransferRequest",discriminator:[200,121,88,202,12,160,237,12]}],tP=[{code:6e3,name:"Unauthorized",msg:"Unauthorized"},{code:6001,name:"InvalidState",msg:"Invalid state"},{code:6002,name:"MetadataUriTooLong",msg:"metadata_uri too long"}],nP=[{name:"Product",type:{kind:"struct",fields:[{name:"manufacturer",type:"pubkey"},{name:"current_owner",type:"pubkey"},{name:"serial_hash",type:{array:["u8",32]}},{name:"metadata_hash",type:{array:["u8",32]}},{name:"metadata_uri",type:"string"},{name:"active",type:"bool"},{name:"bump",type:"u8"}]}},{name:"TransferRequest",type:{kind:"struct",fields:[{name:"product",type:"pubkey"},{name:"from_owner",type:"pubkey"},{name:"to_owner",type:"pubkey"},{name:"approved_by_from",type:"bool"},{name:"approved_by_to",type:"bool"},{name:"status",type:"u8"},{name:"created_at",type:"i64"},{name:"accepted_at",type:"i64"},{name:"bump",type:"u8"}]}}],Sy={address:QL,metadata:XL,instructions:JL,accounts:eP,errors:tP,types:nP},rP=new ve(Sy.address),iP="https://api.devnet.solana.com",oP=new Cf(iP,"confirmed");function j0(r){if(!r||!r.publicKey)throw new Error("Wallet not connected");return new $0(oP,r,{commitment:"confirmed"})}function L0(r){const e=Sy;return e.metadata=e.metadata??{},e.metadata.address=rP.toBase58(),new ac(e,r)}const sP=`${Ki}/distributors/accept-transfer`,aP=`${Ki}/distributors/execute-transfer`,lP=`${Ki}/distributors/cancel-transfer`,kw=`${As}/create`,Ni=De.create({withCredentials:!0});function cP(r){return new Date(r).toLocaleString()}function Ii(r,e=6,t=6){return r?r.length<=e+t+3?r:`${r.slice(0,e)}...${r.slice(-t)}`:""}function uP(){const r=localStorage.getItem("userId");if(r&&!Number.isNaN(Number(r)))return Number(r);const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e),n=t?.user_id??t?.userId??t?.id;if(n&&!Number.isNaN(Number(n)))return Number(n)}catch{}return null}function ua(r){if(!r)return null;try{const h=JSON.parse(r);if(h?.kind==="TRANSFER_REQUEST"||h?.kind==="TRANSFER_ACCEPTED"||h?.kind==="TRANSFER_DENIED")return h}catch{}const e=r.trim();if(!e.startsWith("{")||!e.endsWith("}"))return null;const t=e.slice(1,-1).trim();if(!t)return null;const n={},s=t.split(",");for(const h of s){const m=h.indexOf(":");if(m===-1)continue;const E=h.slice(0,m).trim();let S=h.slice(m+1).trim();(S.startsWith('"')&&S.endsWith('"')||S.startsWith("'")&&S.endsWith("'"))&&(S=S.slice(1,-1)),n[E]=S}const a=n.kind;if(a!=="TRANSFER_REQUEST"&&a!=="TRANSFER_ACCEPTED"&&a!=="TRANSFER_DENIED")return null;const l={kind:a,productId:Number(n.productId??n.product_id),fromUserId:Number(n.fromUserId??n.from_user_id),toUserId:Number(n.toUserId??n.to_user_id),productPda:n.productPda??n.product_pda,transferPda:n.transferPda??n.transfer_pda,fromOwnerPubkey:n.fromOwnerPubkey??n.from_owner_pubkey??n.fromPublicKey??n.from_public_key,toOwnerPubkey:n.toOwnerPubkey??n.to_owner_pubkey??n.toPublicKey??n.to_public_key};if(!l.productId||!l.fromUserId||!l.toUserId||!l.productPda||!l.transferPda||!l.fromOwnerPubkey||!l.toOwnerPubkey)return null;if(a==="TRANSFER_REQUEST"){const h=n.proposeTx??n.propose_tx??"";return{...l,proposeTx:h}}if(a==="TRANSFER_ACCEPTED"){const h=n.acceptTx??n.accept_tx??"";return{...l,acceptTx:h}}const u=n.deniedBy??n.denied_by??"",f=n.proposeTx??n.propose_tx??"";return{...l,proposeTx:f,deniedBy:u}}function Fw(r){if(r.isRead)return!1;const e=ua(r.message),t=r.title==="Transfer Request"||e?.kind==="TRANSFER_REQUEST",n=r.title==="Transfer Accepted"||e?.kind==="TRANSFER_ACCEPTED",s=r.title==="Transfer Denied"||e?.kind==="TRANSFER_DENIED";return!!(t||n||s)}function fu(r){const{title:e="Notifications",defaultOnlyUnread:t=!0,showHeader:n=!0,isAdmin:s=!1}=r,a=oi(),l=U.useMemo(()=>uP(),[]),[u,f]=U.useState(t),[h,m]=U.useState(!1),[E,S]=U.useState(null),[C,v]=U.useState(null),[R,D]=U.useState([]),M=3e3,N=U.useRef(null),F=U.useRef(!1),P=U.useRef(""),K=U.useRef(null),[V,H]=U.useState(!1);function J(g){return g.map(w=>`${w.notificationId}:${w.isRead?1:0}:${w.createdOn}`).join("|")}const q=U.useMemo(()=>R.filter(g=>!g.isRead).length,[R]);async function Z(g=u){if(!l){v("No userId found");return}if(F.current)return;F.current=!0;const w=R.length===0;w&&m(!0),v(null);try{const X=(await Ni.get(As,{params:{userId:l,onlyUnread:g}})).data?.data??[],ne=J(X);ne!==P.current&&(P.current=ne,D(X))}catch(j){v(j?.response?.data?.error??j?.message??"Failed to load notifications")}finally{w&&m(!1),F.current=!1}}U.useEffect(()=>{Z(u)},[u]),U.useEffect(()=>{if(N.current&&(window.clearInterval(N.current),N.current=null),!l||V)return;const g=()=>{document.hidden||E===null&&Z(u)};return N.current=window.setInterval(g,M),g(),()=>{N.current&&(window.clearInterval(N.current),N.current=null)}},[l,u,E,V]),U.useEffect(()=>{if(!l)return;K.current&&(K.current.close(),K.current=null),H(!1);const g=`${As}/stream?userId=${l}`;let w;try{w=new EventSource(g,{withCredentials:!0})}catch{w=new EventSource(g)}K.current=w;const j=()=>{H(!0)},X=ne=>{Z(u)};return w.addEventListener("connected",j),w.addEventListener("notification",X),()=>{w.removeEventListener("connected",j),w.removeEventListener("notification",X),w.close(),K.current===w&&(K.current=null)}},[l,u]);async function Q(g,w){if(!l)return;const j=R.find(X=>X.notificationId===g);if(!w?.force&&j&&Fw(j)){v("This notification requires a transfer action (Accept/Deny/Execute/Cancel) and cannot be marked as read yet.");return}S(g),v(null),D(X=>X.map(ne=>ne.notificationId===g?{...ne,isRead:!0}:ne));try{await Ni.put(`${As}/${g}/read`,null,{params:{userId:l}}),u&&D(X=>X.filter(ne=>ne.notificationId!==g))}catch(X){D(ne=>ne.map(oe=>oe.notificationId===g?{...oe,isRead:!1}:oe)),v(X?.response?.data?.error??X?.message??"Failed to mark as read")}finally{S(null)}}async function $(){if(l){m(!0),v(null),D(g=>g.map(w=>({...w,isRead:!0})));try{await Ni.put(`${As}/read`,null,{params:{userId:l}}),u&&D([])}catch(g){v(g?.response?.data?.error??g?.message??"Failed to mark all as read"),await Z(u)}finally{m(!1)}}}async function T(){if(l){m(!0),v(null);try{await Ni.delete(`${As}/read`,{params:{userId:l}}),D(g=>g.filter(w=>!w.isRead))}catch(g){v(g?.response?.data?.error??g?.message??"Failed to delete read notifications")}finally{m(!1)}}}async function p(g){if(!l)return;S(g),v(null);const w=R;D(j=>j.filter(X=>X.notificationId!==g));try{await Ni.delete(`${As}/${g}`,{params:{userId:l}})}catch(j){D(w),v(j?.response?.data?.error??j?.message??"Failed to delete notification")}finally{S(null)}}function b(g){return!a.connected||!a.publicKey?(v(`Connect your Phantom wallet to ${g}.`),!1):!0}async function _(g){const w=ua(g.message);if(!(!w||w.kind!=="TRANSFER_REQUEST")&&b("accept this transfer")){if(a.publicKey.toBase58()!==w.toOwnerPubkey){v(`Wrong wallet connected. Expected recipient: ${w.toOwnerPubkey}`);return}S(g.notificationId),v(null);try{const j=j0(a),X=L0(j),ne=new ve(w.transferPda),oe=await X.methods.acceptTransfer().accounts({toOwner:a.publicKey,transferRequest:ne}).rpc();await Ni.post(sP,{product_id:w.productId,to_user_id:w.toUserId,to_public_key:w.toOwnerPubkey,tx_hash:oe,transfer_pda:w.transferPda});const be=JSON.stringify({kind:"TRANSFER_ACCEPTED",productId:w.productId,fromUserId:w.fromUserId,toUserId:w.toUserId,productPda:w.productPda,transferPda:w.transferPda,acceptTx:oe,fromOwnerPubkey:w.fromOwnerPubkey,toOwnerPubkey:w.toOwnerPubkey});await Ni.post(kw,{userId:w.fromUserId,title:"Transfer Accepted",message:be,productId:w.productId,txHash:oe}),await Q(g.notificationId,{force:!0}),await Z(u)}catch(j){v(j?.response?.data?.error??j?.response?.data?.details??j?.message??"Accept failed")}finally{S(null)}}}async function O(g){const w=ua(g.message);if(!(!w||w.kind!=="TRANSFER_ACCEPTED")&&b("execute this transfer")){if(a.publicKey.toBase58()!==w.fromOwnerPubkey){v(`Wrong wallet connected. Expected sender: ${w.fromOwnerPubkey}`);return}S(g.notificationId),v(null);try{const j=j0(a),X=L0(j),ne=new ve(w.productPda),oe=new ve(w.transferPda),be=await X.methods.executeTransfer().accounts({fromOwner:a.publicKey,product:ne,transferRequest:oe}).rpc();await Ni.post(aP,{product_id:w.productId,from_user_id:w.fromUserId,from_public_key:w.fromOwnerPubkey,to_user_id:w.toUserId,to_public_key:w.toOwnerPubkey,tx_hash:be,block_slot:0,transfer_pda:w.transferPda,product_pda:w.productPda}),await Q(g.notificationId,{force:!0}),await Z(u)}catch(j){v(j?.response?.data?.error??j?.response?.data?.details??j?.message??"Execute failed")}finally{S(null)}}}async function G(g){const w=ua(g.message);if(!(!w||w.kind!=="TRANSFER_REQUEST")&&b("deny this transfer")){if(a.publicKey.toBase58()!==w.toOwnerPubkey){v(`Wrong wallet connected. Expected recipient: ${w.toOwnerPubkey}`);return}S(g.notificationId),v(null);try{const j=JSON.stringify({kind:"TRANSFER_DENIED",productId:w.productId,fromUserId:w.fromUserId,toUserId:w.toUserId,productPda:w.productPda,transferPda:w.transferPda,proposeTx:w.proposeTx,fromOwnerPubkey:w.fromOwnerPubkey,toOwnerPubkey:w.toOwnerPubkey,deniedBy:a.publicKey.toBase58()});await Ni.post(kw,{userId:w.fromUserId,title:"Transfer Denied",message:j,productId:w.productId,txHash:w.proposeTx}),await Q(g.notificationId,{force:!0}),await Z(u)}catch(j){v(j?.response?.data?.error??j?.response?.data?.details??j?.message??"Deny failed")}finally{S(null)}}}async function z(g){const w=ua(g.message);if(w&&!(w.kind!=="TRANSFER_DENIED"&&w.kind!=="TRANSFER_REQUEST")&&b("cancel this transfer")){if(a.publicKey.toBase58()!==w.fromOwnerPubkey){v(`Wrong wallet connected. Expected sender: ${w.fromOwnerPubkey}`);return}S(g.notificationId),v(null);try{const j=j0(a),X=L0(j),ne=new ve(w.transferPda),oe=await X.methods.cancelTransfer().accounts({fromOwner:a.publicKey,transferRequest:ne}).rpc();await Ni.post(lP,{product_id:w.productId,to_user_id:w.toUserId,to_public_key:w.toOwnerPubkey,tx_hash:oe,transfer_pda:w.transferPda}),await Q(g.notificationId,{force:!0}),await Z(u)}catch(j){v(j?.response?.data?.error??j?.response?.data?.details??j?.message??"Cancel failed")}finally{S(null)}}}function k(g){const w=ua(g.message);return w?.kind==="TRANSFER_REQUEST"?d.jsxs("div",{style:{marginTop:6,color:"#4b5563",lineHeight:1.5},children:[d.jsxs("div",{children:["Product ",d.jsxs("strong",{children:["#",w.productId]}),"  Transfer request"]}),d.jsxs("div",{style:{fontSize:12,marginTop:6},children:[d.jsxs("span",{style:Eo,children:["toOwner: ",Ii(w.toOwnerPubkey)]}),"  ","","  ",d.jsxs("span",{style:Eo,children:["transferPda: ",Ii(w.transferPda)]})]}),d.jsx("div",{style:{fontSize:12,marginTop:4},children:d.jsxs("span",{style:Eo,children:["proposeTx: ",Ii(w.proposeTx)]})})]}):w?.kind==="TRANSFER_ACCEPTED"?d.jsxs("div",{style:{marginTop:6,color:"#4b5563",lineHeight:1.5},children:[d.jsxs("div",{children:["Product ",d.jsxs("strong",{children:["#",w.productId]}),"  Recipient accepted"]}),d.jsxs("div",{style:{fontSize:12,marginTop:6},children:[d.jsxs("span",{style:Eo,children:["fromOwner: ",Ii(w.fromOwnerPubkey)]}),"  ","","  ",d.jsxs("span",{style:Eo,children:["transferPda: ",Ii(w.transferPda)]})]}),d.jsx("div",{style:{fontSize:12,marginTop:4},children:d.jsxs("span",{style:Eo,children:["acceptTx: ",Ii(w.acceptTx)]})})]}):w?.kind==="TRANSFER_DENIED"?d.jsxs("div",{style:{marginTop:6,color:"#4b5563",lineHeight:1.5},children:[d.jsxs("div",{children:["Product ",d.jsxs("strong",{children:["#",w.productId]}),"  Recipient denied"]}),d.jsxs("div",{style:{fontSize:12,marginTop:6},children:[d.jsxs("span",{style:Eo,children:["deniedBy: ",Ii(w.deniedBy)]}),"  ","","  ",d.jsxs("span",{style:Eo,children:["transferPda: ",Ii(w.transferPda)]})]}),d.jsx("div",{style:{fontSize:12,marginTop:4},children:d.jsxs("span",{style:Eo,children:["proposeTx: ",Ii(w.proposeTx)]})})]}):d.jsx("div",{style:{color:"#4b5563",marginTop:6,lineHeight:1.5,wordBreak:"break-word"},children:g.message})}function A(g){const w=ua(g.message);return!g.isRead&&(g.title==="Transfer Request"||w?.kind==="TRANSFER_REQUEST")?!w||w.kind!=="TRANSFER_REQUEST"?null:d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>_(g),disabled:E===g.notificationId,style:Tw,children:"Accept"}),d.jsx("button",{onClick:()=>G(g),disabled:E===g.notificationId,style:Mi,children:"Deny"})]}):!g.isRead&&(g.title==="Transfer Accepted"||w?.kind==="TRANSFER_ACCEPTED")?!w||w.kind!=="TRANSFER_ACCEPTED"?null:d.jsx("button",{onClick:()=>O(g),disabled:E===g.notificationId,style:Tw,children:"Confirm Transfer"}):!g.isRead&&(g.title==="Transfer Denied"||w?.kind==="TRANSFER_DENIED")?d.jsx("button",{onClick:()=>z(g),disabled:E===g.notificationId,style:Mi,children:"Cancel Transfer"}):null}return d.jsxs("div",{style:dP,children:[n&&d.jsxs("div",{style:xP,children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[d.jsx("h2",{style:{margin:0},children:e}),d.jsxs("span",{style:fP,children:["Unread: ",q]})]}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[!s&&d.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:d.jsx(Gi,{})}),d.jsxs("div",{style:{display:"flex",gap:8},children:[d.jsx("button",{onClick:()=>f(!0),style:u?Em:Mi,children:"Unread"}),d.jsx("button",{onClick:()=>f(!1),style:u?Mi:Em,children:"All"})]}),d.jsx("button",{onClick:$,disabled:h||R.length===0,style:Mi,children:"Mark all read"}),d.jsx("button",{onClick:T,disabled:h,style:Mi,title:"Deletes all read notifications",children:"Delete read"})]})]}),!s&&d.jsxs("div",{style:{marginTop:10,color:"#6b7280",fontSize:12},children:["Wallet:"," ",d.jsx("span",{style:{fontFamily:"monospace"},children:a.publicKey?a.publicKey.toBase58():"Not connected"})]}),C&&d.jsx("div",{style:gP,children:C}),d.jsx("div",{style:{marginTop:14},children:h?d.jsx("div",{style:{color:"#6b7280"},children:"Loading notifications..."}):R.length===0?d.jsx("div",{style:{color:"#6b7280"},children:u?"No unread notifications":"No notifications."}):d.jsx("div",{style:{display:"grid",gap:10},children:R.map(g=>d.jsx("div",{style:{...pP,background:g.isRead?"#fff":"#f9fafb"},children:d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:10},children:[d.jsxs("div",{style:{minWidth:0,flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[d.jsx("div",{style:{fontWeight:700,color:"#111827"},children:g.title}),!g.isRead&&d.jsx("span",{style:hP,children:"NEW"})]}),k(g),d.jsxs("div",{style:{color:"#6b7280",fontSize:12,marginTop:10,wordBreak:"break-word"},children:[cP(g.createdOn),g.productId?d.jsxs("span",{children:["  Product #",g.productId]}):null,g.txHash?d.jsxs("span",{children:["  Tx: ",Ii(g.txHash,6,6)]}):null]})]}),d.jsxs("div",{style:{display:"flex",gap:8,alignItems:"flex-start",flexWrap:"wrap"},children:[A(g),!s&&g.txHash?.startsWith("thread:")&&d.jsx("button",{onClick:()=>{const w=Number(g.txHash?.split(":")[1]);Number.isNaN(w)||(window.location.href=`/consumer/chats/${w}`)},style:Mi,children:"Open chat"}),!g.isRead&&!Fw(g)&&d.jsx("button",{onClick:()=>Q(g.notificationId),disabled:E===g.notificationId,style:Mi,children:"Mark read"}),g.isRead&&d.jsx("button",{onClick:()=>p(g.notificationId),disabled:E===g.notificationId,style:Mi,title:"Only works if the notification is already read",children:"Delete"})]})]})},g.notificationId))})})]})}const dP={background:"white",border:"1px solid #e5e7eb",borderRadius:16,padding:24,marginBottom:18},xP={display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},fP={fontSize:12,padding:"4px 10px",borderRadius:999,background:"#f3f4f6",border:"1px solid #e5e7eb",color:"#111827"},hP={fontSize:12,padding:"2px 8px",borderRadius:999,background:"#111827",color:"white"},pP={border:"1px solid #e5e7eb",borderRadius:14,padding:14},gP={marginTop:12,padding:12,borderRadius:12,background:"#fef2f2",border:"1px solid #fecaca",color:"#991b1b"},Eo={fontFamily:"monospace",wordBreak:"break-all"},Mi={padding:"8px 10px",borderRadius:10,border:"1px solid #e5e7eb",background:"white",cursor:"pointer",whiteSpace:"nowrap"},Em={...Mi,background:"#111827",color:"white",border:"1px solid #111827"},Tw={...Em},Gd={color:"white",textDecoration:"none",display:"block",padding:"10px 12px",borderRadius:10},Yd={background:"rgba(255,255,255,0.12)"};function mP(){const r=tn(),[e,t]=U.useState(""),[n,s]=U.useState({totalUsers:0,verifiedUsers:0,unverifiedUsers:0,totalListings:0}),[a,l]=U.useState(!0);U.useEffect(()=>{const h=localStorage.getItem("username");h&&t(h),u()},[]);const u=async()=>{try{l(!0);const[h,m]=await Promise.all([De.get(`${Fo}/view-accounts`),De.get(`${Fo}/read-product-listings`)]),E=h.data.data||[],S=m.data.listings||[];s({totalUsers:E.length,verifiedUsers:E.filter(C=>C.verified).length,unverifiedUsers:E.filter(C=>!C.verified).length,totalListings:S.length})}catch(h){console.error("Failed to load dashboard stats:",h)}finally{l(!1)}},f=async()=>{try{await De.post(`${Rr}/logout-account`)}catch(h){console.error("Logout failed:",h)}finally{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("username"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),r("/login")}};return d.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[d.jsxs("aside",{style:{width:240,background:"#0d1b2a",color:"white",padding:20,position:"relative"},children:[d.jsx("h2",{style:{marginBottom:30},children:"Admin"}),d.jsx("nav",{children:d.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:10},children:[d.jsx("li",{children:d.jsx(lt,{to:"/admin",end:!0,style:({isActive:h})=>({...Gd,...h?Yd:{}}),children:"Dashboard"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/users",style:({isActive:h})=>({...Gd,...h?Yd:{}}),children:"User Management"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/listings",style:({isActive:h})=>({...Gd,...h?Yd:{}}),children:"Product Listings"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/register",style:({isActive:h})=>({...Gd,...h?Yd:{}}),children:"Register Company"})})]})}),d.jsx("div",{style:{position:"absolute",bottom:30,left:20,right:20},children:d.jsx("button",{onClick:f,style:{background:"none",border:"none",color:"white",cursor:"pointer",fontSize:16,display:"flex",alignItems:"center",gap:8,padding:"10px 12px"},children:" Logout"})})]}),d.jsxs("main",{style:{padding:40,flexGrow:1,background:"#f9fafb"},children:[d.jsxs("div",{style:{marginBottom:24},children:[d.jsxs("h1",{style:{marginBottom:8,fontSize:32,color:"#111827"},children:["Welcome",e?`, ${e}`:"","!"]}),d.jsx("p",{style:{color:"#6b7280",fontSize:15},children:"Admin Dashboard - Manage users and product listings"})]}),a?d.jsx("div",{style:{textAlign:"center",padding:40},children:"Loading..."}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginTop:32,display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:24},children:[d.jsxs("div",{style:{background:"white",padding:24,borderRadius:12,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[d.jsx("div",{style:{fontSize:14,color:"#6b7280",marginBottom:8},children:"Total Users"}),d.jsx("div",{style:{fontSize:36,fontWeight:700,color:"#111827"},children:n.totalUsers})]}),d.jsxs("div",{style:{background:"white",padding:24,borderRadius:12,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[d.jsx("div",{style:{fontSize:14,color:"#6b7280",marginBottom:8},children:"Verified Users"}),d.jsx("div",{style:{fontSize:36,fontWeight:700,color:"#10b981"},children:n.verifiedUsers})]}),d.jsxs("div",{style:{background:"white",padding:24,borderRadius:12,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[d.jsx("div",{style:{fontSize:14,color:"#6b7280",marginBottom:8},children:"Unverified Users"}),d.jsx("div",{style:{fontSize:36,fontWeight:700,color:"#f59e0b"},children:n.unverifiedUsers})]}),d.jsxs("div",{style:{background:"white",padding:24,borderRadius:12,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[d.jsx("div",{style:{fontSize:14,color:"#6b7280",marginBottom:8},children:"Product Listings"}),d.jsx("div",{style:{fontSize:36,fontWeight:700,color:"#3b82f6"},children:n.totalListings})]})]}),d.jsx("div",{style:{marginTop:40},children:d.jsx(fu,{isAdmin:!0})})]})]})]})}const $d={color:"white",textDecoration:"none",display:"block",padding:"10px 12px",borderRadius:10},Zd={background:"rgba(255,255,255,0.12)"};function yP(){const r=tn(),[e,t]=U.useState([]),[n,s]=U.useState([]),[a,l]=U.useState(!0),[u,f]=U.useState(new Set),[h,m]=U.useState(""),[E,S]=U.useState(""),[C,v]=U.useState("all"),[R,D]=U.useState(null),[M,N]=U.useState("consumer"),[F,P]=U.useState([]),K=[{role_id:"consumer",role_name:"Consumer"},{role_id:"manufacturer",role_name:"Manufacturer"},{role_id:"distributor",role_name:"Distributor"},{role_id:"retailer",role_name:"Retailer"},{role_id:"admin",role_name:"Admin"}];U.useEffect(()=>{V()},[]),U.useEffect(()=>{H()},[e,h,E,C]);const V=async()=>{try{l(!0);const b=await De.get(`${Fo}/view-accounts`);if(b.data.success&&b.data.data){const _=b.data.data.filter(O=>O.role_id!=="admin");t(_)}}catch(b){console.error("Failed to load users:",b),alert("Failed to load users")}finally{l(!1)}},H=()=>{let b=[...e];if(h&&(b=b.filter(_=>_.username.toLowerCase().includes(h.toLowerCase()))),E&&(b=b.filter(_=>_.role_id===E)),C!=="all"){const _=C==="verified";b=b.filter(O=>O.verified===_)}s(b)},J=async()=>{try{await De.post(`${Rr}/logout-account`)}catch(b){console.error("Logout failed:",b)}finally{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("username"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),r("/login")}},q=b=>{const _=new Set(u);_.has(b)?_.delete(b):_.add(b),f(_)},Z=()=>{u.size===n.length?f(new Set):f(new Set(n.map(b=>b.user_id)))},Q=async b=>{if(confirm(`Confirm ban ${b.username}?`))try{await De.post(`${Fo}/ban-account`,{userId:b.user_id,banned:!b.banned}),alert(`Successfully ${b.banned?"unbanned":"banned"} ${b.username}`),await V()}catch(_){console.error("Failed to update ban status:",_),alert(_.response?.data?.details||"Failed to update ban status")}},$=async b=>{if(b.length===0){alert("Please select users to delete");return}const _=b.length===1?`Are you sure you want to delete ${b[0].username}? This action cannot be undone.`:`Are you sure you want to delete ${b.length} users? This action cannot be undone.`;if(confirm(_))try{for(const O of b)await De.delete(`${Rr}/${O.user_id}`);alert(`Successfully deleted ${b.length} user(s)`),await V(),f(new Set),P([])}catch(O){console.error("Failed to delete users:",O),alert(O.response?.data?.details||"Failed to delete users")}},T=async()=>{if(R)try{await De.post(`${Fo}/update-accounts`,{username:R.username,role_id:M}),alert("Successfully updated user role"),await V(),D(null)}catch(b){console.error("Failed to update user:",b),alert(b.response?.data?.details||"Failed to update user role")}},p=b=>K.find(_=>_.role_id===b)?.role_name||"Unknown";return d.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[d.jsxs("aside",{style:{width:240,background:"#0d1b2a",color:"white",padding:20,position:"relative"},children:[d.jsx("h2",{style:{marginBottom:30},children:"Admin"}),d.jsx("nav",{children:d.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:10},children:[d.jsx("li",{children:d.jsx(lt,{to:"/admin",end:!0,style:({isActive:b})=>({...$d,...b?Zd:{}}),children:"Dashboard"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/users",style:({isActive:b})=>({...$d,...b?Zd:{}}),children:"User Management"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/listings",style:({isActive:b})=>({...$d,...b?Zd:{}}),children:"Product Listings"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/register",style:({isActive:b})=>({...$d,...b?Zd:{}}),children:"Register Company"})})]})}),d.jsx("div",{style:{position:"absolute",bottom:30,left:20,right:20},children:d.jsx("button",{onClick:J,style:{background:"none",border:"none",color:"white",cursor:"pointer",fontSize:16,display:"flex",alignItems:"center",gap:8,padding:"10px 12px"},children:" Logout"})})]}),d.jsxs("main",{style:{padding:40,flexGrow:1,background:"#f9fafb"},children:[d.jsxs("div",{style:{marginBottom:24},children:[d.jsx("h1",{style:{marginBottom:8,fontSize:32,color:"#111827"},children:"User Management"}),d.jsx("p",{style:{color:"#6b7280",fontSize:15},children:"View, verify, update, and delete user accounts"})]}),d.jsx("div",{style:{background:"white",padding:20,borderRadius:12,marginBottom:20,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:d.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[d.jsxs("div",{style:{flex:1,minWidth:200},children:[d.jsx("label",{style:{display:"block",marginBottom:6,fontSize:14,color:"#374151"},children:"Username"}),d.jsx("input",{type:"text",value:h,onChange:b=>m(b.target.value),placeholder:"Search by username",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14}})]}),d.jsxs("div",{style:{flex:1,minWidth:200},children:[d.jsx("label",{style:{display:"block",marginBottom:6,fontSize:14,color:"#374151"},children:"Role"}),d.jsxs("select",{value:E,onChange:b=>S(b.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14},children:[d.jsx("option",{value:"",children:"All Roles"}),K.map(b=>d.jsx("option",{value:b.role_id,children:b.role_name},b.role_id))]})]}),d.jsxs("div",{style:{flex:1,minWidth:200},children:[d.jsx("label",{style:{display:"block",marginBottom:6,fontSize:14,color:"#374151"},children:"Verification Status"}),d.jsxs("select",{value:C,onChange:b=>v(b.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14},children:[d.jsx("option",{value:"all",children:"All Users"}),d.jsx("option",{value:"verified",children:"Verified Only"}),d.jsx("option",{value:"unverified",children:"Unverified Only"})]})]})]})}),u.size>0&&d.jsxs("div",{style:{background:"#eff6ff",padding:16,borderRadius:8,marginBottom:20,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("span",{style:{color:"#1e40af",fontWeight:600},children:[u.size," user(s) selected"]}),d.jsxs("div",{style:{display:"flex",gap:12},children:[d.jsx("button",{onClick:()=>{const _=e.filter(O=>u.has(O.user_id)).map(O=>O.username);if(_.length===0){alert("Please select users to verify");return}confirm(`Verify ${_.length} user(s)?`)&&De.post(`${Fo}/create-accounts`,{usernames:_}).then(()=>{alert(`Successfully verified ${_.length} user(s)`),V(),f(new Set)}).catch(O=>{alert(O.response?.data?.details||"Failed to verify users")})},style:{background:"#10b981",color:"white",border:"none",padding:"8px 16px",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600},children:"Verify Selected"}),d.jsx("button",{onClick:()=>{const b=e.filter(_=>u.has(_.user_id));P(b)},style:{background:"#ef4444",color:"white",border:"none",padding:"8px 16px",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600},children:"Delete Selected"})]})]}),d.jsx("div",{style:{background:"white",borderRadius:12,boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},children:a?d.jsx("div",{style:{padding:40,textAlign:"center"},children:"Loading..."}):d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{background:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:[d.jsx("th",{style:{padding:16,textAlign:"left",fontSize:14,fontWeight:600},children:"Username"}),d.jsx("th",{style:{padding:16,textAlign:"left",fontSize:14,fontWeight:600},children:"Email"}),d.jsx("th",{style:{padding:16,textAlign:"left",fontSize:14,fontWeight:600},children:"Role"}),d.jsx("th",{style:{padding:16,textAlign:"left",fontSize:14,fontWeight:600},children:"Status"}),d.jsx("th",{style:{padding:16,textAlign:"left",fontSize:14,fontWeight:600},children:"Created"}),d.jsx("th",{style:{padding:16,textAlign:"center",fontSize:14,fontWeight:600},children:d.jsx("input",{type:"checkbox",checked:u.size===n.length&&n.length>0,onChange:Z,style:{cursor:"pointer"},title:"Select all for delete"})}),d.jsx("th",{style:{padding:16,textAlign:"center",fontSize:14,fontWeight:600},children:"Actions"})]})}),d.jsx("tbody",{children:n.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:7,style:{padding:40,textAlign:"center",color:"#6b7280"},children:"No users found"})}):n.map(b=>d.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[d.jsx("td",{style:{padding:16,fontSize:14},children:b.username}),d.jsx("td",{style:{padding:16,fontSize:14},children:b.email}),d.jsx("td",{style:{padding:16,fontSize:14},children:p(b.role_id)}),d.jsx("td",{style:{padding:16},children:d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[b.verified?d.jsx("span",{style:{background:"#d1fae5",color:"#065f46",padding:"4px 12px",borderRadius:12,fontSize:12,fontWeight:600,display:"inline-block"},children:"Verified"}):d.jsx("span",{style:{background:"#fef3c7",color:"#92400e",padding:"4px 12px",borderRadius:12,fontSize:12,fontWeight:600,display:"inline-block"},children:"Unverified"}),b.banned&&d.jsx("span",{style:{background:"#fee2e2",color:"#991b1b",padding:"4px 12px",borderRadius:12,fontSize:12,fontWeight:600,display:"inline-block"},children:"Banned"})]})}),d.jsx("td",{style:{padding:16,fontSize:14,color:"#6b7280"},children:new Date(b.created_on).toLocaleDateString()}),d.jsx("td",{style:{padding:16,textAlign:"center"},children:d.jsx("input",{type:"checkbox",checked:u.has(b.user_id),onChange:()=>q(b.user_id),style:{cursor:"pointer"},title:"Select for delete"})}),d.jsx("td",{style:{padding:16,textAlign:"center"},children:d.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"center",flexWrap:"wrap"},children:[d.jsx("button",{onClick:()=>{D(b),N(b.role_id)},style:{background:"#3b82f6",color:"white",border:"none",padding:"6px 12px",borderRadius:6,cursor:"pointer",fontSize:13,fontWeight:600},children:"Edit Role"}),d.jsx("button",{onClick:()=>Q(b),style:{background:b.banned?"#10b981":"#ef4444",color:"white",border:"none",padding:"6px 12px",borderRadius:6,cursor:"pointer",fontSize:13,fontWeight:600},children:b.banned?"Unban":"Ban"})]})})]},b.user_id))})]})}),d.jsxs("div",{style:{marginTop:16,color:"#6b7280",fontSize:14},children:["Showing ",n.length," of ",e.length," users"]})]}),R&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>D(null),children:d.jsxs("div",{style:{background:"white",padding:32,borderRadius:12,width:400,maxWidth:"90%"},onClick:b=>b.stopPropagation(),children:[d.jsx("h2",{style:{marginTop:0,marginBottom:20,fontSize:20},children:"Edit User Role"}),d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:6,fontSize:14,color:"#374151"},children:"Username"}),d.jsx("input",{type:"text",value:R.username,disabled:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14,background:"#f3f4f6"}})]}),d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:6,fontSize:14,color:"#374151"},children:"New Role"}),d.jsx("select",{value:M,onChange:b=>N(b.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14},children:K.map(b=>d.jsx("option",{value:b.role_id,children:b.role_name},b.role_id))})]}),d.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[d.jsx("button",{onClick:()=>D(null),style:{background:"#e5e7eb",color:"#374151",border:"none",padding:"10px 20px",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600},children:"Cancel"}),d.jsx("button",{onClick:T,style:{background:"#0066cc",color:"white",border:"none",padding:"10px 20px",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600},children:"Update Role"})]})]})}),F.length>0&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>P([]),children:d.jsxs("div",{style:{background:"white",padding:32,borderRadius:12,width:400,maxWidth:"90%"},onClick:b=>b.stopPropagation(),children:[d.jsxs("h2",{style:{marginTop:0,marginBottom:20,fontSize:20,color:"#dc2626"},children:["Delete ",F.length," User",F.length>1?"s":"","?"]}),d.jsx("p",{style:{marginBottom:20,color:"#374151"},children:F.length===1?`This will permanently delete ${F[0].username} and cannot be undone.`:`This will permanently delete ${F.length} users and cannot be undone.`}),d.jsx("div",{style:{marginBottom:20,maxHeight:200,overflowY:"auto"},children:F.map(b=>d.jsx("div",{style:{padding:"8px 12px",background:"#f3f4f6",borderRadius:6,marginBottom:8},children:b.username},b.user_id))}),d.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[d.jsx("button",{onClick:()=>P([]),style:{background:"#e5e7eb",color:"#374151",border:"none",padding:"10px 20px",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600},children:"Cancel"}),d.jsx("button",{onClick:()=>$(F),style:{background:"#dc2626",color:"white",border:"none",padding:"10px 20px",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600},children:"Delete"})]})]})})]})}const Qd={color:"white",textDecoration:"none",display:"block",padding:"10px 12px",borderRadius:10},Xd={background:"rgba(255,255,255,0.12)"};function EP(){const r=tn(),[e,t]=U.useState([]),[n,s]=U.useState([]),[a,l]=U.useState(!0),[u,f]=U.useState(new Set),[h,m]=U.useState("all"),[E,S]=U.useState(""),[C,v]=U.useState(null);U.useEffect(()=>{R()},[]),U.useEffect(()=>{D()},[e,h,E]);const R=async()=>{try{l(!0);const H=await De.get(`${Fo}/read-product-listings`);H.data.success&&H.data.listings&&t(H.data.listings)}catch(H){console.error("Failed to load listings:",H),alert("Failed to load listings")}finally{l(!1)}},D=()=>{let H=[...e];if(h!=="all"&&(H=H.filter(J=>J.status===h)),E){const J=E.toLowerCase();H=H.filter(q=>q.listing_id.toString().includes(J)||q.product_id.toString().includes(J)||q.product_name?.toLowerCase().includes(J)||q.serial_no?.toLowerCase().includes(J)||q.seller_username?.toLowerCase().includes(J))}s(H)},M=async()=>{try{await De.post(`${Rr}/logout-account`)}catch(H){console.error("Logout failed:",H)}finally{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("username"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),r("/login")}},N=H=>{const J=new Set(u);J.has(H)?J.delete(H):J.add(H),f(J)},F=()=>{u.size===n.length?f(new Set):f(new Set(n.map(H=>H.listing_id)))},P=async H=>{if(confirm("Delete this listing? This cannot be undone."))try{await De.delete(`${Fo}/delete-product-listings`,{data:{listing_id:H}}),alert("Successfully deleted listing"),await R(),f(new Set)}catch(J){console.error("Failed to delete listing:",J),alert(J.response?.data?.details||"Failed to delete listing")}},K=async()=>{if(u.size===0){alert("Please select listings to delete");return}if(confirm(`Delete ${u.size} listing(s)? This cannot be undone.`))try{for(const H of Array.from(u))await De.delete(`${Fo}/delete-product-listings`,{data:{listing_id:H}});alert(`Successfully deleted ${u.size} listing(s)`),await R(),f(new Set)}catch(H){console.error("Failed to delete listings:",H),alert(H.response?.data?.details||"Failed to delete some listings"),await R()}},V=H=>{switch(H){case"available":return{bg:"#d1fae5",text:"#065f46"};case"reserved":return{bg:"#fef3c7",text:"#92400e"};case"sold":return{bg:"#e5e7eb",text:"#374151"};default:return{bg:"#f3f4f6",text:"#6b7280"}}};return d.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[d.jsxs("aside",{style:{width:240,background:"#0d1b2a",color:"white",padding:20,position:"relative"},children:[d.jsx("h2",{style:{marginBottom:30},children:"Admin"}),d.jsx("nav",{children:d.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:10},children:[d.jsx("li",{children:d.jsx(lt,{to:"/admin",end:!0,style:({isActive:H})=>({...Qd,...H?Xd:{}}),children:"Dashboard"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/users",style:({isActive:H})=>({...Qd,...H?Xd:{}}),children:"User Management"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/listings",style:({isActive:H})=>({...Qd,...H?Xd:{}}),children:"Product Listings"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/register",style:({isActive:H})=>({...Qd,...H?Xd:{}}),children:"Register Company"})})]})}),d.jsx("div",{style:{position:"absolute",bottom:30,left:20,right:20},children:d.jsx("button",{onClick:M,style:{background:"none",border:"none",color:"white",cursor:"pointer",fontSize:16,display:"flex",alignItems:"center",gap:8,padding:"10px 12px"},children:" Logout"})})]}),d.jsxs("main",{style:{padding:40,flexGrow:1,background:"#f9fafb"},children:[d.jsxs("div",{style:{marginBottom:24},children:[d.jsx("h1",{style:{marginBottom:8,fontSize:32,color:"#111827"},children:"Product Listings"}),d.jsx("p",{style:{color:"#6b7280",fontSize:15},children:"View and manage all product listings in the marketplace"})]}),d.jsx("div",{style:{background:"white",padding:20,borderRadius:12,marginBottom:20,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:d.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[d.jsxs("div",{style:{flex:1,minWidth:300},children:[d.jsx("label",{style:{display:"block",marginBottom:6,fontSize:14,color:"#374151"},children:"Search"}),d.jsx("input",{type:"text",value:E,onChange:H=>S(H.target.value),placeholder:"Search by listing ID, product ID, name, or serial number",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14}})]}),d.jsxs("div",{style:{flex:1,minWidth:200},children:[d.jsx("label",{style:{display:"block",marginBottom:6,fontSize:14,color:"#374151"},children:"Status"}),d.jsxs("select",{value:h,onChange:H=>m(H.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14},children:[d.jsx("option",{value:"all",children:"All Status"}),d.jsx("option",{value:"available",children:"Available"}),d.jsx("option",{value:"reserved",children:"Reserved"}),d.jsx("option",{value:"sold",children:"Sold"})]})]})]})}),u.size>0&&d.jsxs("div",{style:{background:"#eff6ff",padding:16,borderRadius:8,marginBottom:20,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("span",{style:{color:"#1e40af",fontWeight:600},children:[u.size," listing(s) selected"]}),d.jsx("button",{onClick:K,style:{background:"#ef4444",color:"white",border:"none",padding:"8px 16px",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600},children:"Delete Selected"})]}),d.jsx("div",{style:{background:"white",borderRadius:12,boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},children:a?d.jsx("div",{style:{padding:40,textAlign:"center"},children:"Loading..."}):d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{background:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:[d.jsx("th",{style:{padding:16,textAlign:"left"},children:d.jsx("input",{type:"checkbox",checked:u.size===n.length&&n.length>0,onChange:F,style:{cursor:"pointer"}})}),d.jsx("th",{style:{padding:16,textAlign:"left",fontSize:14,fontWeight:600},children:"Product ID"}),d.jsx("th",{style:{padding:16,textAlign:"left",fontSize:14,fontWeight:600},children:"Product Name"}),d.jsx("th",{style:{padding:16,textAlign:"left",fontSize:14,fontWeight:600},children:"Serial No"}),d.jsx("th",{style:{padding:16,textAlign:"left",fontSize:14,fontWeight:600},children:"Price"}),d.jsx("th",{style:{padding:16,textAlign:"left",fontSize:14,fontWeight:600},children:"Status"}),d.jsx("th",{style:{padding:16,textAlign:"left",fontSize:14,fontWeight:600},children:"Created"}),d.jsx("th",{style:{padding:16,textAlign:"center",fontSize:14,fontWeight:600},children:"Actions"})]})}),d.jsx("tbody",{children:n.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:8,style:{padding:40,textAlign:"center",color:"#6b7280"},children:"No listings found"})}):n.map(H=>{const J=V(H.status);return d.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[d.jsx("td",{style:{padding:16},children:d.jsx("input",{type:"checkbox",checked:u.has(H.listing_id),onChange:()=>N(H.listing_id),style:{cursor:"pointer"}})}),d.jsxs("td",{style:{padding:16,fontSize:14,fontWeight:600},children:["#",H.product_id]}),d.jsx("td",{style:{padding:16,fontSize:14},children:H.product_name||"N/A"}),d.jsx("td",{style:{padding:16,fontSize:14,fontFamily:"monospace"},children:H.serial_no||"N/A"}),d.jsxs("td",{style:{padding:16,fontSize:14},children:[H.currency," ",H.price]}),d.jsx("td",{style:{padding:16},children:d.jsx("span",{style:{background:J.bg,color:J.text,padding:"4px 12px",borderRadius:12,fontSize:12,fontWeight:600,textTransform:"capitalize"},children:H.status})}),d.jsx("td",{style:{padding:16,fontSize:14,color:"#6b7280"},children:new Date(H.created_on).toLocaleDateString()}),d.jsx("td",{style:{padding:16,textAlign:"center"},children:d.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[d.jsx("button",{onClick:()=>v(H),style:{background:"#3b82f6",color:"white",border:"none",padding:"6px 12px",borderRadius:6,cursor:"pointer",fontSize:13,fontWeight:600},children:"View"}),d.jsx("button",{onClick:()=>P(H.listing_id),style:{background:"#ef4444",color:"white",border:"none",padding:"6px 12px",borderRadius:6,cursor:"pointer",fontSize:13,fontWeight:600},children:"Delete"})]})})]},H.listing_id)})})]})}),d.jsxs("div",{style:{marginTop:16,color:"#6b7280",fontSize:14},children:["Showing ",n.length," of ",e.length," listings"]})]}),C&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>v(null),children:d.jsxs("div",{style:{background:"white",padding:32,borderRadius:12,width:500,maxWidth:"90%",maxHeight:"80vh",overflow:"auto"},onClick:H=>H.stopPropagation(),children:[d.jsx("h2",{style:{marginTop:0,marginBottom:20,fontSize:20},children:"Listing Details"}),d.jsxs("div",{style:{display:"grid",gap:16},children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Listing ID"}),d.jsxs("div",{style:{fontSize:16,fontWeight:600},children:["#",C.listing_id]})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Product ID"}),d.jsxs("div",{style:{fontSize:16},children:["#",C.product_id]})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Product Name"}),d.jsx("div",{style:{fontSize:16},children:C.product_name||"N/A"})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Serial Number"}),d.jsx("div",{style:{fontSize:16,fontFamily:"monospace"},children:C.serial_no||"N/A"})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Seller ID"}),d.jsxs("div",{style:{fontSize:16},children:["#",C.seller_id]})]}),C.seller_username&&d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Seller Username"}),d.jsx("div",{style:{fontSize:16},children:C.seller_username})]}),d.jsxs("div",{style:{marginTop:8,padding:16,background:"#f0fdf4",borderRadius:8,border:"1px solid #86efac"},children:[d.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#166534",marginBottom:12},children:"Current Owner"}),d.jsxs("div",{style:{display:"grid",gap:12},children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Owner ID"}),d.jsxs("div",{style:{fontSize:16},children:["#",C.current_owner_id||"N/A"]})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Owner Username"}),d.jsx("div",{style:{fontSize:16,fontWeight:600},children:C.current_owner_username||"Unknown"})]}),C.current_owner_email&&d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Owner Email"}),d.jsx("div",{style:{fontSize:16},children:C.current_owner_email})]}),C.current_owner_id!==C.seller_id&&d.jsx("div",{style:{fontSize:13,color:"#059669",fontStyle:"italic",marginTop:4},children:" Ownership has been transferred"})]})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Price"}),d.jsxs("div",{style:{fontSize:16,fontWeight:600},children:[C.currency," ",C.price]})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Status"}),d.jsx("div",{children:d.jsx("span",{style:{background:V(C.status).bg,color:V(C.status).text,padding:"4px 12px",borderRadius:12,fontSize:12,fontWeight:600,textTransform:"capitalize"},children:C.status})})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Created On"}),d.jsx("div",{style:{fontSize:16},children:new Date(C.created_on).toLocaleString()})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Updated On"}),d.jsx("div",{style:{fontSize:16},children:new Date(C.updated_on).toLocaleString()})]})]}),d.jsxs("div",{style:{marginTop:24,display:"flex",justifyContent:"flex-end",gap:12},children:[d.jsx("button",{onClick:()=>v(null),style:{background:"#e5e7eb",color:"#374151",border:"none",padding:"10px 20px",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600},children:"Close"}),d.jsx("button",{onClick:()=>{P(C.listing_id),v(null)},style:{background:"#ef4444",color:"white",border:"none",padding:"10px 20px",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600},children:"Delete Listing"})]})]})})]})}const Jd={color:"white",textDecoration:"none",display:"block",padding:"10px 12px",borderRadius:10},ex={background:"rgba(255,255,255,0.12)"};function bP(){const r=tn(),[e,t]=U.useState(""),[n,s]=U.useState(""),[a,l]=U.useState(""),[u,f]=U.useState("manufacturer"),[h,m]=U.useState(!1),[E,S]=U.useState(null),[C,v]=U.useState(null),R=[{role_id:"manufacturer",role_name:"Manufacturer"},{role_id:"distributor",role_name:"Distributor"},{role_id:"retailer",role_name:"Retailer"}],D=async()=>{try{await De.post(`${Rr}/logout-account`)}catch(N){console.error("Logout failed:",N)}finally{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("username"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),r("/login")}},M=async N=>{if(N.preventDefault(),S(null),v(null),!e||!n||!a){S("All fields are required");return}if(a.length<6){S("Password must be at least 6 characters long");return}m(!0);try{const F=await De.post(`${Rr}/create-account`,{username:e,email:n,password:a,role_id:u});if(!F.data.success){S(F.data.error||F.data.details||"Failed to create account");return}v(`${R.find(P=>P.role_id===u)?.role_name} account "${e}" created successfully!`),t(""),s(""),l(""),f("manufacturer"),setTimeout(()=>v(null),5e3)}catch(F){S(F?.response?.data?.error||F?.response?.data?.details||"Failed to create account")}finally{m(!1)}};return d.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[d.jsxs("aside",{style:{width:240,background:"#0d1b2a",color:"white",padding:20,position:"relative"},children:[d.jsx("h2",{style:{marginBottom:30},children:"Admin"}),d.jsx("nav",{children:d.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:10},children:[d.jsx("li",{children:d.jsx(lt,{to:"/admin",end:!0,style:({isActive:N})=>({...Jd,...N?ex:{}}),children:"Dashboard"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/users",style:({isActive:N})=>({...Jd,...N?ex:{}}),children:"User Management"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/listings",style:({isActive:N})=>({...Jd,...N?ex:{}}),children:"Product Listings"})}),d.jsx("li",{children:d.jsx(lt,{to:"/admin/register",style:({isActive:N})=>({...Jd,...N?ex:{}}),children:"Register Company"})})]})}),d.jsx("div",{style:{position:"absolute",bottom:30,left:20,right:20},children:d.jsx("button",{onClick:D,style:{background:"none",border:"none",color:"white",cursor:"pointer",fontSize:16,display:"flex",alignItems:"center",gap:8,padding:"10px 12px"},children:" Logout"})})]}),d.jsxs("main",{style:{padding:40,flexGrow:1,background:"#f9fafb"},children:[d.jsxs("div",{style:{marginBottom:32},children:[d.jsx("h1",{style:{marginBottom:8,fontSize:32,color:"#111827"},children:"Register Company Account"}),d.jsx("p",{style:{color:"#6b7280",fontSize:15},children:"Create new accounts for Manufacturers, Distributors, and Retailers"})]}),d.jsxs("div",{style:{background:"white",padding:32,borderRadius:12,boxShadow:"0 1px 3px rgba(0,0,0,0.1)",maxWidth:500},children:[d.jsxs("form",{onSubmit:M,children:[d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:8,fontSize:14,fontWeight:600,color:"#374151"},children:"Company Type *"}),d.jsx("select",{value:u,onChange:N=>f(N.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14,background:"white",cursor:"pointer"},children:R.map(N=>d.jsx("option",{value:N.role_id,children:N.role_name},N.role_id))})]}),d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:8,fontSize:14,fontWeight:600,color:"#374151"},children:"Username *"}),d.jsx("input",{type:"text",value:e,onChange:N=>t(N.target.value),placeholder:"Enter company username",style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14,boxSizing:"border-box"},required:!0})]}),d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:8,fontSize:14,fontWeight:600,color:"#374151"},children:"Email *"}),d.jsx("input",{type:"email",value:n,onChange:N=>s(N.target.value),placeholder:"Enter company email",style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14,boxSizing:"border-box"},required:!0})]}),d.jsxs("div",{style:{marginBottom:24},children:[d.jsx("label",{style:{display:"block",marginBottom:8,fontSize:14,fontWeight:600,color:"#374151"},children:"Password *"}),d.jsx("input",{type:"password",value:a,onChange:N=>l(N.target.value),placeholder:"Create a password (min. 6 characters)",style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14,boxSizing:"border-box"},required:!0})]}),E&&d.jsx("div",{style:{background:"#fee2e2",color:"#991b1b",padding:12,borderRadius:6,marginBottom:20,fontSize:14},children:E}),C&&d.jsxs("div",{style:{background:"#dcfce7",color:"#166534",padding:12,borderRadius:6,marginBottom:20,fontSize:14},children:[" ",C]}),d.jsx("button",{type:"submit",disabled:h,style:{width:"100%",padding:"12px 24px",background:h?"#9ca3af":"#0066cc",color:"white",border:"none",borderRadius:6,fontSize:15,fontWeight:600,cursor:h?"not-allowed":"pointer"},children:h?"Creating Account...":"Create Account"})]}),d.jsx("p",{style:{marginTop:16,fontSize:13,color:"#6b7280",textAlign:"center"},children:"* = Required field"})]})]})]})}function wP(){const[r,e]=U.useState("");return U.useEffect(()=>{const t=localStorage.getItem("username");t&&e(t)},[]),d.jsxs("div",{children:[d.jsx("div",{style:{marginBottom:24},children:d.jsxs("h1",{style:{marginBottom:8,fontSize:32,color:"#111827"},children:["Welcome",r?`, ${r}`:"","!"]})}),d.jsx(fu,{})]})}function AP(){const[r,e]=U.useState("");return U.useEffect(()=>{const t=localStorage.getItem("username");t&&e(t)},[]),d.jsxs("div",{children:[d.jsx("div",{style:{marginBottom:24},children:d.jsxs("h1",{style:{marginBottom:8,fontSize:32,color:"#111827"},children:["Welcome",r?`, ${r}`:"","!"]})}),d.jsx(fu,{})]})}function CP(){const[r,e]=U.useState("");return U.useEffect(()=>{const t=localStorage.getItem("username");t&&e(t)},[]),d.jsxs("div",{children:[d.jsx("div",{style:{marginBottom:24},children:d.jsxs("h1",{style:{marginBottom:8,fontSize:32,color:"#111827"},children:["Welcome",r?`, ${r}`:"","!"]})}),d.jsx(fu,{})]})}function vP(){const[r,e]=U.useState(""),[t,n]=U.useState("");return U.useEffect(()=>{const s=localStorage.getItem("username"),a=localStorage.getItem("userId");s&&e(s),a&&n(a)},[]),d.jsxs("div",{children:[d.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24},children:d.jsxs("div",{children:[d.jsxs("h1",{style:{marginBottom:8,fontSize:"32px",color:"#111827"},children:["Welcome",r?`, ${r}`:"","!"]}),d.jsx("p",{style:{color:"#6b7280",margin:0,fontSize:"14px"},children:"Use the sidebar to scan QR codes, browse the marketplace, and manage your listings."})]})}),d.jsx(fu,{})]})}const tx="http://34.177.85.28:3000/api/chats";function BP(){const r=U.useMemo(()=>Number(localStorage.getItem("userId")),[]),[e,t]=U.useState([]),[n,s]=U.useState([]),[a,l]=U.useState(!1),[u,f]=U.useState(null),[h,m]=U.useState(null),[E,S]=U.useState(!1),C=tn(),v=async()=>{if(r){l(!0),f(null);try{const N=await De.get(`${tx}/threads`,{params:{userId:r}});if(N.data.success){const F=N.data.threads||[],P=F.filter(V=>V.archived_by!==r),K=F.filter(V=>V.archived_by===r);t(P),s(K)}else f(N.data.error||"Failed to load chats")}catch{f("Failed to load chats")}finally{l(!1)}}};U.useEffect(()=>{v()},[r]);const R=async N=>{if(window.confirm("Are you sure you want to delete this chat permanently?"))try{await De.delete(`${tx}/${N}`,{data:{userId:r}}),await v(),m(null)}catch(F){alert(F?.response?.data?.error||"Failed to delete chat")}},D=async N=>{try{(await De.post(`${tx}/${N}/archive`,{userId:r})).data.success&&(await v(),m(null),alert("Chat archived. You can unarchive it anytime from the Archives section."))}catch(F){alert(F?.response?.data?.error||"Failed to archive chat")}},M=async N=>{try{(await De.post(`${tx}/${N}/unarchive`,{userId:r})).data.success&&(await v(),m(null),alert("Chat moved back to your active messages."))}catch(F){alert(F?.response?.data?.error||"Failed to unarchive chat")}};return d.jsxs("div",{style:{padding:24},children:[d.jsx("h1",{style:{margin:0,fontSize:24},children:"Messages"}),d.jsx("p",{style:{marginTop:6,color:"#6b7280"},children:"Conversations about your marketplace listings."}),d.jsx("div",{style:{marginTop:8,display:"flex",gap:8,alignItems:"center"},children:d.jsxs("button",{onClick:()=>S(!E),style:{padding:"8px 14px",borderRadius:10,border:"1px solid #e5e7eb",background:E?"#e0f2fe":"white",color:"#0f172a",cursor:"pointer",fontWeight:600},onMouseEnter:N=>{N.currentTarget.style.borderColor="#3b82f6"},onMouseLeave:N=>{N.currentTarget.style.borderColor="#e5e7eb"},children:["Archived Chats (",n.length,")"]})}),a&&d.jsx("p",{children:"Loading"}),u&&d.jsx("p",{style:{color:"#b91c1c"},children:u}),d.jsxs("div",{style:{marginTop:16,display:"grid",gap:12},children:[e.map(N=>d.jsxs("div",{style:{display:"flex",gap:12,alignItems:"stretch",position:"relative"},children:[d.jsx("button",{onClick:()=>C(`/consumer/chats/${N.thread_id}`),style:{flex:1,padding:16,background:"white",border:"1px solid #e5e7eb",borderRadius:12,cursor:"pointer",textAlign:"left",transition:"all 0.2s"},onMouseEnter:F=>{F.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0,0,0,0.1)",F.currentTarget.style.borderColor="#3b82f6"},onMouseLeave:F=>{F.currentTarget.style.boxShadow="none",F.currentTarget.style.borderColor="#e5e7eb"},children:d.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[d.jsxs("strong",{style:{fontSize:15,color:"#111827"},children:["@",N.other_username]}),N.unread_count>0&&d.jsxs("span",{style:{background:"#3b82f6",color:"white",borderRadius:999,padding:"2px 10px",fontSize:11,fontWeight:600},children:[N.unread_count," new"]})]}),d.jsxs("div",{style:{background:"#f9fafb",padding:12,borderRadius:8,marginBottom:8,borderLeft:"3px solid #3b82f6"},children:[d.jsx("div",{style:{fontSize:11,color:"#6b7280",fontWeight:600,marginBottom:4,textTransform:"uppercase",letterSpacing:"0.5px"},children:"About Listing"}),d.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827",marginBottom:2},children:N.product_model||"Unknown Product"}),d.jsxs("div",{style:{fontSize:12,color:"#6b7280"},children:["Serial: ",N.serial_no||"N/A","  Price: ",N.listing_price&&N.listing_currency?`${N.listing_price} ${N.listing_currency}`:"N/A"]})]}),N.last_message&&d.jsxs("div",{style:{color:"#6b7280",fontSize:13,maxWidth:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[" ",N.last_message]})]})})}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx("button",{onClick:()=>m(h===N.thread_id?null:N.thread_id),style:{padding:"8px 12px",background:"transparent",border:"1px solid #e5e7eb",borderRadius:8,cursor:"pointer",fontSize:18,color:"#6b7280"},onMouseEnter:F=>{F.currentTarget.style.background="#f3f4f6"},onMouseLeave:F=>{F.currentTarget.style.background="transparent"},children:""}),h===N.thread_id&&d.jsxs("div",{style:{position:"absolute",top:"100%",right:0,background:"white",border:"1px solid #e5e7eb",borderRadius:8,marginTop:4,boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",zIndex:10,minWidth:140},children:[d.jsx("button",{onClick:()=>D(N.thread_id),style:{display:"block",width:"100%",padding:"10px 16px",background:"transparent",border:"none",borderBottom:"1px solid #f3f4f6",cursor:"pointer",textAlign:"left",fontSize:13,color:"#111827"},onMouseEnter:F=>{F.currentTarget.style.background="#f9fafb"},onMouseLeave:F=>{F.currentTarget.style.background="transparent"},children:" Archive"}),d.jsx("button",{onClick:()=>R(N.thread_id),style:{display:"block",width:"100%",padding:"10px 16px",background:"transparent",border:"none",cursor:"pointer",textAlign:"left",fontSize:13,color:"#dc2626"},onMouseEnter:F=>{F.currentTarget.style.background="#fee2e2"},onMouseLeave:F=>{F.currentTarget.style.background="transparent"},children:" Delete"})]})]})]},N.thread_id)),!a&&e.length===0&&d.jsx("p",{style:{color:"#6b7280"},children:"No conversations yet."})]}),E&&d.jsxs("div",{style:{marginTop:24},children:[d.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:18},children:"Archived"}),d.jsxs("div",{style:{display:"grid",gap:12},children:[n.map(N=>d.jsxs("div",{style:{display:"flex",gap:12,alignItems:"stretch",position:"relative",opacity:.9},children:[d.jsx("button",{onClick:()=>C(`/consumer/chats/${N.thread_id}`),style:{flex:1,padding:16,background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:12,cursor:"pointer",textAlign:"left"},children:d.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[d.jsxs("strong",{style:{fontSize:15,color:"#0f172a"},children:["@",N.other_username]}),d.jsx("span",{style:{background:"#e2e8f0",color:"#475569",borderRadius:999,padding:"2px 10px",fontSize:11,fontWeight:600},children:"Archived"})]}),d.jsx("div",{style:{color:"#475569",fontSize:13,maxWidth:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:N.last_message?` ${N.last_message}`:"No messages yet."})]})})}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx("button",{onClick:()=>m(h===N.thread_id?null:N.thread_id),style:{padding:"8px 12px",background:"transparent",border:"1px solid #e5e7eb",borderRadius:8,cursor:"pointer",fontSize:18,color:"#6b7280"},onMouseEnter:F=>{F.currentTarget.style.background="#f3f4f6"},onMouseLeave:F=>{F.currentTarget.style.background="transparent"},children:""}),h===N.thread_id&&d.jsxs("div",{style:{position:"absolute",top:"100%",right:0,background:"white",border:"1px solid #e5e7eb",borderRadius:8,marginTop:4,boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",zIndex:10,minWidth:160},children:[d.jsx("button",{onClick:()=>M(N.thread_id),style:{display:"block",width:"100%",padding:"10px 16px",background:"transparent",border:"none",borderBottom:"1px solid #f3f4f6",cursor:"pointer",textAlign:"left",fontSize:13,color:"#111827"},onMouseEnter:F=>{F.currentTarget.style.background="#f9fafb"},onMouseLeave:F=>{F.currentTarget.style.background="transparent"},children:" Unarchive"}),d.jsx("button",{onClick:()=>R(N.thread_id),style:{display:"block",width:"100%",padding:"10px 16px",background:"transparent",border:"none",cursor:"pointer",textAlign:"left",fontSize:13,color:"#dc2626"},onMouseEnter:F=>{F.currentTarget.style.background="#fee2e2"},onMouseLeave:F=>{F.currentTarget.style.background="transparent"},children:" Delete"})]})]})]},N.thread_id)),!a&&n.length===0&&d.jsx("p",{style:{color:"#6b7280"},children:"No archived conversations."})]})]})]})}const Nw="http://34.177.85.28:3000/api/chats";function SP(){const r=oi(),{threadId:e}=rf(),t=tn(),n=U.useMemo(()=>Number(localStorage.getItem("userId")),[]),[s,a]=U.useState([]),[l,u]=U.useState(null),[f,h]=U.useState(""),[m,E]=U.useState(null),[S,C]=U.useState(!1),[v,R]=U.useState(!1),[D,M]=U.useState(5),[N,F]=U.useState(""),[P,K]=U.useState(!1),[V,H]=U.useState(!1),[J,q]=U.useState(!1),[Z,Q]=U.useState("Fraudulent activity"),[$,T]=U.useState(!1),p=U.useRef(null),b=async()=>{if(!(!e||!n))try{const k=await De.get(`${Nw}/${e}/messages`,{params:{userId:n,limit:200}});k.data.success?(a(k.data.messages),u(k.data.thread)):E(k.data.error||"Failed to load messages")}catch{E("Failed to load messages")}};U.useEffect(()=>{b();const k=setInterval(b,3e3);return()=>clearInterval(k)},[e,n]),U.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[s]);const _=async()=>{const k=f.trim();if(!(!k||!e))try{const A=await De.post(`${Nw}/${e}/messages`,{userId:n,content:k});A.data.success?(h(""),await b()):E(A.data.error||"Failed to send")}catch{E("Failed to send message")}},O=async()=>{if(!r.connected||!r.publicKey){alert("Please connect your Phantom wallet to purchase.");return}if(!l)return;const k=l.listing_price&&l.listing_currency?`${l.listing_price} ${l.listing_currency}`:"";if(window.confirm(`Purchase "${l.product_model||"this product"}" for ${k}?`)){C(!0);try{(await De.post(`http://34.177.85.28:3000/api/products/listings/${l.listing_id}/purchase`,{buyerId:n})).data.success&&(alert(`Purchase successful! You now own ${l.product_model||"this product"}`),R(!0),u(w=>w&&{...w,listing_status:"sold"}),await b())}catch(g){const w=g?.response?.data?.error||g?.response?.data?.details||"Failed to complete purchase";alert(w)}finally{C(!1)}}},G=async()=>{if(!(!l||N.trim().length===0)){K(!0);try{(await De.post("http://34.177.85.28:3000/api/reviews",{owner_id:l.seller_id,author_id:n,rating:D,comment:N.trim()})).data.success&&(alert("Review submitted successfully!"),H(!0),R(!1),F(""),M(5))}catch(k){alert(k?.response?.data?.error||"Failed to submit review")}finally{K(!1)}}},z=async()=>{if(!(!e||!Z)){T(!0);try{(await De.post(`http://34.177.85.28:3000/api/chats/${e}/report`,{userId:n,reason:Z})).data.success&&(alert("Report sent to admin"),q(!1))}catch(k){alert(k?.response?.data?.error||"Failed to submit report")}finally{T(!1)}}};return d.jsxs("div",{style:{height:"calc(100vh - 60px)",padding:24,display:"flex",flexDirection:"column",gap:16},children:[d.jsx("div",{style:{position:"absolute",top:18,right:24,zIndex:100},children:d.jsx(Gi,{})}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("button",{onClick:()=>t(-1),title:"return to previous",style:{border:"1px solid #e5e7eb",background:"white",borderRadius:10,padding:"8px 14px",cursor:"pointer",display:"flex",alignItems:"center",gap:6,fontSize:14,fontWeight:600,color:"#374151",transition:"all 0.2s"},onMouseEnter:k=>{k.currentTarget.style.background="#f9fafb"},onMouseLeave:k=>{k.currentTarget.style.background="white"},children:" Back"}),l&&d.jsx("button",{onClick:()=>q(!0),style:{border:"1px solid #f87171",background:"#fef2f2",color:"#b91c1c",borderRadius:10,padding:"8px 16px",cursor:"pointer",fontWeight:600,fontSize:14,transition:"all 0.2s"},onMouseEnter:k=>{k.currentTarget.style.background="#fee2e2"},onMouseLeave:k=>{k.currentTarget.style.background="#fef2f2"},children:"Report seller"})]}),d.jsxs("div",{style:{display:"flex",gap:16,flex:1,minHeight:0},children:[l&&d.jsxs("div",{style:{width:340,flexShrink:0,display:"flex",flexDirection:"column",gap:12},children:[d.jsxs("div",{style:{background:"white",padding:16,borderRadius:12,border:"1px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[d.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4,fontWeight:500},children:"Chatting with"}),d.jsxs("div",{style:{fontSize:17,fontWeight:700,color:"#111827",display:"flex",alignItems:"center",gap:6},children:[d.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"#10b981",display:"inline-block"}}),"@",l.other_username]})]}),d.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:18,borderRadius:12,boxShadow:"0 4px 12px rgba(102, 126, 234, 0.2)",color:"white"},children:[d.jsx("div",{style:{fontSize:11,fontWeight:600,marginBottom:12,textTransform:"uppercase",letterSpacing:"1px",opacity:.9},children:"About This Listing"}),d.jsxs("div",{style:{marginBottom:16},children:[d.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:6},children:l.product_model||"Unknown Product"}),d.jsxs("div",{style:{fontSize:13,opacity:.9},children:["Serial: ",d.jsx("strong",{style:{fontWeight:600},children:l.serial_no||"N/A"})]})]}),d.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",backdropFilter:"blur(10px)",borderRadius:10,padding:14,marginBottom:12},children:[d.jsx("div",{style:{fontSize:11,marginBottom:4,opacity:.9},children:"Price"}),d.jsx("div",{style:{fontSize:24,fontWeight:700},children:l.listing_price&&l.listing_currency?`${l.listing_currency} ${l.listing_price}`:"N/A"})]}),l.listing_status==="sold"?d.jsx("div",{style:{background:"rgba(255,255,255,0.25)",borderRadius:8,padding:"10px 16px",fontSize:13,fontWeight:700,textAlign:"center"},children:" Sold"}):l.seller_id!==n&&d.jsx("button",{onClick:O,disabled:S,style:{background:S?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.95)",color:S?"rgba(255,255,255,0.7)":"#667eea",border:"none",borderRadius:8,padding:"12px 20px",cursor:S?"not-allowed":"pointer",fontSize:14,fontWeight:700,width:"100%",transition:"all 0.2s",opacity:S?.6:1},onMouseEnter:k=>{S||(k.currentTarget.style.background="white",k.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:k=>{S||(k.currentTarget.style.background="rgba(255,255,255,0.95)",k.currentTarget.style.transform="translateY(0)")},children:S?"Processing...":"Buy Now"})]})]}),d.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:12,minHeight:0},children:[d.jsxs("div",{ref:p,style:{flex:1,background:"#fafbfc",border:"1px solid #e5e7eb",borderRadius:12,padding:20,overflowY:"auto",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.02)"},children:[s.map(k=>{const A=k.sender_id===n;return d.jsx("div",{style:{display:"flex",justifyContent:A?"flex-end":"flex-start",marginBottom:12,animation:"fadeIn 0.2s ease-in"},children:d.jsx("div",{style:{maxWidth:"65%",padding:"10px 16px",borderRadius:A?"18px 18px 4px 18px":"18px 18px 18px 4px",background:A?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"white",color:A?"white":"#111827",whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:14,lineHeight:1.5,boxShadow:A?"0 2px 8px rgba(102, 126, 234, 0.25)":"0 1px 3px rgba(0,0,0,0.08)",border:A?"none":"1px solid #e5e7eb"},children:k.content})},k.message_id)}),s.length===0&&d.jsxs("div",{style:{textAlign:"center",color:"#9ca3af",padding:"60px 20px",fontSize:15},children:[d.jsx("div",{style:{fontSize:40,marginBottom:12},children:""}),d.jsx("div",{style:{fontWeight:600,marginBottom:4},children:"No messages yet"}),d.jsx("div",{style:{fontSize:13},children:"Start the conversation!"})]})]}),d.jsxs("div",{style:{display:"flex",gap:10,background:"white",padding:12,borderRadius:12,border:"1px solid #e5e7eb",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[d.jsx("textarea",{value:f,onChange:k=>h(k.target.value),placeholder:"Type your message...",rows:2,style:{flex:1,padding:12,borderRadius:10,border:"1px solid #e5e7eb",resize:"none",fontSize:14,fontFamily:"inherit",outline:"none",transition:"border-color 0.2s"},onKeyDown:k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),_())},onFocus:k=>{k.currentTarget.style.borderColor="#667eea"},onBlur:k=>{k.currentTarget.style.borderColor="#e5e7eb"},maxLength:1e3}),d.jsx("button",{onClick:_,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:10,padding:"12px 24px",cursor:"pointer",fontWeight:600,fontSize:14,transition:"all 0.2s",boxShadow:"0 2px 8px rgba(102, 126, 234, 0.3)"},onMouseEnter:k=>{k.currentTarget.style.transform="translateY(-1px)",k.currentTarget.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.4)"},onMouseLeave:k=>{k.currentTarget.style.transform="translateY(0)",k.currentTarget.style.boxShadow="0 2px 8px rgba(102, 126, 234, 0.3)"},children:"Send"})]})]})]}),v&&!V&&l?.seller_id!==n&&d.jsxs("div",{style:{background:"#f0fdf4",border:"1px solid #86efac",borderRadius:12,padding:16,marginTop:8},children:[d.jsxs("h3",{style:{margin:"0 0 12px 0",color:"#166534",fontSize:14,fontWeight:600},children:["Leave a Review for ",l?.product_model]}),d.jsxs("div",{style:{marginBottom:12},children:[d.jsx("label",{style:{display:"block",fontSize:12,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Rating"}),d.jsxs("select",{value:D,onChange:k=>M(Number(k.target.value)),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #d1d5db",fontSize:13},children:[d.jsx("option",{value:5,children:" Excellent"}),d.jsx("option",{value:4,children:" Good"}),d.jsx("option",{value:3,children:" Average"}),d.jsx("option",{value:2,children:" Poor"}),d.jsx("option",{value:1,children:" Very Poor"})]})]}),d.jsxs("div",{style:{marginBottom:12},children:[d.jsx("label",{style:{display:"block",fontSize:12,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Comment"}),d.jsx("textarea",{value:N,onChange:k=>F(k.target.value),placeholder:"Share your experience with this seller...",rows:3,style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #d1d5db",fontSize:13,resize:"none",fontFamily:"inherit"},maxLength:500}),d.jsxs("div",{style:{fontSize:11,color:"#6b7280",marginTop:4},children:[N.length,"/500"]})]}),d.jsxs("div",{style:{display:"flex",gap:8},children:[d.jsx("button",{onClick:G,disabled:P,style:{background:"#28a745",color:"white",border:"none",borderRadius:8,padding:"8px 16px",cursor:P?"not-allowed":"pointer",fontSize:13,fontWeight:600,opacity:P?.6:1},children:P?"Submitting...":"Submit Review"}),d.jsx("button",{onClick:()=>{R(!1),F(""),M(5)},style:{background:"#e5e7eb",color:"#111827",border:"none",borderRadius:8,padding:"8px 16px",cursor:"pointer",fontSize:13,fontWeight:600},children:"Skip"})]})]}),m&&d.jsx("p",{style:{color:"#b91c1c"},children:m}),J&&d.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:200},onClick:()=>!$&&q(!1),children:d.jsxs("div",{style:{background:"white",padding:20,borderRadius:10,width:360,maxWidth:"90%",boxShadow:"0 10px 30px rgba(0,0,0,0.15)"},onClick:k=>k.stopPropagation(),children:[d.jsx("h3",{style:{marginTop:0,marginBottom:12},children:"Report seller"}),d.jsx("label",{style:{display:"block",fontSize:13,marginBottom:8,color:"#374151"},children:"Reason"}),d.jsxs("select",{value:Z,onChange:k=>Q(k.target.value),style:{width:"100%",padding:10,border:"1px solid #d1d5db",borderRadius:8,marginBottom:12},children:[d.jsx("option",{children:"Fraudulent activity"}),d.jsx("option",{children:"Harassment or abuse"}),d.jsx("option",{children:"Scam or phishing"}),d.jsx("option",{children:"Counterfeit product"}),d.jsx("option",{children:"Other policy violation"})]}),d.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[d.jsx("button",{onClick:()=>q(!1),disabled:$,style:{background:"#e5e7eb",border:"none",borderRadius:8,padding:"8px 14px",cursor:"pointer"},children:"Cancel"}),d.jsx("button",{onClick:z,disabled:$,style:{background:"#dc2626",color:"white",border:"none",borderRadius:8,padding:"8px 14px",cursor:$?"not-allowed":"pointer"},children:$?"Sending...":"Submit"})]})]})})]})}var Nx={exports:{}},_P=Nx.exports,Iw;function DP(){return Iw||(Iw=1,(function(r,e){(function(n,s){r.exports=s()})(typeof self<"u"?self:_P,function(){return(function(t){var n={};function s(a){if(n[a])return n[a].exports;var l=n[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,s),l.l=!0,l.exports}return s.m=t,s.c=n,s.d=function(a,l,u){s.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:u})},s.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(l,"a",l),l},s.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},s.p="",s(s.s=3)})([(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function l(u,f){this.width=f,this.height=u.length/f,this.data=u}return l.createEmpty=function(u,f){return new l(new Uint8ClampedArray(u*f),u)},l.prototype.get=function(u,f){return u<0||u>=this.width||f<0||f>=this.height?!1:!!this.data[f*this.width+u]},l.prototype.set=function(u,f,h){this.data[f*this.width+u]=h?1:0},l.prototype.setRegion=function(u,f,h,m,E){for(var S=f;S<f+m;S++)for(var C=u;C<u+h;C++)this.set(C,S,!!E)},l})();n.BitMatrix=a}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(2);function l(f,h){return f^h}n.addOrSubtractGF=l;var u=(function(){function f(h,m,E){this.primitive=h,this.size=m,this.generatorBase=E,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var S=1,C=0;C<this.size;C++)this.expTable[C]=S,S=S*2,S>=this.size&&(S=(S^this.primitive)&this.size-1);for(var C=0;C<this.size-1;C++)this.logTable[this.expTable[C]]=C;this.zero=new a.default(this,Uint8ClampedArray.from([0])),this.one=new a.default(this,Uint8ClampedArray.from([1]))}return f.prototype.multiply=function(h,m){return h===0||m===0?0:this.expTable[(this.logTable[h]+this.logTable[m])%(this.size-1)]},f.prototype.inverse=function(h){if(h===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[h]-1]},f.prototype.buildMonomial=function(h,m){if(h<0)throw new Error("Invalid monomial degree less than 0");if(m===0)return this.zero;var E=new Uint8ClampedArray(h+1);return E[0]=m,new a.default(this,E)},f.prototype.log=function(h){if(h===0)throw new Error("Can't take log(0)");return this.logTable[h]},f.prototype.exp=function(h){return this.expTable[h]},f})();n.default=u}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(1),l=(function(){function u(f,h){if(h.length===0)throw new Error("No coefficients.");this.field=f;var m=h.length;if(m>1&&h[0]===0){for(var E=1;E<m&&h[E]===0;)E++;if(E===m)this.coefficients=f.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(m-E);for(var S=0;S<this.coefficients.length;S++)this.coefficients[S]=h[E+S]}}else this.coefficients=h}return u.prototype.degree=function(){return this.coefficients.length-1},u.prototype.isZero=function(){return this.coefficients[0]===0},u.prototype.getCoefficient=function(f){return this.coefficients[this.coefficients.length-1-f]},u.prototype.addOrSubtract=function(f){var h;if(this.isZero())return f;if(f.isZero())return this;var m=this.coefficients,E=f.coefficients;m.length>E.length&&(h=[E,m],m=h[0],E=h[1]);for(var S=new Uint8ClampedArray(E.length),C=E.length-m.length,v=0;v<C;v++)S[v]=E[v];for(var v=C;v<E.length;v++)S[v]=a.addOrSubtractGF(m[v-C],E[v]);return new u(this.field,S)},u.prototype.multiply=function(f){if(f===0)return this.field.zero;if(f===1)return this;for(var h=this.coefficients.length,m=new Uint8ClampedArray(h),E=0;E<h;E++)m[E]=this.field.multiply(this.coefficients[E],f);return new u(this.field,m)},u.prototype.multiplyPoly=function(f){if(this.isZero()||f.isZero())return this.field.zero;for(var h=this.coefficients,m=h.length,E=f.coefficients,S=E.length,C=new Uint8ClampedArray(m+S-1),v=0;v<m;v++)for(var R=h[v],D=0;D<S;D++)C[v+D]=a.addOrSubtractGF(C[v+D],this.field.multiply(R,E[D]));return new u(this.field,C)},u.prototype.multiplyByMonomial=function(f,h){if(f<0)throw new Error("Invalid degree less than 0");if(h===0)return this.field.zero;for(var m=this.coefficients.length,E=new Uint8ClampedArray(m+f),S=0;S<m;S++)E[S]=this.field.multiply(this.coefficients[S],h);return new u(this.field,E)},u.prototype.evaluateAt=function(f){var h=0;if(f===0)return this.getCoefficient(0);var m=this.coefficients.length;if(f===1)return this.coefficients.forEach(function(S){h=a.addOrSubtractGF(h,S)}),h;h=this.coefficients[0];for(var E=1;E<m;E++)h=a.addOrSubtractGF(this.field.multiply(f,h),this.coefficients[E]);return h},u})();n.default=l}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(4),l=s(5),u=s(11),f=s(12);function h(S){var C=f.locate(S);if(!C)return null;for(var v=0,R=C;v<R.length;v++){var D=R[v],M=u.extract(S,D),N=l.decode(M.matrix);if(N)return{binaryData:N.bytes,data:N.text,chunks:N.chunks,version:N.version,location:{topRightCorner:M.mappingFunction(D.dimension,0),topLeftCorner:M.mappingFunction(0,0),bottomRightCorner:M.mappingFunction(D.dimension,D.dimension),bottomLeftCorner:M.mappingFunction(0,D.dimension),topRightFinderPattern:D.topRight,topLeftFinderPattern:D.topLeft,bottomLeftFinderPattern:D.bottomLeft,bottomRightAlignmentPattern:D.alignmentPattern}}}return null}var m={inversionAttempts:"attemptBoth"};function E(S,C,v,R){R===void 0&&(R={});var D=m;Object.keys(D||{}).forEach(function(H){D[H]=R[H]||D[H]});var M=D.inversionAttempts==="attemptBoth"||D.inversionAttempts==="invertFirst",N=D.inversionAttempts==="onlyInvert"||D.inversionAttempts==="invertFirst",F=a.binarize(S,C,v,M),P=F.binarized,K=F.inverted,V=h(N?K:P);return!V&&(D.inversionAttempts==="attemptBoth"||D.inversionAttempts==="invertFirst")&&(V=h(N?P:K)),V}E.default=E,n.default=E}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(0),l=8,u=24;function f(E,S,C){return E<S?S:E>C?C:E}var h=(function(){function E(S,C){this.width=S,this.data=new Uint8ClampedArray(S*C)}return E.prototype.get=function(S,C){return this.data[C*this.width+S]},E.prototype.set=function(S,C,v){this.data[C*this.width+S]=v},E})();function m(E,S,C,v){if(E.length!==S*C*4)throw new Error("Malformed data passed to binarizer.");for(var R=new h(S,C),D=0;D<S;D++)for(var M=0;M<C;M++){var N=E[(M*S+D)*4+0],F=E[(M*S+D)*4+1],P=E[(M*S+D)*4+2];R.set(D,M,.2126*N+.7152*F+.0722*P)}for(var K=Math.ceil(S/l),V=Math.ceil(C/l),H=new h(K,V),J=0;J<V;J++)for(var q=0;q<K;q++){for(var Z=0,Q=1/0,$=0,M=0;M<l;M++)for(var D=0;D<l;D++){var T=R.get(q*l+D,J*l+M);Z+=T,Q=Math.min(Q,T),$=Math.max($,T)}var p=Z/Math.pow(l,2);if($-Q<=u&&(p=Q/2,J>0&&q>0)){var b=(H.get(q,J-1)+2*H.get(q-1,J)+H.get(q-1,J-1))/4;Q<b&&(p=b)}H.set(q,J,p)}var _=a.BitMatrix.createEmpty(S,C),O=null;v&&(O=a.BitMatrix.createEmpty(S,C));for(var J=0;J<V;J++)for(var q=0;q<K;q++){for(var G=f(q,2,K-3),z=f(J,2,V-3),Z=0,k=-2;k<=2;k++)for(var A=-2;A<=2;A++)Z+=H.get(G+k,z+A);for(var g=Z/25,k=0;k<l;k++)for(var A=0;A<l;A++){var D=q*l+k,M=J*l+A,w=R.get(D,M);_.set(D,M,w<=g),v&&O.set(D,M,!(w<=g))}}return v?{binarized:_,inverted:O}:{binarized:_}}n.binarize=m}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(0),l=s(6),u=s(9),f=s(10);function h(P,K){for(var V=P^K,H=0;V;)H++,V&=V-1;return H}function m(P,K){return K<<1|P}var E=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],S=[function(P){return(P.y+P.x)%2===0},function(P){return P.y%2===0},function(P){return P.x%3===0},function(P){return(P.y+P.x)%3===0},function(P){return(Math.floor(P.y/2)+Math.floor(P.x/3))%2===0},function(P){return P.x*P.y%2+P.x*P.y%3===0},function(P){return(P.y*P.x%2+P.y*P.x%3)%2===0},function(P){return((P.y+P.x)%2+P.y*P.x%3)%2===0}];function C(P){var K=17+4*P.versionNumber,V=a.BitMatrix.createEmpty(K,K);V.setRegion(0,0,9,9,!0),V.setRegion(K-8,0,8,9,!0),V.setRegion(0,K-8,9,8,!0);for(var H=0,J=P.alignmentPatternCenters;H<J.length;H++)for(var q=J[H],Z=0,Q=P.alignmentPatternCenters;Z<Q.length;Z++){var $=Q[Z];q===6&&$===6||q===6&&$===K-7||q===K-7&&$===6||V.setRegion(q-2,$-2,5,5,!0)}return V.setRegion(6,9,1,K-17,!0),V.setRegion(9,6,K-17,1,!0),P.versionNumber>6&&(V.setRegion(K-11,0,3,6,!0),V.setRegion(0,K-11,6,3,!0)),V}function v(P,K,V){for(var H=S[V.dataMask],J=P.height,q=C(K),Z=[],Q=0,$=0,T=!0,p=J-1;p>0;p-=2){p===6&&p--;for(var b=0;b<J;b++)for(var _=T?J-1-b:b,O=0;O<2;O++){var G=p-O;if(!q.get(G,_)){$++;var z=P.get(G,_);H({y:_,x:G})&&(z=!z),Q=m(z,Q),$===8&&(Z.push(Q),$=0,Q=0)}}T=!T}return Z}function R(P){var K=P.height,V=Math.floor((K-17)/4);if(V<=6)return f.VERSIONS[V-1];for(var H=0,J=5;J>=0;J--)for(var q=K-9;q>=K-11;q--)H=m(P.get(q,J),H);for(var Z=0,q=5;q>=0;q--)for(var J=K-9;J>=K-11;J--)Z=m(P.get(q,J),Z);for(var Q=1/0,$,T=0,p=f.VERSIONS;T<p.length;T++){var b=p[T];if(b.infoBits===H||b.infoBits===Z)return b;var _=h(H,b.infoBits);_<Q&&($=b,Q=_),_=h(Z,b.infoBits),_<Q&&($=b,Q=_)}if(Q<=3)return $}function D(P){for(var K=0,V=0;V<=8;V++)V!==6&&(K=m(P.get(V,8),K));for(var H=7;H>=0;H--)H!==6&&(K=m(P.get(8,H),K));for(var J=P.height,q=0,H=J-1;H>=J-7;H--)q=m(P.get(8,H),q);for(var V=J-8;V<J;V++)q=m(P.get(V,8),q);for(var Z=1/0,Q=null,$=0,T=E;$<T.length;$++){var p=T[$],b=p.bits,_=p.formatInfo;if(b===K||b===q)return _;var O=h(K,b);O<Z&&(Q=_,Z=O),K!==q&&(O=h(q,b),O<Z&&(Q=_,Z=O))}return Z<=3?Q:null}function M(P,K,V){var H=K.errorCorrectionLevels[V],J=[],q=0;if(H.ecBlocks.forEach(function(z){for(var k=0;k<z.numBlocks;k++)J.push({numDataCodewords:z.dataCodewordsPerBlock,codewords:[]}),q+=z.dataCodewordsPerBlock+H.ecCodewordsPerBlock}),P.length<q)return null;P=P.slice(0,q);for(var Z=H.ecBlocks[0].dataCodewordsPerBlock,Q=0;Q<Z;Q++)for(var $=0,T=J;$<T.length;$++){var p=T[$];p.codewords.push(P.shift())}if(H.ecBlocks.length>1)for(var b=H.ecBlocks[0].numBlocks,_=H.ecBlocks[1].numBlocks,Q=0;Q<_;Q++)J[b+Q].codewords.push(P.shift());for(;P.length>0;)for(var O=0,G=J;O<G.length;O++){var p=G[O];p.codewords.push(P.shift())}return J}function N(P){var K=R(P);if(!K)return null;var V=D(P);if(!V)return null;var H=v(P,K,V),J=M(H,K,V.errorCorrectionLevel);if(!J)return null;for(var q=J.reduce(function(O,G){return O+G.numDataCodewords},0),Z=new Uint8ClampedArray(q),Q=0,$=0,T=J;$<T.length;$++){var p=T[$],b=u.decode(p.codewords,p.codewords.length-p.numDataCodewords);if(!b)return null;for(var _=0;_<p.numDataCodewords;_++)Z[Q++]=b[_]}try{return l.decode(Z,K.versionNumber)}catch{return null}}function F(P){if(P==null)return null;var K=N(P);if(K)return K;for(var V=0;V<P.width;V++)for(var H=V+1;H<P.height;H++)P.get(V,H)!==P.get(H,V)&&(P.set(V,H,!P.get(V,H)),P.set(H,V,!P.get(H,V)));return N(P)}n.decode=F}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(7),l=s(8),u;(function(R){R.Numeric="numeric",R.Alphanumeric="alphanumeric",R.Byte="byte",R.Kanji="kanji",R.ECI="eci"})(u=n.Mode||(n.Mode={}));var f;(function(R){R[R.Terminator=0]="Terminator",R[R.Numeric=1]="Numeric",R[R.Alphanumeric=2]="Alphanumeric",R[R.Byte=4]="Byte",R[R.Kanji=8]="Kanji",R[R.ECI=7]="ECI"})(f||(f={}));function h(R,D){for(var M=[],N="",F=[10,12,14][D],P=R.readBits(F);P>=3;){var K=R.readBits(10);if(K>=1e3)throw new Error("Invalid numeric value above 999");var V=Math.floor(K/100),H=Math.floor(K/10)%10,J=K%10;M.push(48+V,48+H,48+J),N+=V.toString()+H.toString()+J.toString(),P-=3}if(P===2){var K=R.readBits(7);if(K>=100)throw new Error("Invalid numeric value above 99");var V=Math.floor(K/10),H=K%10;M.push(48+V,48+H),N+=V.toString()+H.toString()}else if(P===1){var K=R.readBits(4);if(K>=10)throw new Error("Invalid numeric value above 9");M.push(48+K),N+=K.toString()}return{bytes:M,text:N}}var m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function E(R,D){for(var M=[],N="",F=[9,11,13][D],P=R.readBits(F);P>=2;){var K=R.readBits(11),V=Math.floor(K/45),H=K%45;M.push(m[V].charCodeAt(0),m[H].charCodeAt(0)),N+=m[V]+m[H],P-=2}if(P===1){var V=R.readBits(6);M.push(m[V].charCodeAt(0)),N+=m[V]}return{bytes:M,text:N}}function S(R,D){for(var M=[],N="",F=[8,16,16][D],P=R.readBits(F),K=0;K<P;K++){var V=R.readBits(8);M.push(V)}try{N+=decodeURIComponent(M.map(function(H){return"%"+("0"+H.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:M,text:N}}function C(R,D){for(var M=[],N="",F=[8,10,12][D],P=R.readBits(F),K=0;K<P;K++){var V=R.readBits(13),H=Math.floor(V/192)<<8|V%192;H<7936?H+=33088:H+=49472,M.push(H>>8,H&255),N+=String.fromCharCode(l.shiftJISTable[H])}return{bytes:M,text:N}}function v(R,D){for(var M,N,F,P,K=new a.BitStream(R),V=D<=9?0:D<=26?1:2,H={text:"",bytes:[],chunks:[],version:D};K.available()>=4;){var J=K.readBits(4);if(J===f.Terminator)return H;if(J===f.ECI)K.readBits(1)===0?H.chunks.push({type:u.ECI,assignmentNumber:K.readBits(7)}):K.readBits(1)===0?H.chunks.push({type:u.ECI,assignmentNumber:K.readBits(14)}):K.readBits(1)===0?H.chunks.push({type:u.ECI,assignmentNumber:K.readBits(21)}):H.chunks.push({type:u.ECI,assignmentNumber:-1});else if(J===f.Numeric){var q=h(K,V);H.text+=q.text,(M=H.bytes).push.apply(M,q.bytes),H.chunks.push({type:u.Numeric,text:q.text})}else if(J===f.Alphanumeric){var Z=E(K,V);H.text+=Z.text,(N=H.bytes).push.apply(N,Z.bytes),H.chunks.push({type:u.Alphanumeric,text:Z.text})}else if(J===f.Byte){var Q=S(K,V);H.text+=Q.text,(F=H.bytes).push.apply(F,Q.bytes),H.chunks.push({type:u.Byte,bytes:Q.bytes,text:Q.text})}else if(J===f.Kanji){var $=C(K,V);H.text+=$.text,(P=H.bytes).push.apply(P,$.bytes),H.chunks.push({type:u.Kanji,bytes:$.bytes,text:$.text})}}if(K.available()===0||K.readBits(K.available())===0)return H}n.decode=v}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function l(u){this.byteOffset=0,this.bitOffset=0,this.bytes=u}return l.prototype.readBits=function(u){if(u<1||u>32||u>this.available())throw new Error("Cannot read "+u.toString()+" bits");var f=0;if(this.bitOffset>0){var h=8-this.bitOffset,m=u<h?u:h,E=h-m,S=255>>8-m<<E;f=(this.bytes[this.byteOffset]&S)>>E,u-=m,this.bitOffset+=m,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(u>0){for(;u>=8;)f=f<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,u-=8;if(u>0){var E=8-u,S=255>>E<<E;f=f<<u|(this.bytes[this.byteOffset]&S)>>E,this.bitOffset+=u}}return f},l.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},l})();n.BitStream=a}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(1),l=s(2);function u(E,S,C,v){var R;S.degree()<C.degree()&&(R=[C,S],S=R[0],C=R[1]);for(var D=S,M=C,N=E.zero,F=E.one;M.degree()>=v/2;){var P=D,K=N;if(D=M,N=F,D.isZero())return null;M=P;for(var V=E.zero,H=D.getCoefficient(D.degree()),J=E.inverse(H);M.degree()>=D.degree()&&!M.isZero();){var q=M.degree()-D.degree(),Z=E.multiply(M.getCoefficient(M.degree()),J);V=V.addOrSubtract(E.buildMonomial(q,Z)),M=M.addOrSubtract(D.multiplyByMonomial(q,Z))}if(F=V.multiplyPoly(N).addOrSubtract(K),M.degree()>=D.degree())return null}var Q=F.getCoefficient(0);if(Q===0)return null;var $=E.inverse(Q);return[F.multiply($),M.multiply($)]}function f(E,S){var C=S.degree();if(C===1)return[S.getCoefficient(1)];for(var v=new Array(C),R=0,D=1;D<E.size&&R<C;D++)S.evaluateAt(D)===0&&(v[R]=E.inverse(D),R++);return R!==C?null:v}function h(E,S,C){for(var v=C.length,R=new Array(v),D=0;D<v;D++){for(var M=E.inverse(C[D]),N=1,F=0;F<v;F++)D!==F&&(N=E.multiply(N,a.addOrSubtractGF(1,E.multiply(C[F],M))));R[D]=E.multiply(S.evaluateAt(M),E.inverse(N)),E.generatorBase!==0&&(R[D]=E.multiply(R[D],M))}return R}function m(E,S){var C=new Uint8ClampedArray(E.length);C.set(E);for(var v=new a.default(285,256,0),R=new l.default(v,C),D=new Uint8ClampedArray(S),M=!1,N=0;N<S;N++){var F=R.evaluateAt(v.exp(N+v.generatorBase));D[D.length-1-N]=F,F!==0&&(M=!0)}if(!M)return C;var P=new l.default(v,D),K=u(v,v.buildMonomial(S,1),P,S);if(K===null)return null;var V=f(v,K[0]);if(V==null)return null;for(var H=h(v,K[1],V),J=0;J<V.length;J++){var q=C.length-1-v.log(V[J]);if(q<0)return null;C[q]=a.addOrSubtractGF(C[q],H[J])}return C}n.decode=m}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(0);function l(m,E,S,C){var v=m.x-E.x+S.x-C.x,R=m.y-E.y+S.y-C.y;if(v===0&&R===0)return{a11:E.x-m.x,a12:E.y-m.y,a13:0,a21:S.x-E.x,a22:S.y-E.y,a23:0,a31:m.x,a32:m.y,a33:1};var D=E.x-S.x,M=C.x-S.x,N=E.y-S.y,F=C.y-S.y,P=D*F-M*N,K=(v*F-M*R)/P,V=(D*R-v*N)/P;return{a11:E.x-m.x+K*E.x,a12:E.y-m.y+K*E.y,a13:K,a21:C.x-m.x+V*C.x,a22:C.y-m.y+V*C.y,a23:V,a31:m.x,a32:m.y,a33:1}}function u(m,E,S,C){var v=l(m,E,S,C);return{a11:v.a22*v.a33-v.a23*v.a32,a12:v.a13*v.a32-v.a12*v.a33,a13:v.a12*v.a23-v.a13*v.a22,a21:v.a23*v.a31-v.a21*v.a33,a22:v.a11*v.a33-v.a13*v.a31,a23:v.a13*v.a21-v.a11*v.a23,a31:v.a21*v.a32-v.a22*v.a31,a32:v.a12*v.a31-v.a11*v.a32,a33:v.a11*v.a22-v.a12*v.a21}}function f(m,E){return{a11:m.a11*E.a11+m.a21*E.a12+m.a31*E.a13,a12:m.a12*E.a11+m.a22*E.a12+m.a32*E.a13,a13:m.a13*E.a11+m.a23*E.a12+m.a33*E.a13,a21:m.a11*E.a21+m.a21*E.a22+m.a31*E.a23,a22:m.a12*E.a21+m.a22*E.a22+m.a32*E.a23,a23:m.a13*E.a21+m.a23*E.a22+m.a33*E.a23,a31:m.a11*E.a31+m.a21*E.a32+m.a31*E.a33,a32:m.a12*E.a31+m.a22*E.a32+m.a32*E.a33,a33:m.a13*E.a31+m.a23*E.a32+m.a33*E.a33}}function h(m,E){for(var S=u({x:3.5,y:3.5},{x:E.dimension-3.5,y:3.5},{x:E.dimension-6.5,y:E.dimension-6.5},{x:3.5,y:E.dimension-3.5}),C=l(E.topLeft,E.topRight,E.alignmentPattern,E.bottomLeft),v=f(C,S),R=a.BitMatrix.createEmpty(E.dimension,E.dimension),D=function(V,H){var J=v.a13*V+v.a23*H+v.a33;return{x:(v.a11*V+v.a21*H+v.a31)/J,y:(v.a12*V+v.a22*H+v.a32)/J}},M=0;M<E.dimension;M++)for(var N=0;N<E.dimension;N++){var F=N+.5,P=M+.5,K=D(F,P);R.set(N,M,m.get(Math.floor(K.x),Math.floor(K.y)))}return{matrix:R,mappingFunction:D}}n.extract=h}),(function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=4,l=.5,u=1.5,f=function(F,P){return Math.sqrt(Math.pow(P.x-F.x,2)+Math.pow(P.y-F.y,2))};function h(F){return F.reduce(function(P,K){return P+K})}function m(F,P,K){var V,H,J,q,Z=f(F,P),Q=f(P,K),$=f(F,K),T,p,b;return Q>=Z&&Q>=$?(V=[P,F,K],T=V[0],p=V[1],b=V[2]):$>=Q&&$>=Z?(H=[F,P,K],T=H[0],p=H[1],b=H[2]):(J=[F,K,P],T=J[0],p=J[1],b=J[2]),(b.x-p.x)*(T.y-p.y)-(b.y-p.y)*(T.x-p.x)<0&&(q=[b,T],T=q[0],b=q[1]),{bottomLeft:T,topLeft:p,topRight:b}}function E(F,P,K,V){var H=(h(C(F,K,V,5))/7+h(C(F,P,V,5))/7+h(C(K,F,V,5))/7+h(C(P,F,V,5))/7)/4;if(H<1)throw new Error("Invalid module size");var J=Math.round(f(F,P)/H),q=Math.round(f(F,K)/H),Z=Math.floor((J+q)/2)+7;switch(Z%4){case 0:Z++;break;case 2:Z--;break}return{dimension:Z,moduleSize:H}}function S(F,P,K,V){var H=[{x:Math.floor(F.x),y:Math.floor(F.y)}],J=Math.abs(P.y-F.y)>Math.abs(P.x-F.x),q,Z,Q,$;J?(q=Math.floor(F.y),Z=Math.floor(F.x),Q=Math.floor(P.y),$=Math.floor(P.x)):(q=Math.floor(F.x),Z=Math.floor(F.y),Q=Math.floor(P.x),$=Math.floor(P.y));for(var T=Math.abs(Q-q),p=Math.abs($-Z),b=Math.floor(-T/2),_=q<Q?1:-1,O=Z<$?1:-1,G=!0,z=q,k=Z;z!==Q+_;z+=_){var A=J?k:z,g=J?z:k;if(K.get(A,g)!==G&&(G=!G,H.push({x:A,y:g}),H.length===V+1))break;if(b+=p,b>0){if(k===$)break;k+=O,b-=T}}for(var w=[],j=0;j<V;j++)H[j]&&H[j+1]?w.push(f(H[j],H[j+1])):w.push(0);return w}function C(F,P,K,V){var H,J=P.y-F.y,q=P.x-F.x,Z=S(F,P,K,Math.ceil(V/2)),Q=S(F,{x:F.x-q,y:F.y-J},K,Math.ceil(V/2)),$=Z.shift()+Q.shift()-1;return(H=Q.concat($)).concat.apply(H,Z)}function v(F,P){var K=h(F)/h(P),V=0;return P.forEach(function(H,J){V+=Math.pow(F[J]-H*K,2)}),{averageSize:K,error:V}}function R(F,P,K){try{var V=C(F,{x:-1,y:F.y},K,P.length),H=C(F,{x:F.x,y:-1},K,P.length),J={x:Math.max(0,F.x-F.y)-1,y:Math.max(0,F.y-F.x)-1},q=C(F,J,K,P.length),Z={x:Math.min(K.width,F.x+F.y)+1,y:Math.min(K.height,F.y+F.x)+1},Q=C(F,Z,K,P.length),$=v(V,P),T=v(H,P),p=v(q,P),b=v(Q,P),_=Math.sqrt($.error*$.error+T.error*T.error+p.error*p.error+b.error*b.error),O=($.averageSize+T.averageSize+p.averageSize+b.averageSize)/4,G=(Math.pow($.averageSize-O,2)+Math.pow(T.averageSize-O,2)+Math.pow(p.averageSize-O,2)+Math.pow(b.averageSize-O,2))/O;return _+G}catch{return 1/0}}function D(F,P){for(var K=Math.round(P.x);F.get(K,Math.round(P.y));)K--;for(var V=Math.round(P.x);F.get(V,Math.round(P.y));)V++;for(var H=(K+V)/2,J=Math.round(P.y);F.get(Math.round(H),J);)J--;for(var q=Math.round(P.y);F.get(Math.round(H),q);)q++;var Z=(J+q)/2;return{x:H,y:Z}}function M(F){for(var P=[],K=[],V=[],H=[],J=function(A){for(var g=0,w=!1,j=[0,0,0,0,0],X=function(oe){var be=F.get(oe,A);if(be===w)g++;else{j=[j[1],j[2],j[3],j[4],g],g=1,w=be;var we=h(j)/7,Je=Math.abs(j[0]-we)<we&&Math.abs(j[1]-we)<we&&Math.abs(j[2]-3*we)<3*we&&Math.abs(j[3]-we)<we&&Math.abs(j[4]-we)<we&&!be,et=h(j.slice(-3))/3,Re=Math.abs(j[2]-et)<et&&Math.abs(j[3]-et)<et&&Math.abs(j[4]-et)<et&&be;if(Je){var rt=oe-j[3]-j[4],Le=rt-j[2],Ge={startX:Le,endX:rt,y:A},$t=K.filter(function(dn){return Le>=dn.bottom.startX&&Le<=dn.bottom.endX||rt>=dn.bottom.startX&&Le<=dn.bottom.endX||Le<=dn.bottom.startX&&rt>=dn.bottom.endX&&j[2]/(dn.bottom.endX-dn.bottom.startX)<u&&j[2]/(dn.bottom.endX-dn.bottom.startX)>l});$t.length>0?$t[0].bottom=Ge:K.push({top:Ge,bottom:Ge})}if(Re){var ct=oe-j[4],vt=ct-j[3],Ge={startX:vt,y:A,endX:ct},$t=H.filter(function(nt){return vt>=nt.bottom.startX&&vt<=nt.bottom.endX||ct>=nt.bottom.startX&&vt<=nt.bottom.endX||vt<=nt.bottom.startX&&ct>=nt.bottom.endX&&j[2]/(nt.bottom.endX-nt.bottom.startX)<u&&j[2]/(nt.bottom.endX-nt.bottom.startX)>l});$t.length>0?$t[0].bottom=Ge:H.push({top:Ge,bottom:Ge})}}},ne=-1;ne<=F.width;ne++)X(ne);P.push.apply(P,K.filter(function(oe){return oe.bottom.y!==A&&oe.bottom.y-oe.top.y>=2})),K=K.filter(function(oe){return oe.bottom.y===A}),V.push.apply(V,H.filter(function(oe){return oe.bottom.y!==A})),H=H.filter(function(oe){return oe.bottom.y===A})},q=0;q<=F.height;q++)J(q);P.push.apply(P,K.filter(function(A){return A.bottom.y-A.top.y>=2})),V.push.apply(V,H);var Z=P.filter(function(A){return A.bottom.y-A.top.y>=2}).map(function(A){var g=(A.top.startX+A.top.endX+A.bottom.startX+A.bottom.endX)/4,w=(A.top.y+A.bottom.y+1)/2;if(F.get(Math.round(g),Math.round(w))){var j=[A.top.endX-A.top.startX,A.bottom.endX-A.bottom.startX,A.bottom.y-A.top.y+1],X=h(j)/j.length,ne=R({x:Math.round(g),y:Math.round(w)},[1,1,3,1,1],F);return{score:ne,x:g,y:w,size:X}}}).filter(function(A){return!!A}).sort(function(A,g){return A.score-g.score}).map(function(A,g,w){if(g>a)return null;var j=w.filter(function(ne,oe){return g!==oe}).map(function(ne){return{x:ne.x,y:ne.y,score:ne.score+Math.pow(ne.size-A.size,2)/A.size,size:ne.size}}).sort(function(ne,oe){return ne.score-oe.score});if(j.length<2)return null;var X=A.score+j[0].score+j[1].score;return{points:[A].concat(j.slice(0,2)),score:X}}).filter(function(A){return!!A}).sort(function(A,g){return A.score-g.score});if(Z.length===0)return null;var Q=m(Z[0].points[0],Z[0].points[1],Z[0].points[2]),$=Q.topRight,T=Q.topLeft,p=Q.bottomLeft,b=N(F,V,$,T,p),_=[];b&&_.push({alignmentPattern:{x:b.alignmentPattern.x,y:b.alignmentPattern.y},bottomLeft:{x:p.x,y:p.y},dimension:b.dimension,topLeft:{x:T.x,y:T.y},topRight:{x:$.x,y:$.y}});var O=D(F,$),G=D(F,T),z=D(F,p),k=N(F,V,O,G,z);return k&&_.push({alignmentPattern:{x:k.alignmentPattern.x,y:k.alignmentPattern.y},bottomLeft:{x:z.x,y:z.y},topLeft:{x:G.x,y:G.y},topRight:{x:O.x,y:O.y},dimension:k.dimension}),_.length===0?null:_}n.locate=M;function N(F,P,K,V,H){var J,q,Z;try{J=E(V,K,H,F),q=J.dimension,Z=J.moduleSize}catch{return null}var Q={x:K.x-V.x+H.x,y:K.y-V.y+H.y},$=(f(V,H)+f(V,K))/2/Z,T=1-3/$,p={x:V.x+T*(Q.x-V.x),y:V.y+T*(Q.y-V.y)},b=P.map(function(O){var G=(O.top.startX+O.top.endX+O.bottom.startX+O.bottom.endX)/4,z=(O.top.y+O.bottom.y+1)/2;if(F.get(Math.floor(G),Math.floor(z))){var k=[O.top.endX-O.top.startX,O.bottom.endX-O.bottom.startX,O.bottom.y-O.top.y+1];h(k)/k.length;var A=R({x:Math.floor(G),y:Math.floor(z)},[1,1,1],F),g=A+f({x:G,y:z},p);return{x:G,y:z,score:g}}}).filter(function(O){return!!O}).sort(function(O,G){return O.score-G.score}),_=$>=15&&b.length?b[0]:p;return{alignmentPattern:_,dimension:q}}})]).default})})(Nx)),Nx.exports}var RP=DP();const Mw=ri(RP),Ow=r=>{if(!r)return"Unknown";const e=new Date(r);return Number.isNaN(e.getTime())?String(r):e.toLocaleString()},kP=r=>{const e=(r||"").toUpperCase();return e==="TRANSFER"?"Transferred":e==="MINT"?"Minted":e==="REGISTER"?"Registered":r};function jf({serial:r,hideHeader:e=!1,defaultView:t="timeline",embedded:n=!1}){const[s,a]=U.useState(!1),[l,u]=U.useState(null),[f,h]=U.useState(null),[m,E]=U.useState(t);U.useEffect(()=>{E(t)},[t]),U.useEffect(()=>{if(!r){u(null),h(null);return}(async()=>{a(!0),h(null);try{const R=await De.get(`${ji}/history`,{params:{serial:r}});if(!R.data.success||!R.data.data){h(R.data.details||R.data.error||"Failed to load transaction history"),u(null);return}u(R.data.data)}catch(R){h(R?.response?.data?.details||R?.response?.data?.error||R?.message||"Failed to load transaction history"),u(null)}finally{a(!1)}})()},[r]);const S=l?.product??null,C=U.useMemo(()=>{const v=l?.history;return Array.isArray(v)?v.map(R=>({type:kP(R.event),from:R.from?R.from.username:null,to:R.to?R.to.username:null,dateTime:R.createdOn,txHash:R.txHash,blockSlot:R.blockSlot})):[]},[l]);return r?s?d.jsx("div",{className:"tx-card",children:d.jsx("p",{className:"tx-muted",children:"Loading transaction history..."})}):f?d.jsx("div",{className:"tx-card",children:d.jsx("p",{className:"tx-error",children:f})}):!l||!S?d.jsx("div",{className:"tx-card",children:d.jsx("p",{className:"tx-muted",children:"No history found for this product."})}):d.jsxs("div",{className:n?"tx-embedded":"tx-wrapper",children:[!e&&d.jsxs("div",{className:"tx-header-card",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"tx-product-title",children:S.productName||"Unknown Product"}),d.jsxs("p",{className:"tx-product-subtitle",children:["Serial: ",d.jsx("span",{className:"tx-mono",children:S.serialNo})]}),d.jsxs("p",{className:"tx-product-meta",children:["Blockchain Tx: ",d.jsx("span",{className:"tx-mono",children:S.txHash??""})]})]}),d.jsx("div",{className:"tx-status-pill tx-status-registered",children:"On-chain"})]}),d.jsxs("section",{className:"tx-section",children:[d.jsxs("div",{className:"tx-section-head",children:[d.jsx("h3",{className:"tx-section-title",children:"Product Journey Timeline"}),d.jsxs("div",{className:"tx-toggle-group",children:[d.jsx("button",{className:`tx-toggle ${m==="timeline"?"tx-toggle-active":""}`,onClick:()=>E("timeline"),children:"Timeline View"}),d.jsx("button",{className:`tx-toggle ${m==="table"?"tx-toggle-active":""}`,onClick:()=>E("table"),children:"Table View"})]})]}),m==="timeline"?C.length===0?d.jsx("p",{className:"tx-muted",children:"No transaction events recorded."}):d.jsx("ol",{className:"tx-timeline",children:C.map((v,R)=>d.jsxs("li",{className:"tx-step",children:[d.jsx("div",{className:"tx-step-icon tx-step-icon-gray",children:R+1}),d.jsxs("div",{className:"tx-step-content",children:[d.jsxs("div",{className:"tx-step-header",children:[d.jsx("span",{className:"tx-step-title",children:v.type}),d.jsxs("span",{className:"tx-step-step",children:["Step ",R+1]})]}),d.jsxs("div",{className:"tx-step-body",children:[d.jsxs("div",{className:"tx-step-row",children:[d.jsx("span",{className:"tx-label",children:"From"}),d.jsx("span",{className:"tx-value",children:v.from??""})]}),d.jsxs("div",{className:"tx-step-row",children:[d.jsx("span",{className:"tx-label",children:"To"}),d.jsx("span",{className:"tx-value",children:v.to??""})]}),d.jsxs("div",{className:"tx-step-row",children:[d.jsx("span",{className:"tx-label",children:"Date / Time"}),d.jsx("span",{className:"tx-value",children:Ow(v.dateTime)})]}),d.jsxs("div",{className:"tx-step-row",children:[d.jsx("span",{className:"tx-label",children:"Blockchain Tx"}),d.jsxs("span",{className:"tx-value tx-mono",children:[v.txHash,v.blockSlot!=null&&`  slot ${v.blockSlot}`]})]})]})]})]},`${v.txHash}-${R}`))}):C.length===0?d.jsx("p",{className:"tx-muted",children:"No transactions to display."}):d.jsx("div",{className:"tx-table-wrapper",children:d.jsxs("table",{className:"tx-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Event"}),d.jsx("th",{children:"From"}),d.jsx("th",{children:"To"}),d.jsx("th",{children:"Date / Time"}),d.jsx("th",{children:"Blockchain Tx"})]})}),d.jsx("tbody",{children:C.map((v,R)=>d.jsxs("tr",{children:[d.jsx("td",{children:v.type}),d.jsx("td",{children:v.from??""}),d.jsx("td",{children:v.to??""}),d.jsx("td",{children:Ow(v.dateTime)}),d.jsxs("td",{className:"tx-mono",children:[v.txHash,v.blockSlot!=null&&`  slot ${v.blockSlot}`]})]},`${v.txHash}-${R}`))})]})})]})]}):d.jsx("div",{className:"tx-card",children:d.jsx("p",{className:"tx-muted",children:"Scan or enter a product code to view its transaction history."})})}const FP=`${ji}/resolve-serial`,TP=r=>{const e=(r??"").trim();if(!e)return null;try{const s=new URL(e).pathname.match(/^\/products\/(\d+)\/details\/?$/);if(!s)return null;const a=Number(s[1]);return Number.isNaN(a)?null:a}catch{return null}},NP=r=>{const e=(r??"").trim();if(!e||/^https?:\/\//i.test(e))return"";const t=e.split("|").map(n=>n.trim());if(t.length>=2&&t[0].toUpperCase().includes("FYP25")){const n=t[1]||"",s=t[2]||"";if(n&&/[A-Za-z].*-.*\d/.test(n))return n;if(s)return s}return e},IP=r=>{if(!r)return"Unknown";const e=new Date(r);return Number.isNaN(e.getTime())?String(r):e.toLocaleString()},nx=({onSerialChange:r})=>{const[e,t]=U.useState(""),[n,s]=U.useState(null),[a,l]=U.useState(!1),[u,f]=U.useState(!1),[h,m]=U.useState(null),[E,S]=U.useState(void 0),C=U.useRef(null),v=U.useRef(null),R=U.useRef(null),D=U.useRef(null),M=$=>{const T=$.trim();S(T),r?.(T)},N=async $=>{const T=$.trim();if(!T){s("Missing serial number.");return}M(T),s(null),m(null);try{l(!0);const p=await De.get(`${ji}/verify`,{params:{serial:T}});if(!p.data.success||!p.data.data){s(p.data.details||p.data.error||"Product not found."),m(null);return}const b=p.data.data,_={serial:b.serialNumber??T,model:b.productName??null,status:b.status??"registered",registeredOn:b.registeredOn??"",registeredBy:b.manufacturer?.username?{user_id:Number(b.manufacturer.userId??0)||0,username:b.manufacturer.username,role_id:"manufacturer"}:null,currentOwner:b.currentOwner?.username?{user_id:Number(b.currentOwner.userId??0)||0,username:b.currentOwner.username,role_id:"consumer",start_on:""}:null,latestListing:null,isAuthentic:b.isAuthentic===void 0?null:b.isAuthentic};m(_),M(_.serial),s(null)}catch(p){s(p.response?.data?.error||p.response?.data?.details||"Failed to verify product."),m(null)}finally{l(!1)}},F=async $=>{const T=await De.get(FP,{params:{productId:$}});if(!T.data.success||!T.data.data?.serialNumber)throw new Error(T.data.details||T.data.error||"Unable to resolve serial.");return T.data.data.serialNumber},P=async $=>{const T=($??"").trim();if(!T){s("Please scan or enter a product code first.");return}const p=TP(T);if(p!==null){try{s("QR detected. Resolving product..."),m(null),S(void 0),r?.(""),l(!0);const _=await F(p);t(_),s("Product resolved. Verifying..."),await N(_)}catch(_){s(_?.message||"Failed to resolve product from QR."),m(null)}finally{l(!1)}return}const b=NP(T);if(!b){s("Invalid QR payload. Cannot extract serial number.");return}await N(b)},K=()=>{D.current!==null&&(cancelAnimationFrame(D.current),D.current=null),C.current&&(C.current.pause(),C.current.srcObject=null),R.current&&(R.current.getTracks().forEach($=>$.stop()),R.current=null),f(!1)},V=()=>{const $=C.current,T=v.current;if(!$||!T){D.current=requestAnimationFrame(V);return}if($.readyState!==$.HAVE_ENOUGH_DATA){D.current=requestAnimationFrame(V);return}const p=T.getContext("2d");if(!p){D.current=requestAnimationFrame(V);return}const b=$.videoWidth,_=$.videoHeight;if(!b||!_){D.current=requestAnimationFrame(V);return}T.width=b,T.height=_,p.drawImage($,0,0,T.width,T.height);const O=p.getImageData(0,0,T.width,T.height),G=Mw(O.data,T.width,T.height);if(G?.data){const z=G.data.trim();t(z),K(),P(z);return}D.current=requestAnimationFrame(V)},H=async()=>{if(u){K();return}if(!navigator.mediaDevices?.getUserMedia){s("Camera not supported on this device.");return}try{const $=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});R.current=$,f(!0),s("Point your camera at the QR code.")}catch{s("Unable to access camera. Check permissions.")}};U.useEffect(()=>{const $=C.current,T=R.current;if(!u||!$||!T)return;$.srcObject=T;const p=async()=>{try{await $.play(),D.current=requestAnimationFrame(V)}catch{s("Camera started but video could not play.")}};return $.readyState>=2?p():$.onloadedmetadata=p,()=>{$.onloadedmetadata=null}},[u]),U.useEffect(()=>()=>K(),[]);const J=$=>{const T=$.target.files?.[0];if(!T)return;const p=new FileReader,b=new Image;p.onload=()=>{b.src=p.result},b.onload=()=>{const _=v.current;if(!_)return;const O=_.getContext("2d");if(!O)return;_.width=b.width,_.height=b.height,O.drawImage(b,0,0,_.width,_.height);const G=O.getImageData(0,0,_.width,_.height),z=Mw(G.data,_.width,_.height);if(z?.data){const k=z.data.trim();t(k),s(null),P(k)}else s("No QR code found in the uploaded image.")},p.readAsDataURL(T)},q=$=>{$.preventDefault(),P(e)},Q=h?($=>{switch($){case"verified":return{bg:"#ecfdf3",border:"#22c55e",text:"#15803d"};case"registered":return{bg:"#eff6ff",border:"#3b82f6",text:"#1d4ed8"};case"suspicious":return{bg:"#fef2f2",border:"#ef4444",text:"#b91c1c"};default:return{bg:"#f9fafb",border:"#e5e7eb",text:"#374151"}}})(h.status):null;return d.jsxs("div",{style:{maxWidth:1100,margin:"0 auto"},children:[d.jsx("h2",{style:{marginBottom:8},children:"Scan or Enter Product Code"}),d.jsx("p",{style:{marginBottom:24,color:"#6b7280"},children:"Use your camera or upload an image to scan the QR code. You can also enter the product code manually to verify authenticity."}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 3fr",gap:24,alignItems:"flex-start"},children:[d.jsxs("section",{style:{background:"#ffffff",borderRadius:16,padding:24,boxShadow:"0 10px 25px rgba(15,23,42,0.08)"},children:[d.jsxs("div",{style:{border:"1px dashed #cbd5f5",borderRadius:16,padding:24,textAlign:"center",marginBottom:16,minHeight:220,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f9fafb"},children:[!u&&d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{width:80,height:80,borderRadius:16,border:"2px dashed #e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,marginBottom:16},children:""}),d.jsx("p",{style:{marginBottom:16,color:"#6b7280"},children:"Point your camera at the QR code. The code is usually on the packaging or product tag."})]}),u&&d.jsx("video",{ref:C,autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",maxWidth:420,borderRadius:12,background:"black"}}),d.jsx("button",{type:"button",onClick:H,style:{marginTop:16,padding:"10px 18px",borderRadius:999,border:"none",background:"#1d4ed8",color:"white",cursor:"pointer",fontSize:14},children:u?"Close Camera Scanner":"Open Camera Scanner"})]}),d.jsxs("div",{style:{marginBottom:16},children:[d.jsx("p",{style:{fontSize:13,color:"#9ca3af",marginBottom:8},children:"Or upload a QR image"}),d.jsx("input",{type:"file",accept:"image/*",onChange:J,style:{fontSize:14}})]}),d.jsxs("form",{onSubmit:q,children:[d.jsx("p",{style:{fontSize:13,color:"#9ca3af",marginBottom:6},children:"Or enter serial number manually (or paste QR URL)"}),d.jsx("input",{type:"text",placeholder:"Enter Serial (e.g., NIKE-AIR-001) or paste QR URL",value:e,onChange:$=>t($.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:10,border:"1px solid #d1d5db",marginBottom:12,fontSize:14}}),n&&!h&&d.jsx("p",{style:{fontSize:13,color:"#ef4444",marginBottom:8},children:n}),d.jsx("button",{type:"submit",disabled:!e.trim()||a,style:{width:"100%",padding:"12px 16px",borderRadius:999,border:"none",background:e.trim()?"#111827":"#9ca3af",color:"white",cursor:e.trim()?"pointer":"not-allowed",fontSize:15,fontWeight:500},children:a?"Verifying...":"Verify"})]})]}),d.jsx("section",{style:{display:"flex",flexDirection:"column",gap:16},children:h&&Q?d.jsxs("div",{style:{background:Q.bg,borderRadius:16,padding:20,border:`1px solid ${Q.border}`},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:4,color:Q.text},children:h.status==="verified"?"Product Verified":h.status==="registered"?"Product Registered":"Suspicious Product"}),d.jsxs("p",{style:{marginTop:0,marginBottom:12,color:Q.text,fontSize:13},children:[h.isAuthentic===!0&&"This product is authentic and registered in BlockTrace.",h.isAuthentic===!1&&"This product is flagged as suspicious. Please contact support or the seller.",h.isAuthentic===null&&"This product is registered but not yet fully verified."]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.6fr 1.4fr",gap:16,fontSize:14,color:"#374151"},children:[d.jsxs("div",{children:[d.jsx("h4",{style:{marginTop:0,marginBottom:6},children:h.model??"Unknown Model"}),d.jsxs("p",{style:{margin:0,fontSize:13,color:"#6b7280"},children:["Serial No: ",d.jsx("strong",{children:h.serial})]}),d.jsxs("p",{style:{margin:0,fontSize:13,color:"#6b7280"},children:["Registered on: ",IP(h.registeredOn)]})]}),d.jsxs("div",{style:{fontSize:13},children:[d.jsxs("p",{style:{margin:0,marginBottom:4},children:[d.jsx("strong",{children:"Registered by:"})," ",h.registeredBy?h.registeredBy.username:"Unknown"]}),d.jsxs("p",{style:{margin:0,marginBottom:4},children:[d.jsx("strong",{children:"Current owner:"})," ",h.currentOwner?h.currentOwner.username:"Unknown"]}),h.latestListing&&d.jsxs("p",{style:{margin:0},children:[d.jsx("strong",{children:"Latest listing:"})," ",h.latestListing.price," ",h.latestListing.currency," (",h.latestListing.status,") on"," ",new Date(h.latestListing.created_on).toLocaleDateString()]})]})]})]}):d.jsxs("div",{style:{background:"#f9fafb",borderRadius:16,padding:20,border:"1px solid #e5e7eb",fontSize:13,color:"#4b5563"},children:[d.jsx("h4",{style:{marginTop:0,marginBottom:8},children:"Product Verification"}),d.jsx("p",{style:{margin:0},children:"Scan/upload to verify and see product details here. Transaction history will appear below after a serial is detected."})]})})]}),d.jsx("div",{style:{marginTop:28},children:d.jsx(jf,{serial:E})}),d.jsx("canvas",{ref:v,style:{display:"none"},"aria-hidden":!0})]})},MP="http://34.177.85.28:3000/api/products";function OP({product:r,userId:e,onClose:t,onSuccess:n}){const[s,a]=U.useState(""),[l,u]=U.useState("SGD"),[f,h]=U.useState(""),[m,E]=U.useState(!1),[S,C]=U.useState(null),v=async R=>{R.preventDefault(),C(null);const D=Number(s);if(Number.isNaN(D)||D<=0){C("Price must be greater than 0");return}E(!0);try{const M=await De.post(`${MP}/listings`,{userId:e,productId:r.productId,price:D,currency:l,status:"available",notes:f.trim()||null});if(!M.data.success){C(M.data.error||M.data.details||"Failed to create listing");return}n()}catch(M){console.error(M),C(M?.response?.data?.error||M?.response?.data?.details||"Unable to create listing")}finally{E(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:t,children:d.jsxs("div",{style:{background:"white",borderRadius:12,padding:32,maxWidth:500,width:"90%",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",maxHeight:"90vh",overflowY:"auto"},onClick:R=>R.stopPropagation(),children:[d.jsxs("div",{style:{marginBottom:24},children:[d.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:24},children:"List for Sale"}),d.jsx("p",{style:{margin:0,color:"#666",fontSize:14},children:"Create a listing for your product"})]}),d.jsxs("div",{style:{background:"#f5f7fa",padding:16,borderRadius:8,marginBottom:24,borderLeft:"4px solid #007bff"},children:[d.jsxs("div",{style:{marginBottom:12},children:[d.jsx("p",{style:{margin:"0 0 4px 0",fontSize:12,color:"#666"},children:"Product Name"}),d.jsx("p",{style:{margin:0,fontSize:16,fontWeight:600},children:r.model||"Product"})]}),d.jsxs("div",{style:{marginBottom:12},children:[d.jsx("p",{style:{margin:"0 0 4px 0",fontSize:12,color:"#666"},children:"Serial Number"}),d.jsx("p",{style:{margin:0,fontSize:14,fontFamily:"monospace",color:"#888",wordBreak:"break-all"},children:r.serialNo})]}),r.category&&d.jsxs("div",{children:[d.jsx("p",{style:{margin:"0 0 4px 0",fontSize:12,color:"#666"},children:"Category"}),d.jsx("p",{style:{margin:0,fontSize:14},children:r.category})]})]}),d.jsxs("form",{onSubmit:v,children:[d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:6,fontWeight:600},children:"Price *"}),d.jsx("input",{type:"number",step:"0.01",min:"0.01",value:s,onChange:R=>a(R.target.value),required:!0,placeholder:"e.g. 150.00",style:{width:"100%",padding:10,fontSize:14,border:"1px solid #ddd",borderRadius:6,boxSizing:"border-box"}})]}),d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:6,fontWeight:600},children:"Currency *"}),d.jsxs("select",{value:l,onChange:R=>u(R.target.value),required:!0,style:{width:"100%",padding:10,fontSize:14,border:"1px solid #ddd",borderRadius:6,boxSizing:"border-box"},children:[d.jsx("option",{value:"SGD",children:"SGD"}),d.jsx("option",{value:"USD",children:"USD"}),d.jsx("option",{value:"EUR",children:"EUR"})]})]}),d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:6,fontWeight:600},children:"Notes (optional)"}),d.jsx("textarea",{value:f,onChange:R=>h(R.target.value),placeholder:"e.g. Item is in good condition, slight scratches on back",maxLength:500,style:{width:"100%",padding:10,fontSize:14,border:"1px solid #ddd",borderRadius:6,fontFamily:"inherit",resize:"vertical",minHeight:80,boxSizing:"border-box"}}),d.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:12,color:"#999"},children:[f.length,"/500 characters"]})]}),S&&d.jsx("div",{style:{background:"#fee",color:"#c00",padding:12,borderRadius:6,marginBottom:20,fontSize:14},children:S}),d.jsxs("div",{style:{display:"flex",gap:12},children:[d.jsx("button",{type:"button",onClick:t,style:{flex:1,padding:"10px 16px",background:"#f0f0f0",border:"none",borderRadius:6,fontSize:14,fontWeight:600,cursor:"pointer"},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:m,style:{flex:1,padding:"10px 16px",background:m?"#ccc":"#007bff",color:"white",border:"none",borderRadius:6,fontSize:14,fontWeight:600,cursor:m?"not-allowed":"pointer"},children:m?"Creating...":"Create Listing"})]})]})]})})}const jP=r=>{switch(r){case"available":case"reserved":return{bg:"#d4edda",text:"#155724",label:" Listed in Marketplace"};case"sold":return{bg:"#e2e3e5",text:"#383d41",label:"Not Listed"};default:return{bg:"#e2e3e5",text:"#383d41",label:"Not Listed"}}};function LP({product:r}){const e=tn(),[t,n]=U.useState(!1),s=jP(r.listingStatus),a=Number(localStorage.getItem("userId"))||NaN,l=h=>{h.stopPropagation(),n(!0)},u=()=>{e(`/consumer/product/${r.productId}`)},f=()=>{n(!1),e("/consumer/my-listings")};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{background:"white",border:"1px solid #e0e0e0",borderRadius:12,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.3s ease",cursor:"pointer"},onClick:u,onMouseEnter:h=>{h.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.12)",h.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:h=>{h.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",h.currentTarget.style.transform="translateY(0)"},children:[d.jsx("div",{style:{padding:12,background:s.bg,color:s.text,fontSize:13,fontWeight:600,borderBottom:`2px solid ${s.text}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:d.jsx("span",{children:s.label})}),d.jsxs("div",{style:{padding:16},children:[d.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:16,fontWeight:600,color:"#1a1a1a",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.model||"Product"}),d.jsx("p",{style:{margin:"0 0 12px 0",fontSize:13,color:"#888",fontFamily:"monospace",wordBreak:"break-all"},children:r.serialNo}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16,fontSize:12,color:"#666"},children:[r.category&&d.jsxs("div",{children:[d.jsx("strong",{style:{color:"#333"},children:"Category:"}),d.jsx("br",{}),r.category]}),r.batchNo&&d.jsxs("div",{children:[d.jsx("strong",{style:{color:"#333"},children:"Batch:"}),d.jsx("br",{}),r.batchNo]}),d.jsxs("div",{children:[d.jsx("strong",{style:{color:"#333"},children:"Owned Since:"}),d.jsx("br",{}),new Date(r.registeredOn).toLocaleDateString()]}),d.jsxs("div",{children:[d.jsx("strong",{style:{color:"#333"},children:"Status:"}),d.jsx("br",{}),r.status]})]}),d.jsxs("div",{style:{display:"flex",gap:8},children:[r.canCreateListing&&d.jsx("button",{onClick:l,style:{flex:1,padding:"8px 12px",background:"#007bff",color:"white",border:"none",borderRadius:6,fontSize:12,fontWeight:600,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:h=>{h.currentTarget.style.background="#0056b3"},onMouseLeave:h=>{h.currentTarget.style.background="#007bff"},children:"List for Sale"}),r.listingStatus!=="none"&&d.jsx("button",{onClick:h=>{h.stopPropagation(),e("/consumer/my-listings")},style:{flex:1,padding:"8px 12px",background:"#6c757d",color:"white",border:"none",borderRadius:6,fontSize:12,fontWeight:600,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:h=>{h.currentTarget.style.background="#545b62"},onMouseLeave:h=>{h.currentTarget.style.background="#6c757d"},children:"View Listing"})]})]})]}),t&&d.jsx(OP,{product:r,userId:a,onClose:()=>n(!1),onSuccess:f})]})}const PP="http://34.177.85.28:3000/api/products";function zP(){const r=U.useMemo(()=>{const u=localStorage.getItem("userId");return u?Number(u):NaN},[]),[e,t]=U.useState([]),[n,s]=U.useState(!1),[a,l]=U.useState(null);return U.useEffect(()=>{(async()=>{if(s(!0),l(null),!Number.isFinite(r)){l("No userId found. Please login again."),s(!1);return}try{const f=await De.get(`${PP}/owned`,{params:{userId:r}});f.data.success&&f.data.data?t(f.data.data):l(f.data.error||"Failed to load products")}catch(f){const h=f?.response?.data?.error||f?.message||"Failed to load your products";l(h)}finally{s(!1)}})()},[r]),d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:32},children:[d.jsx("h1",{style:{marginBottom:8},children:"My Products"}),d.jsx("p",{style:{color:"#666",margin:0},children:"All products you own. Click on any product to see details or create a listing."})]}),a&&d.jsx("div",{style:{background:"#fee",border:"1px solid #f88",color:"#c00",padding:16,borderRadius:8,marginBottom:24},children:a}),n&&d.jsx("div",{style:{textAlign:"center",padding:40,color:"#999"},children:"Loading your products..."}),!n&&!a&&e.length===0&&d.jsxs("div",{style:{textAlign:"center",padding:60,background:"#f9f9f9",borderRadius:8,border:"1px dashed #ddd"},children:[d.jsx("p",{style:{fontSize:18,color:"#666",marginBottom:12},children:"You don't own any products yet."}),d.jsx("p",{style:{color:"#999"},children:"Scan a QR code or receive a product transfer to add items to your collection."})]}),!n&&e.length>0&&d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:24},children:e.map(u=>d.jsx(LP,{product:u},u.productId))})]})}const UP=({rating:r})=>{const e=[];for(let t=1;t<=5;t++)e.push(d.jsx("span",{style:{color:t<=r?"#ffc107":"#e0e0e0",fontSize:18},children:""},t));return d.jsx("div",{style:{display:"flex",gap:2},children:e})};function bm({review:r,showDelete:e,onDelete:t}){return d.jsxs("div",{style:{background:"white",border:"1px solid #e0e0e0",borderRadius:12,padding:20,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},children:[d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[d.jsx(UP,{rating:r.rating}),d.jsxs("span",{style:{fontSize:20,fontWeight:700,color:"#333"},children:[r.rating,"/5"]})]}),r.author_username&&d.jsxs("p",{style:{margin:0,color:"#666",fontSize:13},children:["by ",d.jsx("strong",{children:r.author_username})]}),r.owner_username&&d.jsxs("p",{style:{margin:0,color:"#666",fontSize:13},children:["for ",d.jsx("strong",{children:r.owner_username})]})]}),e&&t&&d.jsx("button",{onClick:t,style:{padding:"6px 12px",background:"#dc3545",color:"white",border:"none",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:600},onMouseEnter:n=>{n.currentTarget.style.background="#c82333"},onMouseLeave:n=>{n.currentTarget.style.background="#dc3545"},children:"Delete"})]}),r.comment&&d.jsxs("div",{style:{marginTop:12,padding:12,background:"#f8f9fa",borderRadius:8,fontSize:14,color:"#333",lineHeight:1.6},children:['"',r.comment,'"']}),d.jsx("div",{style:{marginTop:12,fontSize:12,color:"#999"},children:new Date(r.created_on).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})}const S1="http://34.177.85.28:3000/api/reviews";function HP(){const r=U.useMemo(()=>{const D=localStorage.getItem("userId");return D?Number(D):NaN},[]),[e,t]=U.useState("about-me"),[n,s]=U.useState([]),[a,l]=U.useState([]),[u,f]=U.useState(!1),[h,m]=U.useState(null);U.useEffect(()=>{Number.isFinite(r)&&(e==="about-me"?E():S())},[r,e]);const E=async()=>{f(!0),m(null);try{const D=await De.get(S1,{params:{owner_id:r}});D.data.success&&D.data.data?s(D.data.data):s([])}catch(D){m(D?.response?.data?.error||"Failed to load reviews"),s([])}finally{f(!1)}},S=async()=>{f(!0),m(null);try{const D=await De.get(`${S1}/author`,{params:{author_id:r}});D.data.success&&D.data.data?l(D.data.data):l([])}catch(D){m(D?.response?.data?.error||"Failed to load your reviews"),l([])}finally{f(!1)}},C=async D=>{if(confirm("Are you sure you want to delete this review?"))try{await De.delete(`${S1}/${D}`,{params:{author_id:r}}),e==="posted"?S():E(),alert("Review deleted successfully")}catch(N){alert(N?.response?.data?.error||N?.response?.data?.details||"Failed to delete review")}},v=e==="about-me"?n:a,R=v.length>0?(v.reduce((D,M)=>D+M.rating,0)/v.length).toFixed(1):"N/A";return d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:32},children:[d.jsx("h1",{style:{marginBottom:8},children:"Reviews"}),d.jsx("p",{style:{color:"#666",margin:0},children:"Manage your reputation and review history."})]}),d.jsxs("div",{style:{display:"flex",gap:16,marginBottom:24,borderBottom:"2px solid #e0e0e0"},children:[d.jsx("button",{onClick:()=>t("about-me"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:e==="about-me"?"3px solid #007bff":"3px solid transparent",color:e==="about-me"?"#007bff":"#666",fontWeight:600,cursor:"pointer",fontSize:15,transition:"all 0.2s"},onMouseEnter:D=>{e!=="about-me"&&(D.currentTarget.style.color="#007bff")},children:"Reviews About You"}),d.jsx("button",{onClick:()=>t("posted"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:e==="posted"?"3px solid #007bff":"3px solid transparent",color:e==="posted"?"#007bff":"#666",fontWeight:600,cursor:"pointer",fontSize:15,transition:"all 0.2s"},children:"Reviews You Posted"})]}),e==="about-me"&&d.jsxs("div",{children:[d.jsxs("div",{style:{background:"white",padding:24,borderRadius:12,marginBottom:24,border:"1px solid #e0e0e0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{children:[d.jsx("h2",{style:{margin:0,fontSize:20},children:"Your Reputation"}),d.jsxs("p",{style:{margin:"4px 0 0 0",color:"#666",fontSize:14},children:[n.length," review",n.length!==1?"s":""]})]}),d.jsxs("div",{style:{textAlign:"right"},children:[d.jsx("div",{style:{fontSize:40,fontWeight:700,color:"#007bff"},children:R}),d.jsx("div",{style:{fontSize:13,color:"#666"},children:"Average Rating"})]})]}),u&&d.jsx("div",{style:{textAlign:"center",padding:40,color:"#999"},children:"Loading reviews..."}),h&&d.jsx("div",{style:{background:"#fee",border:"1px solid #f88",color:"#c00",padding:16,borderRadius:8},children:h}),!u&&!h&&n.length===0&&d.jsxs("div",{style:{textAlign:"center",padding:60,background:"#f9f9f9",borderRadius:8,border:"1px dashed #ddd"},children:[d.jsx("p",{style:{fontSize:16,color:"#666"},children:"No reviews yet."}),d.jsx("p",{style:{color:"#999",fontSize:14},children:"Complete transactions and earn positive reviews from other users!"})]}),!u&&n.length>0&&d.jsx("div",{style:{display:"grid",gap:16},children:n.map(D=>d.jsx(bm,{review:D,showDelete:!1},D.review_id))})]}),e==="posted"&&d.jsxs("div",{children:[d.jsxs("div",{style:{background:"white",padding:24,borderRadius:12,marginBottom:24,border:"1px solid #e0e0e0"},children:[d.jsx("h2",{style:{margin:0,fontSize:20},children:"Reviews You Posted"}),d.jsxs("p",{style:{margin:"4px 0 0 0",color:"#666",fontSize:14},children:[a.length," review",a.length!==1?"s":""," written"]})]}),u&&d.jsx("div",{style:{textAlign:"center",padding:40,color:"#999"},children:"Loading your reviews..."}),h&&d.jsx("div",{style:{background:"#fee",border:"1px solid #f88",color:"#c00",padding:16,borderRadius:8},children:h}),!u&&!h&&a.length===0&&d.jsxs("div",{style:{textAlign:"center",padding:60,background:"#f9f9f9",borderRadius:8,border:"1px dashed #ddd"},children:[d.jsx("p",{style:{fontSize:16,color:"#666"},children:"You haven't posted any reviews yet."}),d.jsx("p",{style:{color:"#999",fontSize:14},children:"Complete transactions and share your experience with other users!"})]}),!u&&a.length>0&&d.jsx("div",{style:{display:"grid",gap:16},children:a.map(D=>d.jsx(bm,{review:D,showDelete:!0,onDelete:()=>C(D.review_id)},D.review_id))})]})]})}const WP="http://34.177.85.28:3000/api";function qP(){const{productId:r}=rf(),e=tn(),[t,n]=U.useState(null),[s,a]=U.useState(!0),[l,u]=U.useState(null);U.useEffect(()=>{f()},[r]);const f=async()=>{try{a(!0),u(null);const R=await De.get(`${WP}/products/${r}/details`);R.data.success?n(R.data.data):u(R.data.error||"Failed to load product details")}catch(R){u(R.response?.data?.error||"Failed to load product details")}finally{a(!1)}},h=R=>new Date(R).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),m=R=>({registered:"#22c55e",verified:"#3b82f6",suspicious:"#ef4444"})[R]||"#6b7280";if(s)return d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:d.jsx("div",{style:{color:"#6b7280",fontSize:"14px"},children:"Loading product details..."})});if(l||!t)return d.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px"},children:[d.jsx("div",{style:{background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",padding:"16px",marginBottom:"16px"},children:d.jsx("p",{style:{color:"#991b1b",margin:0},children:l||"Product not found"})}),d.jsx("button",{onClick:()=>e(-1),style:{padding:"8px 16px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Back"})]});const{product:E,ownershipHistory:S,currentListing:C}=t,v=S.find(R=>!R.end_on);return d.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px",background:"#f9fafb",minHeight:"100vh"},children:[d.jsx("button",{onClick:()=>e(-1),style:{marginBottom:"20px",padding:"8px 16px",background:"white",border:"1px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",fontSize:"14px",color:"#374151"},children:"Back"}),d.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"24px",marginBottom:"20px",border:"1px solid #e5e7eb"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[d.jsxs("div",{children:[d.jsx("h1",{style:{margin:"0 0 8px 0",fontSize:"24px",fontWeight:"600",color:"#111827"},children:E.model||"Product Details"}),d.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#6b7280"},children:["Serial: ",E.serial_no]})]}),d.jsx("div",{style:{padding:"4px 12px",borderRadius:"4px",background:m(E.status)+"20",color:m(E.status),fontSize:"12px",fontWeight:"600",textTransform:"capitalize"},children:E.status})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:[d.jsxs("div",{children:[d.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:"600",color:"#111827"},children:"Product Information"}),d.jsxs("div",{style:{display:"grid",gap:"8px",fontSize:"13px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[d.jsx("span",{style:{color:"#6b7280"},children:"Category"}),d.jsx("span",{style:{color:"#111827",fontWeight:"500"},children:E.category||"N/A"})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[d.jsx("span",{style:{color:"#6b7280"},children:"Batch No"}),d.jsx("span",{style:{color:"#111827",fontWeight:"500"},children:E.batch_no||"N/A"})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[d.jsx("span",{style:{color:"#6b7280"},children:"Manufacture Date"}),d.jsx("span",{style:{color:"#111827",fontWeight:"500"},children:E.manufacture_date?new Date(E.manufacture_date).toLocaleDateString():"N/A"})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[d.jsx("span",{style:{color:"#6b7280"},children:"Manufacturer"}),d.jsx("span",{style:{color:"#111827",fontWeight:"500"},children:E.manufacturer_name})]}),v&&d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"8px",borderTop:"1px solid #e5e7eb"},children:[d.jsx("span",{style:{color:"#6b7280"},children:"Current Owner"}),d.jsx("span",{style:{color:"#2563eb",fontWeight:"500"},children:v.owner_name})]})]})]}),E.qr_code&&d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[d.jsx("img",{src:`data:image/png;base64,${E.qr_code}`,alt:"Product QR Code",style:{width:"200px",height:"200px",border:"1px solid #e5e7eb",borderRadius:"8px"}}),d.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"#6b7280"},children:"Scan to verify authenticity"})]})]})]}),C&&d.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"16px",marginBottom:"20px"},children:d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("div",{children:[d.jsx("span",{style:{fontSize:"12px",color:"#92400e",fontWeight:"600"},children:"Currently Listed for Sale"}),d.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"18px",fontWeight:"700",color:"#78350f"},children:[C.currency," $",C.price]})]}),d.jsxs("span",{style:{fontSize:"12px",color:"#92400e"},children:["Listed ",h(C.created_on)]})]})}),d.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"24px",border:"1px solid #e5e7eb"},children:[d.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"18px",fontWeight:"600",color:"#111827"},children:"Product Journey Timeline"}),d.jsx(jf,{serial:E.serial_no,hideHeader:!0,defaultView:"timeline",embedded:!0})]})]})}const z4=new ve(Sy.address),KP=je.Buffer.from("product"),VP=je.Buffer.from("transfer");async function GP(r){const e=new TextEncoder().encode(r),t=await crypto.subtle.digest("SHA-256",e);return new Uint8Array(t)}async function YP(r,e){const t=await GP(e),[n,s]=await ve.findProgramAddress([KP,r.toBuffer(),je.Buffer.from(t)],z4);return[n,s,t]}async function $P(r,e,t){const[n,s]=await ve.findProgramAddress([VP,r.toBuffer(),e.toBuffer(),t.toBuffer()],z4);return[n,s]}const ZP=`${Rr}/list`,QP=`${Ki}/distributors/product`,XP=`${Ki}/distributors/propose-transfer`,jw={border:"1px solid #e5e7eb",borderRadius:12,padding:10,background:"#f9fafb",maxHeight:200,overflow:"auto"};function JP(r){return JSON.stringify(r)}async function ez(r){const e=await De.post(XP,r,{withCredentials:!0});if(!(e.data?.success??e.data?.ok??!1))throw new Error(e.data?.details||e.data?.error||"Backend propose-transfer failed");return e.data}function Lf({open:r,onClose:e,fromUserId:t,selectedProductIds:n,title:s="Ownership Transfer",onTransferred:a}){const l=oi(),[u,f]=U.useState(""),[h,m]=U.useState([]),[E,S]=U.useState(""),[C,v]=U.useState(null),[R,D]=U.useState(!1),[M,N]=U.useState(!1),[F,P]=U.useState(null),[K,V]=U.useState(null),H=n.length;U.useEffect(()=>{r&&(async()=>{try{const T=await De.get(ZP);T.data?.success&&Array.isArray(T.data.data)?m(T.data.data):m([])}catch{m([])}})()},[r]);const J=U.useMemo(()=>{const T=E.toLowerCase();return h.filter(p=>p.user_id!==t).filter(p=>p.username.toLowerCase().includes(T)).slice(0,30)},[h,E,t]),q=!M&&H>0&&!!u&&!!C&&!!l.publicKey&&l.connected;if(!r)return null;const Z=()=>{M||(f(""),v(null),S(""),D(!1),P(null),V(null),e())};async function Q(T){const p=await De.get(`${QP}/${T}`);if(!p.data?.success)throw new Error(p.data?.error||"Failed to load product info");const b=p.data?.data?.product_pda;if(!b)throw new Error("Missing product_pda in backend response");return b}const $=async()=>{try{if(P(null),V(null),!l.publicKey||!l.connected){P("Wallet not connected. Please connect Phantom first.");return}if(!t){P("Missing sender user ID.");return}const T=Number(u);if(!T||T===t||!C){P("Invalid recipient.");return}const p=new ve(C.public_key);N(!0);const b=j0(l),_=L0(b),O=[];for(const G of n)try{const z=await Q(G),k=new ve(z),[A]=await $P(k,l.publicKey,p),g=await _.methods.proposeTransfer().accounts({fromOwner:l.publicKey,product:k,toOwner:p,transferRequest:A}).rpc();await ez({product_id:G,from_user_id:t,to_public_key:p.toBase58(),tx_hash:g,product_pda:k.toBase58(),transfer_pda:A.toBase58()});const w=JP({kind:"TRANSFER_REQUEST",productId:G,fromUserId:t,toUserId:T,productPda:k.toBase58(),transferPda:A.toBase58(),proposeTx:g,fromOwnerPubkey:l.publicKey.toBase58(),toOwnerPubkey:p.toBase58()});await De.post(`${As}/create`,{userId:T,title:"Transfer Request",message:w,productId:G,txHash:g},{withCredentials:!0}),O.push({productId:G,ok:!0,message:`Proposed  (tx: ${g})`})}catch(z){O.push({productId:G,ok:!1,message:z?.response?.data?.error||z?.response?.data?.details||z?.message||"Failed"})}V(O),a?.(O)}finally{N(!1)}};return d.jsx("div",{style:tz,onMouseDown:Z,children:d.jsxs("div",{style:nz,onMouseDown:T=>T.stopPropagation(),children:[d.jsx("h2",{style:{marginTop:0},children:s}),F&&d.jsx("div",{style:lz,children:F}),d.jsx("div",{style:{marginBottom:14},children:d.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:12,alignItems:"center",flexWrap:"wrap"},children:d.jsxs("div",{style:cz,children:["Sender wallet:"," ",d.jsx("span",{style:{fontFamily:"monospace"},children:l.publicKey?l.publicKey.toBase58():"Not connected"})]})})}),d.jsxs("div",{style:{marginBottom:14,position:"relative"},children:[d.jsx("label",{style:_1,children:"Recipient User"}),d.jsx("input",{style:rz,value:C?C.username:E,onChange:T=>{S(T.target.value),v(null),f(""),D(!0)},onFocus:()=>D(!0),placeholder:"Search username..."}),R&&d.jsx("div",{style:iz,children:J.length===0?d.jsx("div",{style:sz,children:"No users found"}):J.map(T=>d.jsxs("button",{type:"button",style:oz,onClick:()=>{v(T),f(String(T.user_id)),D(!1),S("")},children:[d.jsx("strong",{children:T.username})," ",d.jsxs("span",{style:{color:"#6b7280"},children:["#",T.user_id]})]},T.user_id))})]}),d.jsxs("div",{style:{marginBottom:14},children:[d.jsx("div",{style:_1,children:"Selected Products"}),d.jsx("div",{style:jw,children:n.length===0?d.jsx("div",{style:{fontSize:13,color:"#6b7280"},children:"No products selected."}):n.map(T=>d.jsxs("div",{style:uz,children:["Product ID: ",T]},T))})]}),K&&d.jsxs("div",{style:{marginBottom:14},children:[d.jsx("div",{style:_1,children:"Results"}),d.jsx("div",{style:{...jw,background:"white"},children:K.map(T=>d.jsxs("div",{style:{fontSize:13,padding:"6px 0",color:T.ok?"#116a2b":"#a11"},children:["Product ",T.productId,": ",T.message]},T.productId))})]}),d.jsxs("div",{style:az,children:[d.jsx("button",{onClick:Z,disabled:M,style:dz,children:"Cancel"}),d.jsx("button",{onClick:()=>{$()},disabled:!q,style:xz,children:M?"Submitting...":"Propose Transfer"})]})]})})}const tz={position:"fixed",inset:0,background:"rgba(0,0,0,0.35)",display:"flex",justifyContent:"center",alignItems:"center",padding:18,boxSizing:"border-box",zIndex:9999},nz={width:"100%",maxWidth:520,background:"white",borderRadius:12,padding:20,boxSizing:"border-box",overflow:"hidden"},rz={width:"100%",padding:"10px 12px",marginBottom:12,borderRadius:8,border:"1px solid #d1d5db",boxSizing:"border-box",display:"block"},iz={position:"absolute",top:"100%",left:0,right:0,background:"white",border:"1px solid #e5e7eb",borderRadius:8,maxHeight:220,overflowY:"auto",zIndex:9999},oz={width:"100%",padding:10,textAlign:"left",border:"none",background:"transparent",cursor:"pointer"},sz={padding:12,fontSize:13,color:"#6b7280"},az={display:"flex",justifyContent:"flex-end",gap:10,marginTop:10},lz={background:"#fee2e2",color:"#991b1b",padding:10,borderRadius:8,marginBottom:12},_1={display:"block",fontSize:12,fontWeight:700,marginBottom:6},cz={fontSize:12,color:"#6b7280"},uz={padding:"6px 0",borderBottom:"1px solid #eee",fontFamily:"monospace",fontSize:13},dz={padding:"8px 12px",borderRadius:10,border:"1px solid #e5e7eb",background:"white",cursor:"pointer"},xz={padding:"8px 12px",borderRadius:10,border:"1px solid #111827",background:"#111827",color:"white",cursor:"pointer"},fz="http://34.177.85.28:3000/api/products";function Lw(){const r=tn(),[e,t]=U.useState(!1),[n,s]=U.useState([]),[a,l]=U.useState([]),[u,f]=U.useState(!1),[h,m]=U.useState(null),[E,S]=U.useState(null),C=(()=>{const R=localStorage.getItem("userId");return R?Number(R):NaN})();U.useEffect(()=>{(async()=>{if(f(!0),m(null),!Number.isFinite(C)){m("No userId found. Please login again."),f(!1);return}try{const D=await De.get(`${fz}/owned`,{params:{userId:C}});D.data.success&&D.data.data?l(D.data.data):m(D.data.error||"Failed to load products")}catch(D){m(D?.response?.data?.error||D?.message||"Failed to load your products")}finally{f(!1)}})()},[C]);const v=R=>{s(D=>D.includes(R)?D.filter(M=>M!==R):[...D,R])};return d.jsxs("div",{style:{maxWidth:520,margin:"40px auto",padding:0},children:[d.jsxs("div",{style:{background:"white",borderRadius:18,boxShadow:"0 4px 24px rgba(0,0,0,0.08)",padding:32,border:"1px solid #e5e7eb",marginBottom:32},children:[d.jsx("div",{style:{marginBottom:18,display:"flex",justifyContent:"flex-end"},children:d.jsx(Gi,{})}),d.jsx("h2",{style:{fontSize:26,fontWeight:800,marginBottom:18,color:"#1a1a1a"},children:"Transfer Ownership"}),d.jsx("div",{style:{color:"#555",fontSize:15,marginBottom:18},children:"Select one or more products below to transfer ownership to another user. You will sign the transfer with your wallet."}),d.jsxs("div",{style:{marginBottom:18},children:[d.jsx("h3",{style:{fontSize:17,fontWeight:700,marginBottom:10,color:"#2563eb"},children:"Your Products"}),u?d.jsx("div",{style:{color:"#999",fontSize:15,padding:18,textAlign:"center"},children:"Loading products..."}):h?d.jsx("div",{style:{color:"#a11",fontSize:15,padding:18,textAlign:"center"},children:h}):a.length===0?d.jsx("div",{style:{color:"#666",fontSize:15,padding:18,textAlign:"center"},children:"No products found."}):d.jsx("div",{style:{display:"grid",gap:10},children:a.map(R=>d.jsxs("label",{style:{display:"flex",alignItems:"center",gap:14,cursor:u?"not-allowed":"pointer",background:n.includes(R.productId)?"#f3f6fd":"#f9fafb",border:n.includes(R.productId)?"2px solid #2563eb":"1px solid #e5e7eb",borderRadius:12,padding:"12px 16px",transition:"all 0.2s"},children:[d.jsx("input",{type:"checkbox",checked:n.includes(R.productId),onChange:()=>v(R.productId),disabled:u,style:{width:18,height:18,accentColor:"#2563eb"}}),d.jsxs("div",{style:{flexGrow:1},children:[d.jsx("div",{style:{fontWeight:600,fontSize:16,color:"#1a1a1a"},children:R.model||R.serialNo}),d.jsxs("div",{style:{color:"#888",fontSize:13},children:["Serial: ",d.jsx("span",{style:{fontFamily:"monospace"},children:R.serialNo})," | ID: #",R.productId]}),d.jsx("div",{style:{color:"#2563eb",fontSize:13,marginTop:2},children:R.category})]})]},R.productId))})]}),d.jsx("button",{style:{width:"100%",padding:"14px 0",borderRadius:12,background:n.length>0?"#2563eb":"#cbd5e1",color:"white",fontWeight:700,fontSize:17,border:"none",cursor:n.length>0&&!u?"pointer":"not-allowed",marginTop:10,boxShadow:n.length>0?"0 2px 8px rgba(37,99,235,0.08)":"none",transition:"all 0.2s"},onClick:()=>t(!0),disabled:n.length===0||u,children:"Start Ownership Transfer"})]}),d.jsx(Lf,{open:e,onClose:()=>t(!1),fromUserId:C,selectedProductIds:n,title:"Ownership Transfer",onTransferred:R=>{t(!1);const D=R&&R.length>0&&R[0].ok&&R[0].message?R[0].message:"another consumer";S(`Ownership transfer proposed to ${D}.`),setTimeout(()=>{S(null),r("/consumer")},2200)}}),E&&d.jsx("div",{style:{position:"fixed",top:30,left:0,right:0,margin:"0 auto",maxWidth:400,background:"#2563eb",color:"white",padding:16,borderRadius:10,textAlign:"center",fontWeight:600,fontSize:16,zIndex:9999,boxShadow:"0 2px 12px rgba(37,99,235,0.15)"},children:E})]})}function hz(){const r=tn(),e=Number(localStorage.getItem("userId")),[t,n]=U.useState([]),[s,a]=U.useState(!0),[l,u]=U.useState(null),[f,h]=U.useState("all"),m=oi(),E=!!m.connected&&!!m.publicKey,[S,C]=U.useState(new Set),[v,R]=U.useState(!1),D="http://34.177.85.28:3000/api/distributors/products-by-user",[M,N]=U.useState(null);U.useEffect(()=>{const Y=te=>{const se=te.target;se&&(se.closest?.("[data-actions-menu-root='true']")||N(null))},I=te=>{te.key==="Escape"&&N(null)},L=()=>N(null);return document.addEventListener("mousedown",Y),document.addEventListener("keydown",I),window.addEventListener("scroll",L,!0),window.addEventListener("resize",L),()=>{document.removeEventListener("mousedown",Y),document.removeEventListener("keydown",I),window.removeEventListener("scroll",L,!0),window.removeEventListener("resize",L)}},[]);const[F,P]=U.useState(!1),[K,V]=U.useState(!1),[H,J]=U.useState(null),[q,Z]=U.useState(null),[Q,$]=U.useState(null),[T,p]=U.useState(""),[b,_]=U.useState(""),[O,G]=U.useState(""),[z,k]=U.useState(""),[A,g]=U.useState(""),[w,j]=U.useState(""),[X,ne]=U.useState(null),oe=Y=>{const I=(Y.blockchainStatus||"").toLowerCase();return I.includes("confirmed")||I.includes("on blockchain")||I.includes("on-chain")||I.includes("onchain")},be=Y=>oe(Y)||(Y.stage||"").toLowerCase()!=="confirmed"?!1:Y.relationship==="manufacturer",we=Y=>oe(Y)&&Y.relationship==="owner",Je=Y=>oe(Y)||(Y.stage||"").toLowerCase()!=="draft"?!1:Y.relationship==="manufacturer",et=Y=>{if(!Y)return"";const I=new Date(Y);return Number.isNaN(I.getTime())?"":I.toLocaleDateString()},Re=U.useMemo(()=>f==="owned"?t.filter(Y=>Y.relationship==="owner"):t,[t,f]);U.useEffect(()=>{C(Y=>{if(Y.size===0)return Y;const I=new Set(Re.map(te=>te.productId)),L=new Set;for(const te of Y)I.has(te)&&L.add(te);return L})},[f,Re.length]);const rt=U.useMemo(()=>Re.filter(Y=>S.has(Y.productId)),[Re,S]),Le=U.useMemo(()=>rt.filter(we),[rt]),Ge=Le.length>0,$t=U.useMemo(()=>{const Y=Re.filter(we);return Y.length===0?!1:Y.every(I=>S.has(I.productId))},[Re,S]),ct=Y=>{const I=Re.find(L=>L.productId===Y);I&&!we(I)||C(L=>{const te=new Set(L);return te.has(Y)?te.delete(Y):te.add(Y),te})},vt=()=>{C(Y=>{const I=Re.filter(we).map(te=>te.productId);return I.length>0&&I.every(te=>Y.has(te))?new Set:new Set(I)})},dn=()=>C(new Set),wt=async()=>{try{if(!e||Number.isNaN(e)){u("Manufacturer ID missing. Please login again.");return}const Y=await De.post(D,{user_id:e});if(!Y.data.success||!Y.data.data){u(Y.data.error||"Failed to load products.");return}const L=(Y.data.data.products||[]).map(te=>{const se=!!(te.tx_hash&&te.product_pda),le=te.relationship??null,ge=le==="owner"?"active":"transferred";return{productId:te.product_id,serialNumber:te.serial_no,productName:te.model??null,category:te.category??null,lifecycleStatus:ge,blockchainStatus:se?"confirmed":"pending",registeredOn:te.owned_since||"",price:null,currency:null,listingStatus:null,listingCreatedOn:null,relationship:le,stage:te.stage??null}});n(L),u(null)}catch(Y){u(Y?.response?.data?.error||Y?.response?.data?.details||"Error fetching products.")}finally{a(!1)}};U.useEffect(()=>{wt()},[]);const nt=()=>{E&&Ge&&R(!0)},Nn=async Y=>{const I=Re.find(te=>te.productId===Y);if(I&&oe(I)){alert("Cannot delete a product that is confirmed on blockchain.");return}if(window.confirm("Are you sure you want to delete this product? This cannot be undone."))try{const te=await De.delete(`${ji}/${Y}/draft`,{data:{manufacturerId:e}});te.data.success?(alert("Product deleted successfully."),C(se=>{const le=new Set(se);return le.delete(Y),le}),wt()):alert(te.data.error||"Failed to delete product.")}catch(te){const se=te.response?.data?.details||te.message;alert("Delete failed: "+se)}},jt=async Y=>{try{const I=await De.post(`${ji}/${Y}/confirm-draft`,{manufacturerId:e});if(!I.data?.success){alert(I.data?.error||"Failed to lock draft.");return}await wt()}catch(I){alert(I?.response?.data?.details||I?.message||"Lock draft failed.")}},ft=async Y=>{N(null);const I=Re.find(L=>L.productId===Y);if(I&&oe(I)){P(!0),V(!1),Z(null),$(Y),J("This product is already confirmed on blockchain and cannot be edited (immutable)."),p(I.serialNumber??""),_(I.productName??""),k(I.category??""),G(""),g(""),j(""),ne(null);return}P(!0),V(!0),J(null),Z(null),$(Y);try{const L=await De.get(`${ji}/${Y}/edit`,{params:{manufacturerId:e}});if(!L.data.success||!L.data.data){J(L.data.error||"Failed to load product for editing.");return}const te=L.data.data;p(te.serialNumber??""),_(te.productName??""),G(te.batchNumber??""),k(te.category??""),j(te.productDescription??""),g((le=>le&&typeof le=="string"&&le.length>=10&&/^\d{4}-\d{2}-\d{2}/.test(le)?le.slice(0,10):"")(te.manufactureDate)),ne(te.qrImageUrl?Pw(te.qrImageUrl):null)}catch(L){J(L.response?.data?.error||L.response?.data?.details||"Error loading product for edit.")}finally{V(!1)}},Zn=()=>{P(!1),V(!1),J(null),Z(null),$(null),p(""),_(""),G(""),k(""),g(""),j(""),ne(null)},Ht=async()=>{if(!Q)return;const Y=Re.find(I=>I.productId===Q);if(Y&&oe(Y)){J("This product is confirmed on blockchain and cannot be updated.");return}if(!e||Number.isNaN(e)){J("Manufacturer ID missing. Please login again.");return}if(!T.trim()){J("Serial Number is required.");return}J(null),Z(null),V(!0);try{const I={manufacturerId:e,serialNo:T.trim(),productName:b.trim()||null,batchNo:O.trim()||null,category:z.trim()||null,manufactureDate:A||null,description:w.trim()||null},L=await De.put(`${ji}/${Q}`,I);if(!L.data.success||!L.data.data){J(L.data.error||"Failed to update product.");return}Z("Updated successfully. New QR code generated.");const te=L.data.data.qrImageUrl??`${ji}/${Q}/qrcode`;ne(Pw(te)),await wt()}catch(I){J(I.response?.data?.error||I.response?.data?.details||"Update failed.")}finally{V(!1)}};return s?d.jsx("p",{style:{padding:20},children:"Loading products..."}):d.jsxs("div",{style:{padding:"40px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,gap:16,flexWrap:"wrap"},children:[d.jsx("h1",{style:{margin:0},children:"My Products"}),d.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[d.jsx(zw,{active:f==="all",onClick:()=>h("all"),label:"All",subtitle:`${t.length}`}),d.jsx(zw,{active:f==="owned",onClick:()=>h("owned"),label:"Owned",subtitle:`${t.filter(Y=>Y.relationship==="owner").length}`})]})]}),d.jsx("h2",{style:{margin:1,fontWeight:300,color:"#6b7280"},children:"Select products to transfer ownership"}),d.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:12,gap:10,alignItems:"center"},children:[d.jsx(Gi,{}),d.jsx("button",{type:"button",onClick:nt,disabled:!E||!Ge,style:{padding:"10px 14px",borderRadius:10,border:"none",background:!E||!Ge?"#9ca3af":"#111827",color:"white",cursor:!E||!Ge?"not-allowed":"pointer",fontWeight:700,opacity:!E||!Ge?.7:1},title:E?Ge?"Transfer selected products":"Select at least one transferable product":"Connect your wallet to transfer ownership",children:"Transfer Ownership"})]}),!E&&d.jsx("div",{style:{marginBottom:12,fontSize:12,color:"#b45309",background:"#fffbeb",border:"1px solid #fde68a",padding:"8px 10px",borderRadius:10,display:"inline-block"},children:"Please connect your wallet before transferring ownership."}),l&&d.jsx("div",{style:{background:"#ffe0e0",padding:"10px",borderRadius:"8px",marginBottom:"16px",color:"#a11"},children:l}),d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"white",borderRadius:"10px",overflow:"visible"},children:[d.jsx("thead",{style:{background:"#e9ecef"},children:d.jsxs("tr",{children:[d.jsx("th",{style:{...Js,width:46},children:d.jsx("input",{type:"checkbox",checked:$t,onChange:vt,"aria-label":"Select all transferable products",title:"Select all transferable products (in this filter)"})}),d.jsx("th",{style:Js,children:"Product ID"}),d.jsx("th",{style:Js,children:"Product Name"}),d.jsx("th",{style:Js,children:"Category"}),d.jsx("th",{style:Js,children:"Owned Since"}),d.jsx("th",{style:Js,children:"Status"}),d.jsx("th",{style:Js,children:"Actions"})]})}),d.jsx("tbody",{children:Re.map(Y=>{const I=oe(Y),L=we(Y),te=be(Y),se=Je(Y),le=M===Y.productId,ge=qe=>{qe(),N(null)};return d.jsxs("tr",{children:[d.jsx("td",{style:ea,children:d.jsx("input",{type:"checkbox",checked:S.has(Y.productId),onChange:()=>ct(Y.productId),disabled:!L,"aria-label":`Select product ${Y.productId}`,title:I?Y.relationship!=="owner"?"Cannot transfer: you are not the current owner":"Transfer eligible":"Cannot transfer: product not on-chain yet"})}),d.jsx("td",{style:ea,children:Y.productId}),d.jsx("td",{style:ea,children:Y.productName||""}),d.jsx("td",{style:ea,children:Y.category||""}),d.jsx("td",{style:ea,children:et(Y.registeredOn)}),d.jsxs("td",{style:ea,children:[d.jsx("span",{style:{marginLeft:10,padding:"4px 10px",borderRadius:"999px",fontSize:12,background:Y.lifecycleStatus==="active"?"#dcfce7":"#fee2e2",color:Y.lifecycleStatus==="active"?"#166534":"#991b1b"},title:Y.lifecycleStatus==="active"?"You currently own this product":"You have transferred this product",children:Y.lifecycleStatus==="active"?"owned":"transferred"}),Y.stage&&d.jsx("span",{style:{marginLeft:10,padding:"4px 10px",borderRadius:"999px",fontSize:12,background:"#f3f4f6",color:"#111827"},title:"DB Stage",children:Y.stage})]}),d.jsx("td",{style:ea,children:d.jsxs("div",{"data-actions-menu-root":"true",style:{position:"relative",display:"inline-block"},children:[d.jsx("button",{type:"button",onClick:()=>N(qe=>qe===Y.productId?null:Y.productId),style:pz,"aria-label":"Open actions",title:"Actions",children:""}),le&&d.jsxs("div",{style:gz,role:"menu","aria-label":"Row actions",children:[d.jsx("button",{type:"button",style:Kl,onClick:()=>ge(()=>r(`/products/${Y.productId}/details`)),role:"menuitem",children:"View details"}),d.jsx("button",{type:"button",style:I?D1:Kl,onClick:()=>I?void 0:ge(()=>{ft(Y.productId)}),disabled:I,role:"menuitem",title:I?"On-chain products cannot be edited":"Edit product",children:"Edit"}),d.jsx("div",{style:Uw}),d.jsx("button",{type:"button",style:se?Kl:D1,onClick:()=>se?ge(()=>{jt(Y.productId)}):void 0,disabled:!se,role:"menuitem",title:se?"Confirm (lock) this draft so it can be registered on-chain":"Draft already locked or on-chain",children:"Lock draft (confirm)"}),d.jsx("button",{type:"button",style:te?Kl:D1,onClick:()=>te?ge(()=>r(`/manufacturer/register?productId=${Y.productId}&stage=${encodeURIComponent(Y.stage??"")}`)):void 0,disabled:!te,role:"menuitem",title:te?"Send to blockchain":"Only confirmed drafts can be registered",children:"Send to blockchain"}),d.jsx("div",{style:Uw}),d.jsx("button",{type:"button",style:I?mz:U4,onClick:()=>I?void 0:ge(()=>{Nn(Y.productId)}),disabled:I,role:"menuitem",title:I?"On-chain products cannot be deleted":"Delete draft",children:"Delete"})]})]})})]},Y.productId)})})]}),Re.length===0&&d.jsx("p",{style:{marginTop:20,opacity:.6},children:"No products found for this filter."}),d.jsx(Lf,{open:v,onClose:()=>R(!1),fromUserId:e,selectedProductIds:Le.map(Y=>Y.productId),title:"Ownership Transfer",onTransferred:async Y=>{Y.some(L=>!L.ok)||(await wt(),dn(),R(!1))}}),F&&d.jsx("div",{style:yz,onMouseDown:Zn,children:d.jsxs("div",{style:Ez,onMouseDown:Y=>Y.stopPropagation(),role:"dialog","aria-modal":"true",children:[d.jsxs("div",{style:bz,children:[d.jsxs("div",{children:[d.jsx("h2",{style:{margin:0,fontSize:18},children:"Edit Product Details"}),d.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:"#6b7280"},children:"Update product information and generate a new unique QR code"})]}),d.jsx("button",{style:wz,onClick:Zn,type:"button",children:""})]}),H&&d.jsx("div",{style:Sz,children:H}),q&&d.jsx("div",{style:_z,children:q}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:14},children:[d.jsx(Nl,{label:"Product Name *",children:d.jsx("input",{style:Il,value:b,onChange:Y=>_(Y.target.value),placeholder:"e.g. iPhone 15 Pro Max",disabled:!!H&&H.includes("immutable")})}),d.jsx(Nl,{label:"Category *",children:d.jsx("input",{style:Il,value:z,onChange:Y=>k(Y.target.value),placeholder:"e.g. Electronics",disabled:!!H&&H.includes("immutable")})}),d.jsx(Nl,{label:"Batch Number *",children:d.jsx("input",{style:Il,value:O,onChange:Y=>G(Y.target.value),placeholder:"e.g. BATCH-2024-A1",disabled:!!H&&H.includes("immutable")})}),d.jsx(Nl,{label:"Serial Number *",children:d.jsx("input",{style:Il,value:T,onChange:Y=>p(Y.target.value),placeholder:"e.g. IMEI: 3569...",disabled:!!H&&H.includes("immutable")})}),d.jsx(Nl,{label:"Manufacture Date *",children:d.jsx("input",{style:Il,type:"date",value:A,onChange:Y=>g(Y.target.value),disabled:!!H&&H.includes("immutable")})})]}),d.jsx("div",{style:{marginTop:14},children:d.jsx(Nl,{label:"Description",children:d.jsx("textarea",{style:{...Il,minHeight:80,resize:"vertical",boxSizing:"border-box"},value:w,onChange:Y=>j(Y.target.value),placeholder:"e.g. 256GB, Titanium Blue, Factory Sealed",disabled:!!H&&H.includes("immutable")})})}),d.jsxs("div",{style:Az,children:[d.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:6},children:" Unique QR Code Generation"}),d.jsx("div",{style:{fontSize:12,color:"#374151"},children:"A new unique QR code will be automatically generated and tied to this product when you save your changes."}),X&&d.jsx("div",{style:{marginTop:12,textAlign:"center"},children:d.jsx("img",{src:X,alt:"QR Code",style:{width:140,height:140,borderRadius:12,background:"white",padding:8}})})]}),d.jsxs("div",{style:Cz,children:[d.jsx("button",{type:"button",onClick:Zn,style:vz,disabled:K,children:"Cancel"}),d.jsx("button",{type:"button",onClick:()=>{Ht()},style:Bz,disabled:K||!!(H&&H.toLowerCase().includes("immutable")),title:H&&H.toLowerCase().includes("immutable")?"On-chain product cannot be updated":"Update",children:K?"Updating...":"Update & Generate New QR Code"})]})]})})]})}function Pw(r){const e=r.includes("?")?"&":"?";return`${r}${e}ts=${Date.now()}`}function Nl({label:r,children:e}){return d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:12,fontWeight:700,marginBottom:6},children:r}),e]})}function zw({active:r,onClick:e,label:t,subtitle:n}){return d.jsxs("button",{type:"button",onClick:e,style:{border:r?"1px solid #111827":"1px solid #e5e7eb",background:r?"#111827":"white",color:r?"white":"#111827",borderRadius:999,padding:"8px 12px",cursor:"pointer",display:"flex",gap:8,alignItems:"center",fontWeight:700,fontSize:13},title:t,children:[t,n!==void 0&&d.jsx("span",{style:{background:r?"rgba(255,255,255,0.18)":"#f3f4f6",color:r?"white":"#111827",borderRadius:999,padding:"2px 8px",fontSize:12,fontWeight:800},children:n})]})}const Js={padding:"14px",textAlign:"left",fontWeight:600,fontSize:"14px",borderBottom:"1px solid #ddd"},ea={padding:"12px",borderBottom:"1px solid #eee",fontSize:"14px"},pz={border:"1px solid #e5e7eb",background:"white",cursor:"pointer",borderRadius:10,padding:"6px 10px",fontSize:18,lineHeight:1},gz={position:"absolute",top:"calc(100% + 6px)",right:0,minWidth:200,background:"white",border:"1px solid #e5e7eb",borderRadius:12,boxShadow:"0 10px 20px rgba(0,0,0,0.08)",padding:6,zIndex:9999},Kl={width:"100%",textAlign:"left",border:"none",background:"transparent",padding:"10px 10px",borderRadius:10,cursor:"pointer",fontSize:13,fontWeight:600,color:"#111827"},D1={...Kl,cursor:"not-allowed",opacity:.45},Uw={height:1,background:"#eef2f7",margin:"6px 6px"},U4={...Kl,color:"#b91c1c"},mz={...U4,cursor:"not-allowed",opacity:.45},yz={position:"fixed",inset:0,background:"rgba(0,0,0,0.35)",display:"flex",alignItems:"center",justifyContent:"center",padding:18,zIndex:9999},Ez={width:"min(720px, 100%)",maxHeight:"calc(100vh - 48px)",overflow:"auto",background:"white",borderRadius:14,boxShadow:"0 10px 30px rgba(0,0,0,0.2)",padding:18,boxSizing:"border-box"},bz={display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12,marginBottom:14},wz={border:"none",background:"transparent",cursor:"pointer",fontSize:18,lineHeight:1},Il={width:"100%",padding:"10px 12px",borderRadius:10,border:"1px solid #d1d5db",fontSize:14,outline:"none",boxSizing:"border-box"},Az={marginTop:16,padding:14,borderRadius:12,border:"1px solid #bfdbfe",background:"#eff6ff"},Cz={display:"flex",justifyContent:"flex-end",gap:10,marginTop:14},vz={padding:"10px 14px",borderRadius:10,border:"1px solid #d1d5db",background:"white",cursor:"pointer",fontWeight:600},Bz={padding:"10px 14px",borderRadius:10,border:"none",background:"#111827",color:"white",cursor:"pointer",fontWeight:700},Sz={background:"#ffe6e6",color:"#a11",padding:"10px 12px",borderRadius:10,fontSize:13,marginBottom:10},_z={background:"#e7ffef",color:"#116a2b",padding:"10px 12px",borderRadius:10,fontSize:13,marginBottom:10},ta=Ki.replace(/\/api\s*$/,""),Me={page:{maxWidth:980,margin:"28px auto",padding:"0 16px 32px"},headerRow:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:16,marginBottom:14},titleWrap:{minWidth:0},h1:{fontSize:26,margin:0,fontWeight:800,letterSpacing:-.2},subtitle:{marginTop:6,color:"#6b7280",fontSize:14},rightTop:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:8},walletHint:{fontSize:12,color:"#6b7280"},card:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:16,boxShadow:"0 1px 2px rgba(0,0,0,0.04)",overflow:"hidden"},cardHeader:{padding:"16px 18px",borderBottom:"1px solid #eef2f7",background:"#fafafa",display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},cardHeaderTitle:{fontWeight:800,fontSize:14,color:"#111827"},cardBody:{padding:18},sectionTitle:{fontWeight:800,fontSize:13,marginBottom:10,color:"#111827"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:14,alignItems:"start"},field:{display:"flex",flexDirection:"column",gap:6},labelRow:{display:"flex",alignItems:"baseline",justifyContent:"space-between",gap:10},label:{fontSize:12,fontWeight:700,color:"#111827"},required:{color:"#ef4444",fontWeight:900,marginLeft:4},helper:{fontSize:12,color:"#6b7280"},input:{width:"100%",maxWidth:"100%",boxSizing:"border-box",padding:"11px 12px",borderRadius:12,border:"1px solid #e5e7eb",outline:"none",fontSize:14,background:"#fff"},inputReadOnly:{width:"100%",maxWidth:"100%",boxSizing:"border-box",padding:"11px 12px",borderRadius:12,border:"1px solid #e5e7eb",outline:"none",fontSize:14,background:"#f9fafb",color:"#6b7280"},textarea:{width:"100%",maxWidth:"100%",boxSizing:"border-box",padding:"11px 12px",borderRadius:12,border:"1px solid #e5e7eb",outline:"none",fontSize:14,background:"#fff",resize:"vertical",minHeight:110},disabled:{opacity:.55,cursor:"not-allowed"},actionsWrap:{marginTop:16,display:"flex",gap:10,flexWrap:"wrap",justifyContent:"flex-end"},btn:{padding:"10px 14px",borderRadius:12,border:"1px solid #e5e7eb",background:"#fff",fontWeight:800,cursor:"pointer",fontSize:13},btnDanger:{padding:"10px 14px",borderRadius:12,border:"1px solid #fecaca",background:"#fff",fontWeight:800,cursor:"pointer",fontSize:13,color:"#b91c1c"},btnPrimary:{padding:"10px 14px",borderRadius:12,border:"1px solid #111827",background:"#111827",color:"#fff",fontWeight:900,cursor:"pointer",fontSize:13},btnEmphasis:{padding:"10px 14px",borderRadius:12,border:"1px solid #111827",background:"#fff",color:"#111827",fontWeight:900,cursor:"pointer",fontSize:13},statusCard:{marginTop:18,background:"#fff",border:"1px solid #e5e7eb",borderRadius:16,boxShadow:"0 1px 2px rgba(0,0,0,0.04)",padding:14},statusRow:{display:"flex",gap:10,flexWrap:"wrap",alignItems:"center"},badge:{fontSize:12,padding:"6px 10px",borderRadius:999,border:"1px solid #e5e7eb",background:"#fff",color:"#111827"},badgeMuted:{fontSize:12,padding:"6px 10px",borderRadius:999,border:"1px solid #e5e7eb",background:"#fff",color:"#6b7280"},mono:{fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"},alertError:{marginBottom:12,padding:"10px 12px",borderRadius:12,background:"#fee2e2",color:"#991b1b",fontSize:13,fontWeight:700,border:"1px solid #fecaca"}};function Dz(){const r=oi(),[e]=jS(),t=Number(localStorage.getItem("userId"))||0,[n,s]=U.useState(""),[a,l]=U.useState(""),[u,f]=U.useState(""),[h,m]=U.useState(""),[E,S]=U.useState(""),[C,v]=U.useState(""),[R,D]=U.useState(null),[M,N]=U.useState("unknown"),[F,P]=U.useState(""),[K,V]=U.useState(""),[H,J]=U.useState(!1),[q,Z]=U.useState(""),[Q,$]=U.useState(""),T=U.useMemo(()=>({serialNo:n.trim(),productName:a.trim()||void 0,batchNo:u.trim()||void 0,category:h.trim()||void 0,manufactureDate:E||void 0,description:C.trim()||void 0}),[n,a,u,h,E,C]),p=M==="confirmed"||H;U.useEffect(()=>()=>{q&&URL.revokeObjectURL(q)},[q]);const b=e.get("productId"),_=(e.get("stage")||"").toLowerCase(),O=Re=>Re.trim().length>0,G=O(n)&&O(a)&&O(u)&&O(h)&&O(E)&&O(C),z=!!R&&M==="draft",k=!!R&&M==="confirmed",A=!p&&!R&&G,g=!p&&z,w=!p&&z,j=k&&!H&&G&&!!r.publicKey;U.useEffect(()=>{if($(""),!b)return;const Re=Number(b);!Number.isFinite(Re)||Re<=0||(D(Re),_==="confirmed"?N("confirmed"):_==="draft"&&N("draft"),ne(Re))},[b]);async function X(Re){Z($t=>($t&&URL.revokeObjectURL($t),""));const rt=await De.get(`${ta}/api/products/${Re}/qrcode`,{responseType:"arraybuffer"}),Le=new Blob([rt.data],{type:"image/png"}),Ge=URL.createObjectURL(Le);Z(Ge)}async function ne(Re){try{$("");const rt=await De.get(`${ta}/api/products/${Re}/edit`,{params:{manufacturerId:t}});if(!rt.data.success||!rt.data.data)throw new Error(rt.data.error||"Failed to load product");const Le=rt.data.data;s(Le.serialNumber??""),l(Le.productName??""),f(Le.batchNumber??""),m(Le.category??""),S(Le.manufactureDate?new Date(Le.manufactureDate).toISOString().slice(0,10):""),v(Le.productDescription??"");const Ge=String(Le.stage||"").toLowerCase();Ge==="confirmed"?N("confirmed"):Ge==="draft"&&N("draft");const $t=Le.txHash??Le.tx_hash??null,ct=Le.productPda??Le.product_pda??null;$t?(J(!0),P($t),ct&&V(ct)):(J(!1),P(""),V("")),(Ge==="confirmed"||$t)&&Re&&await X(Re)}catch(rt){console.error("loadProduct error:",rt),$(rt?.message||"Failed to load product.")}}U.useEffect(()=>{R&&(M==="confirmed"||H)&&(q||X(R))},[R,M,H]);async function oe(){const Re=n.trim();if(!Re)throw new Error("Serial number is required");if(p)throw new Error("Product is locked (confirmed/finalized).");const rt=await De.post(`${ta}/api/products/draft`,{manufacturerId:t,serialNo:Re,productName:a,batchNo:u,category:h,manufactureDate:E,description:C}),Le=rt.data?.data?.product?.product_id??rt.data?.data?.productId??rt.data?.data?.product?.productId??null;if(!Le)throw new Error(`Draft saved but could not parse productId.
Response:
${JSON.stringify(rt.data,null,2)}`);return D(Le),N("draft"),J(!1),P(""),V(""),Z(Ge=>(Ge&&URL.revokeObjectURL(Ge),"")),Le}async function be(){try{$(""),await oe()}catch(Re){console.error("saveDraft error:",Re),$(Re?.message||"Save draft failed.")}}async function we(){try{if($(""),!R)throw new Error("No productId. Save draft first.");if(p)throw new Error("Draft is locked (confirmed/finalized). Cannot delete.");await De.delete(`${ta}/api/products/${R}/draft`,{data:{manufacturerId:t},headers:{"Content-Type":"application/json"}}),D(null),N("unknown"),Z(Re=>(Re&&URL.revokeObjectURL(Re),""))}catch(Re){console.error("deleteDraft error:",Re),$(Re?.message||"Delete draft failed.")}}async function Je(){try{if($(""),!R)throw new Error("No productId. Save draft first.");if(p)throw new Error("Already locked.");await De.post(`${ta}/api/products/${R}/confirm-draft`,{manufacturerId:t}),N("confirmed"),await X(R)}catch(Re){console.error("confirmDraft error:",Re),$(Re?.message||"Confirm draft failed.")}}async function et(){try{if($(""),!r.publicKey)throw new Error("Connect wallet first");const Re=n.trim();if(!Re)throw new Error("Serial number is required");if(!R)throw new Error("No productId. Save draft first.");if(M!=="confirmed")throw new Error("Draft not confirmed. Click 'Confirm Draft' first.");if(H)throw new Error("Already finalized.");const rt=await De.post(`${ta}/api/products/${R}/metadata-final`,{manufacturerId:t,metadata:T}),Le=rt.data?.metadataUri,Ge=rt.data?.metadataSha256Hex;if(!Le||!Ge)throw new Error(`metadata-final did not return metadataUri/metadataSha256Hex.
Response:
${JSON.stringify(rt.data,null,2)}`);const $t=je.Buffer.from(Ge,"hex"),[ct,vt,dn]=await YP(r.publicKey,Re),wt=j0(r),Nn=await L0(wt).methods.registerProduct(Array.from(dn),Array.from($t),Le).accounts({product:ct,manufacturer:r.publicKey,systemProgram:Fn.programId}).rpc();P(Nn),V(ct.toBase58()),await De.post(`${ta}/api/products/${R}/confirm`,{manufacturerId:t,txHash:Nn,productPda:ct.toBase58()}),J(!0),q||await X(R)}catch(Re){console.error("sendToBlockchain error:",Re),$(Re?.message||"Send to blockchain failed."),alert(Re?.message||"Send to blockchain failed.")}}return d.jsxs("div",{style:Me.page,children:[d.jsxs("div",{style:Me.headerRow,children:[d.jsxs("div",{style:Me.titleWrap,children:[d.jsx("h1",{style:Me.h1,children:"Register New Product"}),d.jsx("div",{style:Me.subtitle,children:"Add a new product to the blockchain system"})]}),d.jsxs("div",{style:Me.rightTop,children:[d.jsx(Gi,{}),d.jsxs("div",{style:Me.walletHint,children:["Connected:"," ",d.jsxs("span",{style:Me.mono,children:[r.publicKey?.toBase58().slice(0,6)??"",r.publicKey?"":""]})]})]})]}),d.jsxs("div",{style:Me.card,children:[d.jsx("div",{style:Me.cardHeader,children:d.jsx("div",{style:Me.cardHeaderTitle,children:"Product Information"})}),d.jsxs("div",{style:Me.cardBody,children:[Q&&d.jsx("div",{style:Me.alertError,children:Q}),d.jsx("div",{style:Me.sectionTitle,children:"Enter the details of the product you want to register"}),d.jsxs("div",{style:Me.grid,children:[d.jsxs("div",{style:Me.field,children:[d.jsxs("div",{style:Me.labelRow,children:[d.jsx("span",{style:Me.label,children:"Product ID"}),d.jsx("span",{style:Me.helper})]}),d.jsx("input",{type:"text",value:R??"",readOnly:!0,placeholder:"e.g., 12345",style:Me.inputReadOnly})]}),d.jsxs("div",{style:Me.field,children:[d.jsxs("div",{style:Me.labelRow,children:[d.jsxs("span",{style:Me.label,children:["Serial Number",d.jsx("span",{style:Me.required,children:"*"})]}),d.jsx("span",{style:Me.helper,children:p?"Locked":"Editable until Confirm"})]}),d.jsx("input",{value:n,onChange:Re=>s(Re.target.value),placeholder:"e.g., SER-008",style:{...Me.input,...p?Me.disabled:{}},disabled:p})]}),d.jsxs("div",{style:Me.field,children:[d.jsx("div",{style:Me.labelRow,children:d.jsx("span",{style:Me.label,children:"Product Name"})}),d.jsx("input",{value:a,onChange:Re=>l(Re.target.value),placeholder:"e.g., iPhone 15 Pro Max",style:{...Me.input,...p?Me.disabled:{}},disabled:p})]}),d.jsxs("div",{style:Me.field,children:[d.jsx("div",{style:Me.labelRow,children:d.jsx("span",{style:Me.label,children:"Batch Number"})}),d.jsx("input",{value:u,onChange:Re=>f(Re.target.value),placeholder:"e.g., BATCH-2024-A1",style:{...Me.input,...p?Me.disabled:{}},disabled:p})]}),d.jsxs("div",{style:Me.field,children:[d.jsx("div",{style:Me.labelRow,children:d.jsx("span",{style:Me.label,children:"Category"})}),d.jsx("input",{value:h,onChange:Re=>m(Re.target.value),placeholder:"e.g., Electronics",style:{...Me.input,...p?Me.disabled:{}},disabled:p})]}),d.jsxs("div",{style:Me.field,children:[d.jsx("div",{style:Me.labelRow,children:d.jsx("span",{style:Me.label,children:"Manufacture Date"})}),d.jsx("input",{type:"date",value:E,onChange:Re=>S(Re.target.value),style:{...Me.input,...p?Me.disabled:{}},disabled:p})]}),d.jsxs("div",{style:{...Me.field,gridColumn:"1 / -1"},children:[d.jsx("div",{style:Me.labelRow,children:d.jsx("span",{style:Me.label,children:"Product Description"})}),d.jsx("textarea",{value:C,onChange:Re=>v(Re.target.value),placeholder:"Detailed description of the product...",style:{...Me.textarea,...p?Me.disabled:{}},disabled:p})]}),(F||K)&&d.jsx("div",{style:{gridColumn:"1 / -1",marginTop:6},children:d.jsxs("div",{style:Me.statusRow,children:[F&&d.jsx("span",{style:Me.badge,children:"Registered on blockchain"}),K&&d.jsx("span",{style:Me.badge,children:"Metadata verified"})]})})]}),d.jsxs("div",{style:Me.statusCard,children:[d.jsx("div",{style:{fontWeight:900,marginBottom:8},children:"Registration Status"}),d.jsxs("div",{style:Me.statusRow,children:[d.jsxs("span",{style:Me.badgeMuted,children:["Manufacturer ID: ",d.jsx("span",{style:Me.mono,children:t})]}),d.jsxs("span",{style:Me.badge,children:["Stage: ",d.jsx("b",{children:M})]}),d.jsxs("span",{style:Me.badge,children:["Locked: ",d.jsx("b",{children:p?"YES":"NO"})]}),d.jsxs("span",{style:Me.badge,children:["Finalized: ",d.jsx("b",{children:H?"YES":"NO"})]})]}),(M==="confirmed"||H||!!q)&&R&&d.jsxs("div",{style:{marginTop:14,padding:14,borderRadius:14,background:"#f8fafc",border:"1px solid #e5e7eb"},children:[d.jsx("div",{style:{fontWeight:900,marginBottom:6},children:"QR Code"}),d.jsxs("div",{style:{display:"flex",gap:18,alignItems:"center",flexWrap:"wrap"},children:[d.jsx("div",{style:{width:160,height:160,background:"#fff",borderRadius:12,border:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"center"},children:q?d.jsx("img",{src:q,alt:"Product QR Code",style:{width:"100%",height:"100%",objectFit:"contain"}}):d.jsx("span",{style:{fontSize:12,color:"#6b7280"},children:"Generating"})}),d.jsxs("div",{style:{fontSize:13},children:[d.jsxs("div",{children:[d.jsx("b",{children:"Product ID:"})," ",R]}),d.jsxs("div",{children:[d.jsx("b",{children:"Serial No:"})," ",n||""]}),d.jsxs("div",{children:[d.jsx("b",{children:"Manufacturer ID:"})," ",t]})]})]})]})]}),d.jsxs("div",{style:Me.actionsWrap,children:[d.jsx("button",{type:"button",onClick:be,style:{...Me.btn,...A?{}:Me.disabled},disabled:!A,title:G?R?"Draft already saved":p?"Locked":"":"Fill in all fields first",children:"Save Draft"}),d.jsx("button",{type:"button",onClick:we,style:{...Me.btnDanger,...g?{}:Me.disabled},disabled:!g,title:R?M!=="draft"?"Only drafts can be deleted":p?"Locked":"":"Save draft first",children:"Delete Draft"}),d.jsx("button",{type:"button",onClick:Je,style:{...Me.btnEmphasis,...w?{}:Me.disabled},disabled:!w,title:R?M!=="draft"?"Draft already confirmed":p?"Locked":"":"Save draft first",children:"Lock Draft"}),d.jsx("button",{type:"button",onClick:et,style:{...Me.btnPrimary,...j?{}:Me.disabled},disabled:!j,title:G?R?M!=="confirmed"?"Confirm draft first":H?"Already finalized":r.publicKey?"":"Connect wallet first":"Save draft first":"Fill in all fields first",children:"Register on Blockchain"})]})]})]})]})}const Rz=({open:r,onClose:e,productName:t,price:n,sellerName:s,onConfirm:a,loading:l,solAmount:u,error:f,success:h})=>r?d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.35)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(2px)"},children:d.jsxs("div",{style:{background:"#fff",borderRadius:18,padding:36,minWidth:360,boxShadow:"0 4px 32px rgba(0,0,0,0.18)",position:"relative",maxWidth:420},children:[d.jsx("h2",{style:{margin:0,fontSize:22,fontWeight:700,color:"#1e293b",letterSpacing:.2},children:"Confirm Purchase"}),d.jsxs("div",{style:{margin:"18px 0 0 0",fontSize:16,color:"#334155"},children:[d.jsxs("div",{style:{marginBottom:8},children:[d.jsx("b",{children:"Product:"})," ",t]}),d.jsxs("div",{style:{marginBottom:8},children:[d.jsx("b",{children:"Price:"})," ",n," ",d.jsxs("span",{style:{color:"#64748b"},children:["(~",u.toFixed(4)," SOL)"]})]}),d.jsxs("div",{children:[d.jsx("b",{children:"Seller:"})," ",d.jsx("span",{style:{color:"#0ea5e9",fontWeight:600},children:s})]})]}),f&&d.jsxs("div",{style:{marginTop:18,background:"#fee2e2",color:"#b91c1c",borderRadius:8,padding:"10px 14px",fontWeight:500,fontSize:15,display:"flex",alignItems:"center",gap:8},children:[d.jsx("span",{style:{fontSize:18},children:""})," ",f]}),h&&d.jsxs("div",{style:{marginTop:18,background:"#dcfce7",color:"#166534",borderRadius:8,padding:"10px 14px",fontWeight:500,fontSize:15,display:"flex",alignItems:"center",gap:8},children:[d.jsx("span",{style:{fontSize:18},children:""})," ",h]}),d.jsxs("div",{style:{marginTop:28,display:"flex",gap:14,justifyContent:"flex-end"},children:[d.jsx("button",{onClick:e,style:{padding:"11px 22px",borderRadius:9,border:"none",background:"#f1f5f9",fontWeight:600,fontSize:15,color:"#334155",cursor:l?"not-allowed":"pointer",transition:"all 0.18s"},disabled:l,children:"Cancel"}),d.jsx("button",{onClick:a,style:{padding:"11px 22px",borderRadius:9,border:"none",background:l?"#a7f3d0":"#22c55e",color:"white",fontWeight:700,fontSize:15,cursor:l?"not-allowed":"pointer",opacity:l?.7:1,boxShadow:l?"none":"0 2px 8px rgba(34,197,94,0.08)"},disabled:l||!!h,children:l?d.jsx("span",{style:{display:"inline-block",width:18,height:18,border:"3px solid #fff",borderTop:"3px solid #22c55e",borderRadius:"50%",animation:"spin 1s linear infinite"}}):"Pay & Transfer"})]}),d.jsx("style",{children:`
          @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        `})]})}):null,kz="http://34.177.85.28:3000/api/products",Fz=({listing:r,onPurchaseSuccess:e})=>{const t=tn(),[n,s]=U.useState(!1),[a,l]=U.useState(!1),[u,f]=U.useState(0),[h,m]=U.useState(null),[E,S]=U.useState(null),C=oi(),v=r.price&&r.currency?`${r.price} ${r.currency}`:"";r.productStatus==="verified"||r.productStatus;const R=async N=>{try{const K=(await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=sgd")).json()).solana?.sgd||0;return K?N/K:0}catch{return 0}},D=async()=>{if(m(null),S(null),!C.connected||!C.publicKey){m("Please connect your Phantom wallet to purchase."),l(!0);return}if(!r.seller.publicKey){m("Seller has not connected their wallet. Cannot proceed."),l(!0);return}const N=parseFloat(r.price||"0");if(!N){m("Invalid price"),l(!0);return}s(!0);const F=await R(N);f(F),s(!1),l(!0)},M=async()=>{s(!0),m(null),S(null);try{if(!C.connected||!C.publicKey)throw new Error("Wallet not connected");if(!r.seller.publicKey)throw new Error("Seller wallet missing");const N=new Cf("https://api.devnet.solana.com"),F=new ve(r.seller.publicKey),P=C.publicKey,K=Math.round(u*oC),V=new bt().add(Fn.transfer({fromPubkey:P,toPubkey:F,lamports:K})),H=await C.sendTransaction(V,N);await N.confirmTransaction(H,"confirmed");const J=localStorage.getItem("userId");if(!J)throw new Error("User not logged in");const q=await De.post(`${kz}/listings/${r.listingId}/purchase`,{buyerId:Number(J),solTx:H,buyerPublicKey:C.publicKey.toBase58()});if(q.data.success)S(`Purchase successful! You now own ${r.productName||"this product"}`),setTimeout(()=>{l(!1),S(null),e&&e()},1800);else throw new Error(q.data.error||"Ownership transfer failed")}catch(N){m(N?.response?.data?.error||N?.message||"Failed to complete payment")}finally{s(!1)}};return d.jsxs("div",{style:{background:"white",border:"1px solid #e5e7eb",borderRadius:16,padding:24,boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",height:"100%"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:10},children:[d.jsx("div",{children:d.jsx("h3",{style:{margin:0,fontSize:18,fontWeight:600,color:"#111827"},children:r.productName??"Unknown Product"})}),d.jsx("span",{style:{fontSize:11,padding:"4px 10px",borderRadius:999,background:r.blockchainStatus==="on blockchain"?"#dcfce7":"#fef3c7",color:r.blockchainStatus==="on blockchain"?"#166534":"#92400e",height:"fit-content",whiteSpace:"nowrap"},children:r.blockchainStatus})]}),d.jsxs("div",{style:{marginTop:16,display:"flex",justifyContent:"space-between",gap:16},children:[d.jsxs("div",{children:[d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",fontWeight:500},children:"Price"}),d.jsx("p",{style:{margin:"4px 0 0 0",fontWeight:700,fontSize:16,color:"#111827"},children:v})]}),d.jsxs("div",{style:{textAlign:"right"},children:[d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",fontWeight:500},children:"Seller"}),d.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:14,fontWeight:500,color:"#111827"},children:[r.seller.username," (",r.seller.role,")"]})]})]}),r.notes&&d.jsxs("div",{style:{marginTop:16,padding:14,background:"#f9fafb",borderRadius:10,borderLeft:"3px solid #3b82f6"},children:[d.jsx("p",{style:{margin:0,fontSize:11,color:"#6b7280",fontWeight:600,marginBottom:6,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Seller Notes"}),d.jsx("p",{style:{margin:0,fontSize:13,color:"#374151",lineHeight:1.5},children:r.notes})]}),d.jsx("div",{style:{marginTop:16,display:"flex",flexDirection:"column",gap:12},children:d.jsxs("div",{style:{display:"flex",gap:10},children:[d.jsx("button",{style:{background:"#6c757d",color:"white",border:"none",borderRadius:10,padding:"10px 20px",cursor:"pointer",fontSize:13,fontWeight:600,transition:"all 0.2s"},onClick:N=>{N.stopPropagation(),t(`/consumer/product/${r.productId}`)},onMouseEnter:N=>{N.currentTarget.style.background="#545b62",N.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:N=>{N.currentTarget.style.background="#6c757d",N.currentTarget.style.transform="translateY(0)"},title:"View product journey timeline",children:"Timeline"}),d.jsx("button",{style:{background:"#2563eb",color:"white",border:"none",borderRadius:10,padding:"10px 20px",cursor:"pointer",fontSize:13,fontWeight:600,transition:"all 0.2s"},onClick:async N=>{N.stopPropagation();const F=localStorage.getItem("userId");if(!F){alert("Please log in to chat");return}try{const P=await De.post("http://34.177.85.28:3000/api/chats/create-thread",{listingId:r.listingId,userId:Number(F),otherUserId:r.seller.userId});P.data.success?t(`/consumer/chats/${P.data.thread.thread_id}`):alert(P.data.error||"Failed to open chat")}catch(P){alert(P?.response?.data?.error||"Failed to open chat")}},onMouseEnter:N=>{N.currentTarget.style.background="#1d4ed8",N.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:N=>{N.currentTarget.style.background="#2563eb",N.currentTarget.style.transform="translateY(0)"},title:"Chat with seller",children:"Message"}),d.jsx("button",{style:{background:n?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:10,padding:"10px 20px",cursor:n?"not-allowed":"pointer",fontSize:13,fontWeight:600,opacity:n?.6:1,transition:"all 0.2s"},onClick:D,disabled:n,onMouseEnter:N=>{n||(N.currentTarget.style.background="#218838",N.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:N=>{n||(N.currentTarget.style.background="#28a745",N.currentTarget.style.transform="translateY(0)")},children:n?"Processing...":"Buy Now"}),d.jsx(Rz,{open:a,onClose:()=>{l(!1),m(null),S(null)},productName:r.productName||"Unknown Product",price:v,sellerName:r.seller.username,onConfirm:M,loading:n,solAmount:u,error:h,success:E})]})})]})},Hw="http://34.177.85.28:3000/api/products",Tz=()=>{const[r,e]=U.useState([]),[t,n]=U.useState(!1),[s,a]=U.useState(null),[l,u]=U.useState(""),[f,h]=U.useState(""),[m,E]=U.useState(""),[S,C]=U.useState("latest"),v=U.useMemo(()=>{const M=localStorage.getItem("userId");return M?Number(M):NaN},[]);U.useEffect(()=>{(async()=>{n(!0),a(null);try{const N=await De.get(`${Hw}/marketplace/listings`);if(!N.data.success||!N.data.data){a(N.data.error||"Failed to load marketplace listings."),e([]);return}const F=Number.isFinite(v)?N.data.data.filter(P=>Number(P.seller.userId)!==v):N.data.data;e(F)}catch(N){console.error(N),a("Unable to load marketplace listings."),e([])}finally{n(!1)}})()},[v]);const R=()=>{(async()=>{try{const N=await De.get(`${Hw}/marketplace/listings`);if(N.data.success&&N.data.data){const F=Number.isFinite(v)?N.data.data.filter(P=>Number(P.seller.userId)!==v):N.data.data;e(F)}}catch(N){console.error("Failed to refresh marketplace:",N)}})()},D=U.useMemo(()=>{let M=r.filter(N=>{if(l.trim()){const F=l.toLowerCase();if(!(N.productName?.toLowerCase().includes(F)||!1||N.serialNumber.toLowerCase().includes(F)||N.seller.username.toLowerCase().includes(F)))return!1}if(f||m){const F=parseFloat(N.price||"0")||0;if(f&&F<parseFloat(f)||m&&F>parseFloat(m))return!1}return!0});return M=M.sort((N,F)=>{switch(S){case"latest":return new Date(F.listingCreatedOn).getTime()-new Date(N.listingCreatedOn).getTime();case"oldest":return new Date(N.listingCreatedOn).getTime()-new Date(F.listingCreatedOn).getTime();case"price-high":return(parseFloat(F.price||"0")||0)-(parseFloat(N.price||"0")||0);case"price-low":return(parseFloat(N.price||"0")||0)-(parseFloat(F.price||"0")||0);default:return 0}}),M},[r,l,f,m,S]);return d.jsxs("div",{style:{padding:24,maxWidth:"100%",overflow:"hidden",position:"relative"},children:[d.jsx("div",{style:{position:"fixed",top:18,right:32,zIndex:2e3},children:d.jsx(Gi,{})}),d.jsx("h1",{style:{margin:0,fontSize:24},children:"Consumer Marketplace"}),d.jsx("p",{style:{marginTop:6,color:"#6b7280",fontSize:13},children:"Browse blockchain-registered products listed for sale."}),d.jsxs("div",{style:{marginTop:20,display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"},children:[d.jsx("input",{type:"text",placeholder:"Search by product name, serial number, or seller...",value:l,onChange:M=>u(M.target.value),style:{flex:1,minWidth:200,padding:"10px 12px",fontSize:13,border:"1px solid #d1d5db",borderRadius:6,fontFamily:"inherit"}}),d.jsx("input",{type:"number",placeholder:"Min Price",value:f,onChange:M=>h(M.target.value),style:{padding:"10px 12px",fontSize:13,border:"1px solid #d1d5db",borderRadius:6,fontFamily:"inherit",width:120}}),d.jsx("input",{type:"number",placeholder:"Max Price",value:m,onChange:M=>E(M.target.value),style:{padding:"10px 12px",fontSize:13,border:"1px solid #d1d5db",borderRadius:6,fontFamily:"inherit",width:120}}),d.jsxs("select",{value:S,onChange:M=>C(M.target.value),style:{padding:"10px 12px",fontSize:13,border:"1px solid #d1d5db",borderRadius:6,fontFamily:"inherit",cursor:"pointer"},children:[d.jsx("option",{value:"latest",children:"Latest Posted"}),d.jsx("option",{value:"oldest",children:"Oldest Posted"}),d.jsx("option",{value:"price-high",children:"Price: High to Low"}),d.jsx("option",{value:"price-low",children:"Price: Low to High"})]}),(l||f||m)&&d.jsx("button",{onClick:()=>{u(""),h(""),E("")},style:{padding:"10px 14px",fontSize:13,background:"#e5e7eb",border:"none",borderRadius:6,cursor:"pointer",fontWeight:500},children:"Clear Filters"})]}),t&&d.jsx("p",{style:{color:"#6b7280",marginTop:16},children:"Loading"}),s&&d.jsx("p",{style:{color:"#b91c1c",marginTop:16},children:s}),!t&&!s&&D.length>0&&d.jsxs("p",{style:{marginTop:16,color:"#6b7280",fontSize:13},children:["Showing ",D.length," item",D.length!==1?"s":""]}),d.jsx("div",{style:{marginTop:16,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(380px, 1fr))",gap:20},children:D.map(M=>d.jsx(Fz,{listing:M,onPurchaseSuccess:R},M.listingId))}),!t&&!s&&r.length===0&&d.jsx("p",{style:{marginTop:12,color:"#6b7280"},children:"No available listings right now."}),!t&&!s&&r.length>0&&D.length===0&&d.jsx("p",{style:{marginTop:12,color:"#6b7280"},children:"No items match your filters. Try adjusting your search."})]})};function Nz({listing:r,isBusy:e,onDelete:t,onUpdateAvailability:n,onEdit:s}){const a=U.useMemo(()=>r.price&&r.currency?`${r.price} ${r.currency}`:"",[r.price,r.currency]),l=U.useMemo(()=>({available:{bg:"#dcfce7",text:"#166534"},reserved:{bg:"#fef3c7",text:"#92400e"},sold:{bg:"#e5e7eb",text:"#374151"}})[r.status],[r.status]);return d.jsxs("div",{style:{background:"white",border:"1px solid #e5e7eb",borderRadius:16,padding:16,opacity:e?.75:1},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:10},children:[d.jsxs("div",{children:[d.jsx("h3",{style:{margin:0,fontSize:15},children:r.model??"Unknown Product"}),d.jsxs("p",{style:{margin:"6px 0 0 0",fontSize:12,color:"#6b7280"},children:["Serial: ",d.jsx("strong",{children:r.serial_no})]})]}),d.jsx("span",{style:{fontSize:11,padding:"4px 10px",borderRadius:999,background:l.bg,color:l.text,height:"fit-content",whiteSpace:"nowrap",fontWeight:700},children:r.status})]}),d.jsxs("div",{style:{marginTop:12},children:[d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280"},children:"Price"}),d.jsx("p",{style:{margin:"2px 0 0 0",fontWeight:700},children:a}),d.jsxs("p",{style:{margin:"10px 0 0 0",fontSize:12,color:"#6b7280"},children:["Listed on: ",new Date(r.created_on).toLocaleString()]})]}),d.jsxs("div",{style:{marginTop:14},children:[d.jsx("p",{style:{margin:"0 0 6px 0",fontSize:12,color:"#6b7280"},children:"Availability"}),d.jsxs("select",{value:r.status,disabled:e,onChange:u=>n(r.listing_id,u.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:10,border:"1px solid #d1d5db",fontSize:13,background:e?"#f3f4f6":"white",cursor:e?"not-allowed":"pointer"},children:[d.jsx("option",{value:"available",children:"available"}),d.jsx("option",{value:"reserved",children:"reserved"}),d.jsx("option",{value:"sold",children:"sold"})]}),e&&d.jsx("p",{style:{margin:"8px 0 0 0",fontSize:12,color:"#6b7280"},children:"Saving"})]}),d.jsxs("div",{style:{marginTop:14,display:"flex",gap:10,justifyContent:"flex-end"},children:[d.jsx("button",{disabled:e,onClick:()=>s(r.listing_id),style:{background:e?"#93c5fd":"#0066cc",color:"white",border:"none",borderRadius:10,padding:"9px 12px",cursor:e?"not-allowed":"pointer",fontSize:13,fontWeight:700},children:"Edit"}),d.jsx("button",{disabled:e,onClick:()=>t(r.listing_id),style:{background:e?"#fca5a5":"#ef4444",color:"white",border:"none",borderRadius:10,padding:"9px 12px",cursor:e?"not-allowed":"pointer",fontSize:13,fontWeight:700},children:"Delete"})]})]})}function Iz({listing:r,isOpen:e,onClose:t,onSave:n}){const[s,a]=U.useState(r.price||""),[l,u]=U.useState(r.currency||"USD"),[f,h]=U.useState(r.notes||""),[m,E]=U.useState(!1),[S,C]=U.useState(null);if(!e)return null;const v=async()=>{const R=parseFloat(s);if(!s||isNaN(R)||R<=0){C("Please enter a valid price greater than 0");return}if(!l.trim()){C("Please select a currency");return}C(null),E(!0);try{await n(r.listing_id,s,l,f),t()}catch(D){C(D?.response?.data?.error||"Failed to update listing")}finally{E(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:t,children:d.jsxs("div",{style:{background:"white",borderRadius:16,padding:24,maxWidth:500,width:"100%",margin:16},onClick:R=>R.stopPropagation(),children:[d.jsx("h2",{style:{margin:0,fontSize:20,marginBottom:8},children:"Edit Listing"}),d.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",marginBottom:20},children:"Update the price and currency for this listing. Changes will be reflected in the marketplace."}),d.jsxs("div",{style:{marginBottom:16},children:[d.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,marginBottom:6,color:"#374151"},children:"Product"}),d.jsxs("div",{style:{padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",background:"#f9fafb",fontSize:13,color:"#6b7280"},children:[r.model||"Unknown Product"," (SN: ",r.serial_no,")"]})]}),d.jsxs("div",{style:{marginBottom:16},children:[d.jsx("label",{htmlFor:"edit-price",style:{display:"block",fontSize:13,fontWeight:600,marginBottom:6,color:"#374151"},children:"Price *"}),d.jsx("input",{id:"edit-price",type:"number",step:"0.01",min:"0",value:s,onChange:R=>a(R.target.value),disabled:m,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #d1d5db",fontSize:14,boxSizing:"border-box"},placeholder:"Enter price"})]}),d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{htmlFor:"edit-currency",style:{display:"block",fontSize:13,fontWeight:600,marginBottom:6,color:"#374151"},children:"Currency *"}),d.jsxs("select",{id:"edit-currency",value:l,onChange:R=>u(R.target.value),disabled:m,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #d1d5db",fontSize:14,boxSizing:"border-box"},children:[d.jsx("option",{value:"USD",children:"USD"}),d.jsx("option",{value:"EUR",children:"EUR"}),d.jsx("option",{value:"GBP",children:"GBP"}),d.jsx("option",{value:"JPY",children:"JPY"}),d.jsx("option",{value:"SGD",children:"SGD"}),d.jsx("option",{value:"MYR",children:"MYR"})]})]}),d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{htmlFor:"edit-notes",style:{display:"block",fontSize:13,fontWeight:600,marginBottom:6,color:"#374151"},children:"Notes / Description"}),d.jsx("textarea",{id:"edit-notes",value:f,onChange:R=>h(R.target.value),disabled:m,rows:4,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #d1d5db",fontSize:14,boxSizing:"border-box",fontFamily:"inherit",resize:"vertical"},placeholder:"Add any additional details about this listing..."}),d.jsx("p",{style:{margin:"4px 0 0 0",fontSize:12,color:"#6b7280"},children:"Optional notes visible to buyers in the marketplace"})]}),S&&d.jsx("p",{style:{margin:"0 0 16px 0",fontSize:13,color:"#b91c1c"},children:S}),d.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[d.jsx("button",{onClick:t,disabled:m,style:{padding:"10px 20px",borderRadius:8,border:"1px solid #d1d5db",background:"white",cursor:m?"not-allowed":"pointer",fontSize:14,fontWeight:600,color:"#374151"},children:"Cancel"}),d.jsx("button",{onClick:v,disabled:m,style:{padding:"10px 20px",borderRadius:8,border:"none",background:m?"#93c5fd":"#0066cc",color:"white",cursor:m?"not-allowed":"pointer",fontSize:14,fontWeight:600},children:m?"Saving...":"Save Changes"})]})]})})}const rx="http://34.177.85.28:3000/api/products";function Mz(){const r=tn(),e=U.useMemo(()=>{const M=localStorage.getItem("userId");return M?Number(M):NaN},[]),[t,n]=U.useState([]),[s,a]=U.useState(!1),[l,u]=U.useState(null),[f,h]=U.useState(null),[m,E]=U.useState({}),S=(M,N)=>{E(F=>({...F,[M]:N}))};U.useEffect(()=>{(async()=>{if(a(!0),u(null),!Number.isFinite(e)){a(!1),u("No userId found. Please login again.");return}try{const N=await De.get(`${rx}/my-listings`,{params:{userId:e}});if(!N.data.success||!N.data.data){n([]);return}n(N.data.data)}catch(N){N?.response?.status===404?n([]):u("Unable to load your listings (endpoint may not exist yet).")}finally{a(!1)}})()},[e]);const C=async M=>{if(!Number.isFinite(e)){alert("No userId found. Please login again.");return}if(confirm("Delete this listing? Buyers will no longer see it in the marketplace."))try{S(M,!0),await De.delete(`${rx}/listings/${M}`,{params:{userId:e}}),n(F=>F.filter(P=>P.listing_id!==M)),alert("Listing deleted successfully.")}catch(F){const P=F?.response?.data?.error||F?.response?.data?.details||"Failed to delete listing.";alert(P)}finally{S(M,!1)}},v=async(M,N)=>{if(!Number.isFinite(e)){alert("No userId found. Please login again.");return}const F=t;n(P=>P.map(K=>K.listing_id===M?{...K,status:N}:K));try{S(M,!0),await De.patch(`${rx}/listings/${M}/availability`,{userId:e,status:N})}catch(P){n(F);const K=P?.response?.data?.error||P?.response?.data?.details||"Failed to update availability.";alert(K)}finally{S(M,!1)}},R=M=>{const N=t.find(F=>F.listing_id===M);N&&h(N)},D=async(M,N,F,P)=>{if(!Number.isFinite(e))throw new Error("No userId found. Please login again.");try{(await De.put(`${rx}/listings/${M}`,{userId:e,price:parseFloat(N),currency:F,notes:P})).data.success&&(n(V=>V.map(H=>H.listing_id===M?{...H,price:N,currency:F,notes:P}:H)),alert("Listing updated successfully. Changes are now visible in the marketplace."))}catch(K){throw K}};return d.jsxs("div",{style:{padding:24},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[d.jsxs("div",{children:[d.jsx("h1",{style:{margin:0,fontSize:24},children:"My Listings"}),d.jsx("p",{style:{marginTop:6,color:"#6b7280",fontSize:13},children:"Manage listings that you created."})]}),d.jsx("button",{onClick:()=>r("/consumer/create-listing"),style:{background:"#0066cc",color:"white",border:"none",padding:"10px 20px",borderRadius:8,cursor:"pointer",fontSize:15,fontWeight:600},children:"+ Create Listing"})]}),s&&d.jsx("p",{style:{color:"#6b7280"},children:"Loading"}),l&&d.jsx("p",{style:{color:"#b91c1c"},children:l}),!s&&!l&&t.length===0&&d.jsxs("div",{style:{marginTop:16,background:"white",border:"1px solid #e5e7eb",borderRadius:16,padding:20},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:6},children:"No listings yet"}),d.jsx("p",{style:{margin:0,color:"#6b7280",fontSize:13},children:"You currently have no active listings to manage. Once you list a product, it will appear here with controls to update availability or delete the listing."})]}),t.length>0&&d.jsx("div",{style:{marginTop:16,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:16},children:t.map(M=>d.jsx(Nz,{listing:M,isBusy:!!m[M.listing_id],onDelete:C,onUpdateAvailability:v,onEdit:R},M.listing_id))}),f&&d.jsx(Iz,{listing:f,isOpen:!!f,onClose:()=>h(null),onSave:D})]})}const Ww="http://34.177.85.28:3000/api/products";function Oz(){const r=tn(),{listingId:e}=rf(),t=U.useMemo(()=>{const P=localStorage.getItem("userId"),K=P?Number(P):NaN;return Number.isFinite(K)?K:null},[]),[n,s]=U.useState(null),[a,l]=U.useState(""),[u,f]=U.useState("SGD"),[h,m]=U.useState("available"),[E,S]=U.useState(!1),[C,v]=U.useState(!1),[R,D]=U.useState(null),[M,N]=U.useState(null);U.useEffect(()=>{if(!e)return;if(!t){D("userId not found in localStorage. Please login again.");return}(async()=>{S(!0),D(null);try{const K=await De.get(`${Ww}/listings/${e}/edit`,{params:{userId:t}});if(!K.data.success||!K.data.data){D(K.data.error||K.data.details||"Failed to load listing.");return}const V=K.data.data;s(V),l(V.price??""),f(V.currency??"SGD"),m(V.status??"available")}catch{D("Unable to load listing. Are you the seller of this listing?")}finally{S(!1)}})()},[e,t]);const F=async P=>{if(P.preventDefault(),!!e){if(!t){D("userId missing. Please login again.");return}v(!0),D(null),N(null);try{const K=await De.put(`${Ww}/listings/${e}`,{userId:t,price:a===""?null:Number(a),currency:u,status:h});if(!K.data.success){D(K.data.error||K.data.details||"Update failed.");return}N("Listing updated successfully!"),setTimeout(()=>r("/my-listings"),700)}catch(K){D(K?.response?.data?.error||K?.response?.data?.details||"Unable to update listing.")}finally{v(!1)}}};return d.jsxs("div",{style:{padding:24,maxWidth:720},children:[d.jsx("h1",{style:{margin:0,fontSize:24},children:"Edit Listing"}),d.jsx("p",{style:{marginTop:6,color:"#6b7280",fontSize:13},children:"Update the listing information for a product you own."}),E&&d.jsx("p",{style:{color:"#6b7280"},children:"Loading"}),R&&d.jsx("p",{style:{color:"#b91c1c"},children:R}),n&&d.jsxs("form",{onSubmit:F,style:{marginTop:16,background:"white",border:"1px solid #e5e7eb",borderRadius:16,padding:20,display:"flex",flexDirection:"column",gap:14},children:[d.jsxs("div",{children:[d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280"},children:"Product"}),d.jsxs("p",{style:{margin:"4px 0 0 0",fontWeight:700},children:[n.productName??"Unknown Product","  ",n.serialNumber]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[d.jsxs("div",{children:[d.jsx("label",{style:{fontSize:12,color:"#6b7280"},children:"Price"}),d.jsx("input",{value:a,onChange:P=>l(P.target.value),placeholder:"e.g. 199.90",style:{width:"100%",marginTop:6,padding:"10px 12px",borderRadius:10,border:"1px solid #d1d5db"}})]}),d.jsxs("div",{children:[d.jsx("label",{style:{fontSize:12,color:"#6b7280"},children:"Currency"}),d.jsx("input",{value:u,onChange:P=>f(P.target.value),placeholder:"e.g. SGD",style:{width:"100%",marginTop:6,padding:"10px 12px",borderRadius:10,border:"1px solid #d1d5db"}})]})]}),d.jsxs("div",{children:[d.jsx("label",{style:{fontSize:12,color:"#6b7280"},children:"Availability"}),d.jsxs("select",{value:h,onChange:P=>m(P.target.value),style:{width:"100%",marginTop:6,padding:"10px 12px",borderRadius:10,border:"1px solid #d1d5db",background:"white"},children:[d.jsx("option",{value:"available",children:"available"}),d.jsx("option",{value:"reserved",children:"reserved"}),d.jsx("option",{value:"sold",children:"sold"})]})]}),M&&d.jsx("p",{style:{margin:0,color:"#15803d",fontSize:13},children:M}),d.jsxs("div",{style:{display:"flex",gap:10},children:[d.jsx("button",{type:"button",onClick:()=>r("/my-listings"),style:{flex:1,background:"white",border:"1px solid #e5e7eb",borderRadius:10,padding:"10px 12px",cursor:"pointer",fontWeight:600},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:C,style:{flex:1,background:"#111827",color:"white",border:"none",borderRadius:10,padding:"10px 12px",cursor:"pointer",fontWeight:600,opacity:C?.7:1},children:C?"Saving":"Save Changes"})]})]})]})}const qw="http://34.177.85.28:3000/api/products";function jz(){const r=tn(),e=U.useMemo(()=>{const V=localStorage.getItem("userId");return V?Number(V):NaN},[]),[t,n]=U.useState([]),[s,a]=U.useState(!1),[l,u]=U.useState(null),[f,h]=U.useState(null),[m,E]=U.useState(""),[S,C]=U.useState("SGD"),[v,R]=U.useState(""),[D,M]=U.useState(!1),[N,F]=U.useState(null);U.useEffect(()=>{(async()=>{if(!Number.isFinite(e)){u("No userId found. Please login again.");return}a(!0),u(null);try{const H=await De.get(`${qw}/owned`,{params:{userId:e}});if(!H.data.success||!H.data.data){u(H.data.error||"Failed to load your products"),n([]);return}n(H.data.data)}catch(H){console.error(H),u("Unable to load your products"),n([])}finally{a(!1)}})()},[e]);const P=async V=>{if(V.preventDefault(),F(null),!f){F("Please select a product");return}const H=Number(m);if(Number.isNaN(H)||H<=0){F("Price must be greater than 0");return}M(!0);try{const J=await De.post(`${qw}/listings`,{userId:e,productId:f,price:H,currency:S,status:"available",notes:v.trim()||null});if(!J.data.success){F(J.data.error||J.data.details||"Failed to create listing");return}r("/consumer/my-listings")}catch(J){console.error(J),F(J?.response?.data?.error||J?.response?.data?.details||"Unable to create listing")}finally{M(!1)}},K=t.filter(V=>V.canCreateListing);return d.jsxs("div",{children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:30},children:[d.jsx("h1",{style:{margin:0,fontSize:24},children:"Create Listing"}),d.jsx("button",{onClick:()=>r("/consumer/my-listings"),style:{background:"none",border:"1px solid #ccc",padding:"8px 16px",borderRadius:8,cursor:"pointer",fontSize:14},children:" Back to My Listings"})]}),l&&d.jsx("div",{style:{background:"#fee",color:"#c00",padding:16,borderRadius:8,marginBottom:20},children:l}),s&&d.jsx("p",{children:"Loading your products..."}),!s&&!l&&d.jsx(d.Fragment,{children:K.length===0?d.jsxs("div",{style:{background:"#fff",padding:30,borderRadius:12,textAlign:"center",color:"#666"},children:[d.jsx("p",{style:{margin:0,fontSize:16},children:"You don't have any products available to list."}),d.jsx("p",{style:{margin:"8px 0 0 0",fontSize:14},children:"Products that already have active listings cannot be listed again."})]}):d.jsx("div",{style:{background:"#fff",padding:30,borderRadius:12},children:d.jsxs("form",{onSubmit:P,children:[d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Select Product *"}),d.jsxs("select",{value:f||"",onChange:V=>h(Number(V.target.value)),required:!0,style:{width:"100%",padding:12,fontSize:15,border:"1px solid #ddd",borderRadius:8},children:[d.jsx("option",{value:"",children:"-- Choose a product --"}),K.map(V=>d.jsxs("option",{value:V.productId,children:[V.model||V.serialNo," (",V.serialNo,") - ",V.status]},V.productId))]})]}),d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Price *"}),d.jsx("input",{type:"number",step:"0.01",min:"0.01",value:m,onChange:V=>E(V.target.value),required:!0,placeholder:"e.g. 150.00",style:{width:"100%",padding:12,fontSize:15,border:"1px solid #ddd",borderRadius:8}})]}),d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Currency *"}),d.jsxs("select",{value:S,onChange:V=>C(V.target.value),required:!0,style:{width:"100%",padding:12,fontSize:15,border:"1px solid #ddd",borderRadius:8},children:[d.jsx("option",{value:"SGD",children:"SGD"}),d.jsx("option",{value:"USD",children:"USD"}),d.jsx("option",{value:"EUR",children:"EUR"})]})]}),d.jsxs("div",{style:{marginBottom:20},children:[d.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Notes (optional)"}),d.jsx("textarea",{value:v,onChange:V=>R(V.target.value),placeholder:"e.g. Item is in good condition, slight scratches on back",maxLength:500,style:{width:"100%",padding:12,fontSize:15,border:"1px solid #ddd",borderRadius:8,fontFamily:"inherit",resize:"vertical",minHeight:100}}),d.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:12,color:"#999"},children:[v.length,"/500 characters"]})]}),N&&d.jsx("div",{style:{background:"#fee",color:"#c00",padding:12,borderRadius:8,marginBottom:20,fontSize:14},children:N}),d.jsx("button",{type:"submit",disabled:D,style:{background:D?"#ccc":"#0066cc",color:"white",border:"none",padding:"12px 24px",borderRadius:8,fontSize:16,fontWeight:600,cursor:D?"not-allowed":"pointer"},children:D?"Creating...":"Create Listing"})]})})})]})}function Lz(){const r=tn(),e=Number(localStorage.getItem("userId")),t=oi(),n=!!t.connected&&!!t.publicKey,[s,a]=U.useState([]),[l,u]=U.useState(!0),[f,h]=U.useState(null),[m,E]=U.useState("all"),[S,C]=U.useState(new Set),[v,R]=U.useState(!1),D="http://34.177.85.28:3000/api/distributors/products-by-user",[M,N]=U.useState(null);U.useEffect(()=>{const _=z=>{const k=z.target;k&&(k.closest?.("[data-actions-menu-root='true']")||N(null))},O=z=>{z.key==="Escape"&&N(null)},G=()=>N(null);return document.addEventListener("mousedown",_),document.addEventListener("keydown",O),window.addEventListener("scroll",G,!0),window.addEventListener("resize",G),()=>{document.removeEventListener("mousedown",_),document.removeEventListener("keydown",O),window.removeEventListener("scroll",G,!0),window.removeEventListener("resize",G)}},[]);const F=_=>{const O=(_.blockchainStatus||"").toLowerCase();return O.includes("confirmed")||O.includes("on blockchain")||O.includes("on-chain")||O.includes("onchain")},P=_=>F(_)&&_.relationship==="owner",K=_=>{if(!_)return"";const O=new Date(_);return Number.isNaN(O.getTime())?"":O.toLocaleDateString()},V=U.useMemo(()=>m==="owned"?s.filter(_=>_.relationship==="owner"):s,[s,m]);U.useEffect(()=>{C(_=>{if(_.size===0)return _;const O=new Set(V.map(z=>z.productId)),G=new Set;for(const z of _)O.has(z)&&G.add(z);return G})},[m,V.length]);const H=U.useMemo(()=>V.filter(_=>S.has(_.productId)),[V,S]),J=U.useMemo(()=>H.filter(P),[H]),q=J.length>0,Z=U.useMemo(()=>{const _=V.filter(P);return _.length===0?!1:_.every(O=>S.has(O.productId))},[V,S]),Q=_=>{const O=V.find(G=>G.productId===_);O&&!P(O)||C(G=>{const z=new Set(G);return z.has(_)?z.delete(_):z.add(_),z})},$=()=>{C(_=>{const O=V.filter(P).map(z=>z.productId);return O.length>0&&O.every(z=>_.has(z))?new Set:new Set(O)})},T=()=>C(new Set),p=async()=>{try{if(!e||Number.isNaN(e)){h("Distributor ID missing. Please login again.");return}const _=await De.post(D,{user_id:e});if(!_.data.success||!_.data.data){h(_.data.error||"Failed to load products.");return}const G=(_.data.data.products||[]).map(z=>{const k=!!(z.tx_hash&&z.product_pda),A=z.relationship??null,g=A==="owner"?"active":"transferred";return{productId:z.product_id,serialNumber:z.serial_no,productName:z.model??null,category:z.category??null,lifecycleStatus:g,blockchainStatus:k?"confirmed":"pending",registeredOn:z.owned_since||"",price:null,currency:null,listingStatus:null,listingCreatedOn:null,relationship:A,stage:z.stage??null}});a(G),h(null)}catch(_){h(_?.response?.data?.error||_?.response?.data?.details||"Error fetching products.")}finally{u(!1)}};U.useEffect(()=>{p()},[]);const b=()=>{n&&q&&R(!0)};return l?d.jsx("p",{style:{padding:20},children:"Loading products..."}):d.jsxs("div",{style:{padding:"40px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,gap:16,flexWrap:"wrap"},children:[d.jsx("h1",{style:{margin:0},children:"My Products"}),d.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[d.jsx(Kw,{active:m==="all",onClick:()=>E("all"),label:"All",subtitle:`${s.length}`}),d.jsx(Kw,{active:m==="owned",onClick:()=>E("owned"),label:"Owned",subtitle:`${s.filter(_=>_.relationship==="owner").length}`})]})]}),d.jsx("h2",{style:{margin:1,fontWeight:300,color:"#6b7280"},children:"Select products to transfer ownership"}),d.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:12,gap:10,alignItems:"center"},children:[d.jsx(Gi,{}),d.jsx("button",{type:"button",onClick:b,disabled:!n||!q,style:{padding:"10px 14px",borderRadius:10,border:"none",background:!n||!q?"#9ca3af":"#111827",color:"white",cursor:!n||!q?"not-allowed":"pointer",fontWeight:700,opacity:!n||!q?.7:1},title:n?q?"Transfer selected products":"Select at least one transferable product":"Connect your wallet to transfer ownership",children:"Transfer Ownership"})]}),!n&&d.jsx("div",{style:{marginBottom:12,fontSize:12,color:"#b45309",background:"#fffbeb",border:"1px solid #fde68a",padding:"8px 10px",borderRadius:10,display:"inline-block"},children:"Please connect your wallet before transferring ownership."}),f&&d.jsx("div",{style:{background:"#ffe0e0",padding:"10px",borderRadius:"8px",marginBottom:"16px",color:"#a11"},children:f}),d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"white",borderRadius:"10px",overflow:"visible"},children:[d.jsx("thead",{style:{background:"#e9ecef"},children:d.jsxs("tr",{children:[d.jsx("th",{style:{...na,width:46},children:d.jsx("input",{type:"checkbox",checked:Z,onChange:$,"aria-label":"Select all transferable products",title:"Select all transferable products"})}),d.jsx("th",{style:na,children:"Product ID"}),d.jsx("th",{style:na,children:"Product Name"}),d.jsx("th",{style:na,children:"Category"}),d.jsx("th",{style:na,children:"Owned Since"}),d.jsx("th",{style:na,children:"Status"}),d.jsx("th",{style:na,children:"Actions"})]})}),d.jsx("tbody",{children:V.map(_=>{const O=!F(_),G=P(_),z=k=>{k(),N(null)};return d.jsxs("tr",{children:[d.jsx("td",{style:ra,children:d.jsx("input",{type:"checkbox",checked:S.has(_.productId),onChange:()=>Q(_.productId),disabled:!G,"aria-label":`Select product ${_.productId}`,title:O?_.relationship!=="owner"?"Cannot transfer: you are not the current owner":"Transfer eligible":"Cannot transfer: product not on-chain yet"})}),d.jsx("td",{style:ra,children:_.productId}),d.jsx("td",{style:ra,children:_.productName||""}),d.jsx("td",{style:ra,children:_.category||""}),d.jsx("td",{style:ra,children:K(_.registeredOn)}),d.jsxs("td",{style:ra,children:[d.jsx("span",{style:{marginLeft:10,padding:"4px 10px",borderRadius:"999px",fontSize:12,background:_.lifecycleStatus==="active"?"#dcfce7":"#fee2e2",color:_.lifecycleStatus==="active"?"#166534":"#991b1b"},title:_.lifecycleStatus==="active"?"You currently own this product":"You have transferred this product",children:_.lifecycleStatus==="active"?"owned":"transferred"}),_.stage&&d.jsx("span",{style:{marginLeft:10,padding:"4px 10px",borderRadius:"999px",fontSize:12,background:"#f3f4f6",color:"#111827"},title:"DB Stage",children:_.stage})]}),d.jsx("td",{style:ra,children:d.jsxs("div",{"data-actions-menu-root":"true",style:{position:"relative",display:"inline-block"},children:[d.jsx("button",{type:"button",onClick:()=>N(k=>k===_.productId?null:_.productId),style:Pz,"aria-label":"Open actions",title:"Actions",children:""}),M===_.productId&&d.jsx("div",{style:zz,role:"menu","aria-label":"Row actions",children:d.jsx("button",{type:"button",style:Uz,onClick:()=>z(()=>r(`/products/${_.productId}/details`)),role:"menuitem",children:"View details"})})]})})]},_.productId)})})]}),V.length===0&&d.jsx("p",{style:{marginTop:20,opacity:.6},children:"No products found for this filter."}),d.jsx(Lf,{open:v,onClose:()=>R(!1),fromUserId:e,selectedProductIds:J.map(_=>_.productId),title:"Ownership Transfer",onTransferred:async _=>{_.some(G=>!G.ok)||(await p(),T(),R(!1))}})]})}function Kw({active:r,onClick:e,label:t,subtitle:n}){return d.jsxs("button",{type:"button",onClick:e,style:{border:r?"1px solid #111827":"1px solid #e5e7eb",background:r?"#111827":"white",color:r?"white":"#111827",borderRadius:999,padding:"8px 12px",cursor:"pointer",display:"flex",gap:8,alignItems:"center",fontWeight:700,fontSize:13},title:t,children:[t,n!==void 0&&d.jsx("span",{style:{background:r?"rgba(255,255,255,0.18)":"#f3f4f6",color:r?"white":"#111827",borderRadius:999,padding:"2px 8px",fontSize:12,fontWeight:800},children:n})]})}const na={padding:"14px",textAlign:"left",fontWeight:600,fontSize:"14px",borderBottom:"1px solid #ddd"},ra={padding:"12px",borderBottom:"1px solid #eee",fontSize:"14px"},Pz={border:"1px solid #e5e7eb",background:"white",cursor:"pointer",borderRadius:10,padding:"6px 10px",fontSize:18,lineHeight:1},zz={position:"absolute",top:"calc(100% + 6px)",right:0,minWidth:200,background:"white",border:"1px solid #e5e7eb",borderRadius:12,boxShadow:"0 10px 20px rgba(0,0,0,0.08)",padding:6,zIndex:9999},Uz={width:"100%",textAlign:"left",border:"none",background:"transparent",padding:"10px 10px",borderRadius:10,cursor:"pointer",fontSize:13,fontWeight:600,color:"#111827"};function Hz(){const r=tn(),e=Number(localStorage.getItem("userId")),t=oi(),n=!!t.connected&&!!t.publicKey,[s,a]=U.useState([]),[l,u]=U.useState(!0),[f,h]=U.useState(null),[m,E]=U.useState("all"),[S,C]=U.useState(new Set),[v,R]=U.useState(!1),D="http://34.177.85.28:3000/api/distributors/products-by-user",[M,N]=U.useState(null);U.useEffect(()=>{const _=z=>{const k=z.target;k&&(k.closest?.("[data-actions-menu-root='true']")||N(null))},O=z=>{z.key==="Escape"&&N(null)},G=()=>N(null);return document.addEventListener("mousedown",_),document.addEventListener("keydown",O),window.addEventListener("scroll",G,!0),window.addEventListener("resize",G),()=>{document.removeEventListener("mousedown",_),document.removeEventListener("keydown",O),window.removeEventListener("scroll",G,!0),window.removeEventListener("resize",G)}},[]);const F=_=>{const O=(_.blockchainStatus||"").toLowerCase();return O.includes("confirmed")||O.includes("on blockchain")||O.includes("on-chain")||O.includes("onchain")},P=_=>F(_)&&_.relationship==="owner",K=_=>{if(!_)return"";const O=new Date(_);return Number.isNaN(O.getTime())?"":O.toLocaleDateString()},V=U.useMemo(()=>m==="owned"?s.filter(_=>_.relationship==="owner"):s,[s,m]);U.useEffect(()=>{C(_=>{if(_.size===0)return _;const O=new Set(V.map(z=>z.productId)),G=new Set;for(const z of _)O.has(z)&&G.add(z);return G})},[m,V.length]);const H=U.useMemo(()=>V.filter(_=>S.has(_.productId)),[V,S]),J=U.useMemo(()=>H.filter(P),[H]),q=J.length>0,Z=U.useMemo(()=>{const _=V.filter(P);return _.length===0?!1:_.every(O=>S.has(O.productId))},[V,S]),Q=_=>{const O=V.find(G=>G.productId===_);O&&!P(O)||C(G=>{const z=new Set(G);return z.has(_)?z.delete(_):z.add(_),z})},$=()=>{C(_=>{const O=V.filter(P).map(z=>z.productId);return O.length>0&&O.every(z=>_.has(z))?new Set:new Set(O)})},T=()=>C(new Set),p=async()=>{try{if(!e||Number.isNaN(e)){h("Retailer ID missing. Please login again.");return}const _=await De.post(D,{user_id:e});if(!_.data.success||!_.data.data){h(_.data.error||"Failed to load products.");return}const G=(_.data.data.products||[]).map(z=>{const k=!!(z.tx_hash&&z.product_pda),A=z.relationship??null,g=A==="owner"?"active":"transferred";return{productId:z.product_id,serialNumber:z.serial_no,productName:z.model??null,category:z.category??null,lifecycleStatus:g,blockchainStatus:k?"confirmed":"pending",registeredOn:z.owned_since||"",price:null,currency:null,listingStatus:null,listingCreatedOn:null,relationship:A,stage:z.stage??null}});a(G),h(null)}catch(_){h(_?.response?.data?.error||_?.response?.data?.details||"Error fetching products.")}finally{u(!1)}};U.useEffect(()=>{p()},[]);const b=()=>{n&&q&&R(!0)};return l?d.jsx("p",{style:{padding:20},children:"Loading products..."}):d.jsxs("div",{style:{padding:"40px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,gap:16,flexWrap:"wrap"},children:[d.jsx("h1",{style:{margin:0},children:"My Products"}),d.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[d.jsx(Vw,{active:m==="all",onClick:()=>E("all"),label:"All",subtitle:`${s.length}`}),d.jsx(Vw,{active:m==="owned",onClick:()=>E("owned"),label:"Owned",subtitle:`${s.filter(_=>_.relationship==="owner").length}`})]})]}),d.jsx("h2",{style:{margin:1,fontWeight:300,color:"#6b7280"},children:"Select products to transfer ownership"}),d.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:12,gap:10,alignItems:"center"},children:[d.jsx(Gi,{}),d.jsx("button",{type:"button",onClick:b,disabled:!n||!q,style:{padding:"10px 14px",borderRadius:10,border:"none",background:!n||!q?"#9ca3af":"#111827",color:"white",cursor:!n||!q?"not-allowed":"pointer",fontWeight:700,opacity:!n||!q?.7:1},title:n?q?"Transfer selected products":"Select at least one transferable product":"Connect your wallet to transfer ownership",children:"Transfer Ownership"})]}),!n&&d.jsx("div",{style:{marginBottom:12,fontSize:12,color:"#b45309",background:"#fffbeb",border:"1px solid #fde68a",padding:"8px 10px",borderRadius:10,display:"inline-block"},children:"Please connect your wallet before transferring ownership."}),f&&d.jsx("div",{style:{background:"#ffe0e0",padding:"10px",borderRadius:"8px",marginBottom:"16px",color:"#a11"},children:f}),d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"white",borderRadius:"10px",overflow:"visible"},children:[d.jsx("thead",{style:{background:"#e9ecef"},children:d.jsxs("tr",{children:[d.jsx("th",{style:{...ia,width:46},children:d.jsx("input",{type:"checkbox",checked:Z,onChange:$,"aria-label":"Select all transferable products",title:"Select all transferable products"})}),d.jsx("th",{style:ia,children:"Product ID"}),d.jsx("th",{style:ia,children:"Product Name"}),d.jsx("th",{style:ia,children:"Category"}),d.jsx("th",{style:ia,children:"Owned Since"}),d.jsx("th",{style:ia,children:"Status"}),d.jsx("th",{style:ia,children:"Actions"})]})}),d.jsx("tbody",{children:V.map(_=>{const O=F(_),G=P(_),z=k=>{k(),N(null)};return d.jsxs("tr",{children:[d.jsx("td",{style:oa,children:d.jsx("input",{type:"checkbox",checked:S.has(_.productId),onChange:()=>Q(_.productId),disabled:!G,"aria-label":`Select product ${_.productId}`,title:O?_.lifecycleStatus==="transferred"?"Cannot transfer: you are no longer the current owner":"Transfer eligible":"Cannot transfer: product not confirmed on-chain"})}),d.jsx("td",{style:oa,children:_.productId}),d.jsx("td",{style:oa,children:_.productName||""}),d.jsx("td",{style:oa,children:_.category||""}),d.jsx("td",{style:oa,children:K(_.registeredOn)}),d.jsxs("td",{style:oa,children:[d.jsx("span",{style:{marginLeft:10,padding:"4px 10px",borderRadius:"999px",fontSize:12,background:_.lifecycleStatus==="active"?"#dcfce7":"#fee2e2",color:_.lifecycleStatus==="active"?"#166534":"#991b1b"},title:_.lifecycleStatus==="active"?"You currently own this product":"You have transferred this product",children:_.lifecycleStatus==="active"?"owned":"transferred"}),_.stage&&d.jsx("span",{style:{marginLeft:10,padding:"4px 10px",borderRadius:"999px",fontSize:12,background:"#f3f4f6",color:"#111827"},title:"DB Stage",children:_.stage})]}),d.jsx("td",{style:oa,children:d.jsxs("div",{"data-actions-menu-root":"true",style:{position:"relative",display:"inline-block"},children:[d.jsx("button",{type:"button",onClick:()=>N(k=>k===_.productId?null:_.productId),style:Wz,"aria-label":"Open actions",title:"Actions",children:""}),M===_.productId&&d.jsx("div",{style:qz,role:"menu","aria-label":"Row actions",children:d.jsx("button",{type:"button",style:Kz,onClick:()=>z(()=>r(`/products/${_.productId}/details`)),role:"menuitem",children:"View details"})})]})})]},_.productId)})})]}),V.length===0&&d.jsx("p",{style:{marginTop:20,opacity:.6},children:"No products found for this filter."}),d.jsx(Lf,{open:v,onClose:()=>R(!1),fromUserId:e,selectedProductIds:J.map(_=>_.productId),title:"Ownership Transfer",onTransferred:async _=>{_.some(G=>!G.ok)||(await p(),T(),R(!1))}})]})}function Vw({active:r,onClick:e,label:t,subtitle:n}){return d.jsxs("button",{type:"button",onClick:e,style:{border:r?"1px solid #111827":"1px solid #e5e7eb",background:r?"#111827":"white",color:r?"white":"#111827",borderRadius:999,padding:"8px 12px",cursor:"pointer",display:"flex",gap:8,alignItems:"center",fontWeight:700,fontSize:13},title:t,children:[t,n!==void 0&&d.jsx("span",{style:{background:r?"rgba(255,255,255,0.18)":"#f3f4f6",color:r?"white":"#111827",borderRadius:999,padding:"2px 8px",fontSize:12,fontWeight:800},children:n})]})}const ia={padding:"14px",textAlign:"left",fontWeight:600,fontSize:"14px",borderBottom:"1px solid #ddd"},oa={padding:"12px",borderBottom:"1px solid #eee",fontSize:"14px"},Wz={border:"1px solid #e5e7eb",background:"white",cursor:"pointer",borderRadius:10,padding:"6px 10px",fontSize:18,lineHeight:1},qz={position:"absolute",top:"calc(100% + 6px)",right:0,minWidth:200,background:"white",border:"1px solid #e5e7eb",borderRadius:12,boxShadow:"0 10px 20px rgba(0,0,0,0.08)",padding:6,zIndex:9999},Kz={width:"100%",textAlign:"left",border:"none",background:"transparent",padding:"10px 10px",borderRadius:10,cursor:"pointer",fontSize:13,fontWeight:600,color:"#111827"},Vz="http://34.177.85.28:3000/api/reviews";function Gz(){const r=U.useMemo(()=>{const f=localStorage.getItem("userId");return f?Number(f):NaN},[]),[e,t]=U.useState([]),[n,s]=U.useState(!1),[a,l]=U.useState(null);U.useEffect(()=>{(async()=>{if(Number.isFinite(r)){s(!0),l(null);try{const h=await De.get(Vz,{params:{owner_id:r}});h.data.success&&h.data.data?t(h.data.data):t([])}catch(h){l(h?.response?.data?.error||"Failed to load reviews"),t([])}finally{s(!1)}}})()},[r]);const u=e.length>0?(e.reduce((f,h)=>f+h.rating,0)/e.length).toFixed(1):"N/A";return d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:24},children:[d.jsx("h1",{style:{marginBottom:8},children:"Reviews About You"}),d.jsx("p",{style:{color:"#666",margin:0},children:"View ratings and feedback left by consumers for your store."})]}),d.jsxs("div",{style:{background:"white",padding:20,borderRadius:12,marginBottom:24,border:"1px solid #e0e0e0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{children:[d.jsx("h2",{style:{margin:0,fontSize:18},children:"Your Reputation"}),d.jsxs("p",{style:{margin:"4px 0 0 0",color:"#666",fontSize:14},children:[e.length," review",e.length!==1?"s":""]})]}),d.jsxs("div",{style:{textAlign:"right"},children:[d.jsx("div",{style:{fontSize:32,fontWeight:700,color:"#007bff"},children:u}),d.jsx("div",{style:{fontSize:12,color:"#666"},children:"Average Rating"})]})]}),n&&d.jsx("div",{style:{textAlign:"center",padding:40,color:"#999"},children:"Loading reviews..."}),a&&d.jsx("div",{style:{background:"#fee",border:"1px solid #f88",color:"#c00",padding:16,borderRadius:8},children:a}),!n&&!a&&e.length===0&&d.jsxs("div",{style:{textAlign:"center",padding:60,background:"#f9f9f9",borderRadius:8,border:"1px dashed #ddd"},children:[d.jsx("p",{style:{fontSize:16,color:"#666"},children:"No reviews yet."}),d.jsx("p",{style:{color:"#999",fontSize:14},children:"Once consumers leave feedback, it will appear here."})]}),!n&&e.length>0&&d.jsx("div",{style:{display:"grid",gap:16},children:e.map(f=>d.jsx(bm,{review:f,showDelete:!1},f.review_id))})]})}const Gw=r=>{if(!r)return"";const e=new Date(r);return Number.isNaN(e.getTime())?String(r):e.toLocaleDateString()},Yw=r=>{if(!r)return"";const e=new Date(r);return Number.isNaN(e.getTime())?String(r):e.toLocaleString()};function ix(){const{productId:r}=rf(),e=tn(),t=U.useMemo(()=>Number(r),[r]),[n,s]=U.useState(!0),[a,l]=U.useState(null),[u,f]=U.useState(null),[h,m]=U.useState([]),[E,S]=U.useState(null);if(U.useEffect(()=>{if(!t||Number.isNaN(t)){l("Invalid product id in URL."),s(!1);return}(async()=>{s(!0),l(null);try{const D=await De.get(`${ji}/${t}/details`);if(!D.data.success||!D.data.data){l(D.data.details||D.data.error||"Failed to load product details.");return}f(D.data.data.product),m(D.data.data.ownershipHistory||[]),S(D.data.data.currentListing||null)}catch(D){l(D?.response?.data?.details||D?.response?.data?.error||D?.message||"Failed to load product details.")}finally{s(!1)}})()},[t]),n)return d.jsx("div",{className:"pd-page",children:d.jsx("div",{className:"pd-container",children:"Loading..."})});if(a)return d.jsx("div",{className:"pd-page",children:d.jsxs("div",{className:"pd-container",children:[d.jsx("div",{className:"pd-topbar",children:d.jsx("button",{className:"pd-back",onClick:()=>e(-1),children:" Back"})}),d.jsx("div",{className:"pd-card",children:a})]})});if(!u)return d.jsx("div",{className:"pd-page",children:d.jsx("div",{className:"pd-container",children:"No product found."})});const C=!!u.tx_hash,v=`${ji}/${u.product_id}/qrcode`;return d.jsx("div",{className:"pd-page",children:d.jsxs("div",{className:"pd-container",children:[d.jsxs("div",{className:"pd-topbar",children:[d.jsx("button",{className:"pd-back",onClick:()=>e(-1),children:" Back"}),d.jsx("span",{className:`pd-pill ${C?"pd-pill-success":"pd-pill-warn"}`,children:C?"On-Chain":"Pending"})]}),d.jsxs("div",{className:"pd-card",children:[d.jsx("h1",{className:"pd-title",children:u.model||u.serial_no||"Product"}),d.jsxs("p",{className:"pd-subtitle",children:["Product ID: ",d.jsx("b",{children:u.product_id}),"  Serial: ",d.jsx("b",{children:u.serial_no})]}),d.jsxs("div",{className:"pd-split",children:[d.jsxs("div",{children:[d.jsx("div",{className:"pd-section-title",children:"Product Information"}),d.jsxs("div",{className:"pd-info-grid",children:[d.jsx("div",{className:"pd-label",children:"Category"}),d.jsx("div",{className:"pd-value",children:u.category||""}),d.jsx("div",{className:"pd-label",children:"Batch No"}),d.jsx("div",{className:"pd-value",children:u.batch_no||""}),d.jsx("div",{className:"pd-label",children:"Manufacture Date"}),d.jsx("div",{className:"pd-value",children:Gw(u.manufacture_date)}),d.jsx("div",{className:"pd-label",children:"Registered On"}),d.jsx("div",{className:"pd-value",children:Gw(u.registered_on)}),d.jsx("div",{className:"pd-label",children:"Manufacturer"}),d.jsx("div",{className:"pd-value",children:u.manufacturer_name||""}),d.jsx("div",{className:"pd-label",children:"Product PDA"}),d.jsx("div",{className:"pd-mono",children:u.product_pda||""}),d.jsx("div",{className:"pd-label",children:"Blockchain Tx"}),d.jsx("div",{className:"pd-mono",children:u.tx_hash||""}),E&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"pd-label",children:"Listing"}),d.jsxs("div",{className:"pd-value",children:[E.currency," ",E.price,"  ",E.status]})]}),d.jsx("div",{className:"pd-label",children:"Description"}),d.jsx("div",{className:"pd-value",children:u.description||""})]})]}),d.jsxs("div",{className:"pd-qr",children:[d.jsx("img",{src:v,alt:"QR Code"}),d.jsx("div",{className:"pd-qr-hint",children:"Scan to verify authenticity"})]})]})]}),d.jsxs("div",{className:"pd-card",children:[d.jsx("div",{className:"pd-section-title",children:"Ownership History"}),d.jsx("div",{className:"pd-table-wrap",children:d.jsxs("table",{className:"pd-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Owner"}),d.jsx("th",{children:"Start"}),d.jsx("th",{children:"End"}),d.jsx("th",{children:"Tx Hash"})]})}),d.jsx("tbody",{children:h.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:4,style:{padding:12,color:"#6b7280",fontWeight:600},children:"No ownership records."})}):h.map(R=>d.jsxs("tr",{children:[d.jsx("td",{children:R.owner_name}),d.jsx("td",{children:Yw(R.start_on)}),d.jsx("td",{children:R.end_on?Yw(R.end_on):"Current"}),d.jsx("td",{className:"pd-mono",children:R.tx_hash||""})]},R.ownership_id))})]})})]}),d.jsx("div",{className:"pd-card",children:d.jsx(jf,{serial:u.serial_no,hideHeader:!0,defaultView:"timeline",embedded:!0})})]})})}function Yz(){const r=localStorage.getItem("userId");if(!r)return null;const e=Number(r);return Number.isFinite(e)&&e>0?e:null}function ox(){const r=U.useMemo(()=>Yz(),[]),{publicKey:e,connected:t}=oi(),[n,s]=U.useState(""),[a,l]=U.useState(!1),[u,f]=U.useState(""),[h,m]=U.useState(""),[E,S]=U.useState(!1),[C,v]=U.useState(!1),[R,D]=U.useState(null),[M,N]=U.useState(null),F=()=>{D(null),N(null)},P=async Q=>{if(Q.preventDefault(),F(),!r)return D("Missing userId. Please log in again.");if(!n.trim())return D("Please enter a new email.");try{l(!0);const $=await De.put(`${Rr}/update-email`,{userId:r,newEmail:n.trim()});$.data?.success?(N("Email updated successfully."),s("")):D($.data?.error||"Failed to update email.")}catch($){D($?.response?.data?.error||"Failed to update email.")}finally{l(!1)}},K=async Q=>{if(Q.preventDefault(),F(),!r)return D("Missing userId. Please log in again.");if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(u))return D("Password must be at least 8 characters and include 1 uppercase, 1 lowercase, and 1 number.");if(u!==h)return D("Passwords do not match.");try{S(!0);const T=await De.put(`${Rr}/update-password`,{userId:r,newPassword:u});T.data?.success?(N("Password updated successfully."),f(""),m("")):D(T.data?.error||"Failed to update password.")}catch(T){D(T?.response?.data?.error||"Failed to update password.")}finally{S(!1)}},V=async()=>{if(F(),!r)return D("Missing userId. Please log in again.");if(!e)return D("Please connect your wallet first.");try{v(!0);const Q=await De.put(`${Rr}/update-public-key`,{userId:r,newPublicKey:e.toBase58()});Q.data?.success?N("Wallet public key updated successfully."):D(Q.data?.error||"Failed to update public key.")}catch(Q){D(Q?.response?.data?.error||"Failed to update public key.")}finally{v(!1)}},H={padding:"24px 24px 24px 12px",maxWidth:760,boxSizing:"border-box"},J={marginTop:20,padding:18,borderRadius:14,border:"1px solid rgba(0,0,0,0.12)",background:"#fff",boxSizing:"border-box"},q={width:"100%",padding:"10px 12px",borderRadius:10,border:"1px solid rgba(0,0,0,0.18)",boxSizing:"border-box",display:"block"},Z={marginTop:14,padding:"10px 16px",borderRadius:10,border:"none"};return d.jsxs("div",{style:H,children:[d.jsx("h1",{style:{marginBottom:6},children:"Settings"}),d.jsx("p",{style:{opacity:.8,marginTop:0},children:"Update your email, password, and wallet."}),(R||M)&&d.jsx("div",{style:{marginTop:16,padding:12,borderRadius:10,background:R?"rgba(255,0,0,0.10)":"rgba(0,128,0,0.10)"},children:R??M}),d.jsxs("div",{style:J,children:[d.jsx("h2",{style:{marginTop:0},children:"Change Email"}),d.jsxs("form",{onSubmit:P,children:[d.jsx("label",{style:{display:"block",marginBottom:8},children:"New Email"}),d.jsx("input",{type:"email",value:n,onChange:Q=>s(Q.target.value),placeholder:"name@example.com",style:q}),d.jsx("button",{type:"submit",disabled:a,style:{...Z,cursor:a?"not-allowed":"pointer",opacity:a?.7:1},children:a?"Updating...":"Update Email"})]})]}),d.jsxs("div",{style:J,children:[d.jsx("h2",{style:{marginTop:0},children:"Change Password"}),d.jsxs("form",{onSubmit:K,children:[d.jsx("label",{style:{display:"block",marginBottom:8},children:"New Password"}),d.jsx("input",{type:"password",value:u,onChange:Q=>f(Q.target.value),placeholder:"Enter new password",style:q}),d.jsx("label",{style:{display:"block",margin:"12px 0 8px"},children:"Confirm New Password"}),d.jsx("input",{type:"password",value:h,onChange:Q=>m(Q.target.value),placeholder:"Re-enter new password",style:q}),d.jsx("button",{type:"submit",disabled:E,style:{...Z,cursor:E?"not-allowed":"pointer",opacity:E?.7:1},children:E?"Updating...":"Update Password"})]})]}),d.jsxs("div",{style:J,children:[d.jsx("h2",{style:{marginTop:0},children:"Update Wallet"}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[d.jsx(Gi,{}),d.jsx("button",{type:"button",onClick:V,disabled:!t||!e||C,style:{...Z,cursor:!t||!e||C?"not-allowed":"pointer",opacity:!t||!e||C?.7:1},children:C?"Updating...":"Save Wallet"})]}),d.jsxs("div",{style:{marginTop:12,fontSize:14,opacity:.85},children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Connected:"})," ",t?"Yes":"No"]}),d.jsxs("div",{style:{marginTop:6},children:[d.jsx("strong",{children:"Current wallet pubkey:"}),d.jsx("div",{style:{marginTop:6,padding:"10px 12px",borderRadius:10,border:"1px solid rgba(0,0,0,0.12)",background:"rgba(0,0,0,0.03)",wordBreak:"break-all"},children:e?e.toBase58():""})]})]})]})]})}function $z(){return d.jsxs(lS,{children:[d.jsx($e,{path:"/login",element:d.jsx(ED,{})}),d.jsx($e,{path:"/register",element:d.jsx(rO,{})}),d.jsxs($e,{element:d.jsx(oO,{}),children:[d.jsxs($e,{element:d.jsx(E0,{allow:["admin"]}),children:[d.jsx($e,{path:"/admin",element:d.jsx(mP,{})}),d.jsx($e,{path:"/admin/users",element:d.jsx(yP,{})}),d.jsx($e,{path:"/admin/listings",element:d.jsx(EP,{})}),d.jsx($e,{path:"/admin/register",element:d.jsx(bP,{})})]}),d.jsx($e,{element:d.jsx(E0,{allow:["manufacturer"]}),children:d.jsxs($e,{path:"/manufacturer",element:d.jsx(dO,{}),children:[d.jsx($e,{index:!0,element:d.jsx(wP,{})}),d.jsx($e,{path:"register",element:d.jsx(Dz,{})}),d.jsx($e,{path:"scan-qr",element:d.jsx(nx,{})}),d.jsx($e,{path:"my-products",element:d.jsx(hz,{})}),d.jsx($e,{path:"product/:productId",element:d.jsx(ix,{})}),d.jsx($e,{path:"settings",element:d.jsx(ox,{})}),d.jsx($e,{path:"transfer-ownership",element:d.jsx(Lw,{})})]})}),d.jsx($e,{element:d.jsx(E0,{allow:["distributor"]}),children:d.jsxs($e,{path:"/distributor",element:d.jsx(fO,{}),children:[d.jsx($e,{index:!0,element:d.jsx(AP,{})}),d.jsx($e,{path:"scan-qr",element:d.jsx(nx,{})}),d.jsx($e,{path:"products",element:d.jsx(Lz,{})}),d.jsx($e,{path:"product/:productId",element:d.jsx(ix,{})}),d.jsx($e,{path:"settings",element:d.jsx(ox,{})})]})}),d.jsx($e,{element:d.jsx(E0,{allow:["retailer"]}),children:d.jsxs($e,{path:"/retailer",element:d.jsx(pO,{}),children:[d.jsx($e,{index:!0,element:d.jsx(CP,{})}),d.jsx($e,{path:"scan-qr",element:d.jsx(nx,{})}),d.jsx($e,{path:"products",element:d.jsx(Hz,{})}),d.jsx($e,{path:"product/:productId",element:d.jsx(ix,{})}),d.jsx($e,{path:"reviews",element:d.jsx(Gz,{})}),d.jsx($e,{path:"settings",element:d.jsx(ox,{})})]})}),d.jsx($e,{element:d.jsx(E0,{allow:["consumer"]}),children:d.jsxs($e,{path:"/consumer",element:d.jsx(uO,{}),children:[d.jsx($e,{index:!0,element:d.jsx(vP,{})}),d.jsx($e,{path:"scan-qr",element:d.jsx(nx,{})}),d.jsx($e,{path:"my-products",element:d.jsx(zP,{})}),d.jsx($e,{path:"product/:productId",element:d.jsx(qP,{})}),d.jsx($e,{path:"marketplace",element:d.jsx(Tz,{})}),d.jsx($e,{path:"chats",element:d.jsx(BP,{})}),d.jsx($e,{path:"chats/:threadId",element:d.jsx(SP,{})}),d.jsx($e,{path:"my-listings",element:d.jsx(Mz,{})}),d.jsx($e,{path:"create-listing",element:d.jsx(jz,{})}),d.jsx($e,{path:"my-listings/:listingId/edit",element:d.jsx(Oz,{})}),d.jsx($e,{path:"transfer-ownership",element:d.jsx(Lw,{})}),d.jsx($e,{path:"reviews",element:d.jsx(HP,{})}),d.jsx($e,{path:"settings",element:d.jsx(ox,{})})]})}),d.jsx($e,{path:"/transaction-history",element:d.jsx(jf,{})}),d.jsx($e,{path:"/products/:productId/details",element:d.jsx(ix,{})})]}),d.jsx($e,{path:"/",element:d.jsx(z0,{to:"/login",replace:!0})}),d.jsx($e,{path:"*",element:d.jsx(z0,{to:"/login",replace:!0})})]})}const Zz="Phantom";class Qz extends Ey{constructor(e={}){super(),this.name=Zz,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?xt.Unsupported:xt.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new my),this.emit("disconnect"))},this._accountChanged=t=>{const n=this._publicKey;if(n){try{t=new ve(t.toBytes())}catch(s){this.emit("error",new sc(s?.message,s));return}n.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==xt.Unsupported&&(V1()?(this._readyState=xt.Loadable,this.emit("readyStateChange",this._readyState)):lC(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=xt.Installed,this.emit("readyStateChange",this._readyState),!0):!1))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===xt.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===xt.Loadable){const n=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${s}`;return}if(this.readyState!==xt.Installed)throw new Ta;this._connecting=!0;const e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(n){throw new Na(n?.message,n)}if(!e.publicKey)throw new ma;let t;try{t=new ve(e.publicKey.toBytes())}catch(n){throw new sc(n?.message,n)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=t,this.emit("connect",t)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new yy(t?.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,n={}){try{const s=this._wallet;if(!s)throw new Tn;try{const{signers:a,...l}=n;Io(e)?a?.length&&e.sign(a):(e=await this.prepareTransaction(e,t,l),a?.length&&e.partialSign(...a)),l.preflightCommitment=l.preflightCommitment||t.commitment;const{signature:u}=await s.signAndSendTransaction(e,l);return u}catch(a){throw a instanceof $n?a:new No(a?.message,a)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new Tn;try{return await t.signTransaction(e)||e}catch(n){throw new fi(n?.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new Tn;try{return await t.signAllTransactions(e)||e}catch(n){throw new fi(n?.message,n)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new Tn;try{const{signature:n}=await t.signMessage(e);return n}catch(n){throw new Sf(n?.message,n)}}catch(t){throw this.emit("error",t),t}}}const Xz="modulepreload",Jz=function(r){return"/"+r},$w={},H4=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){let f=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=f(t.map(h=>{if(h=Jz(h),h in $w)return;$w[h]=!0;const m=h.endsWith(".css"),E=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${E}`))return;const S=document.createElement("link");if(S.rel=m?"stylesheet":Xz,m||(S.as="script"),S.crossOrigin="",S.href=h,u&&S.setAttribute("nonce",u),document.head.appendChild(S),m)return new Promise((C,v)=>{S.addEventListener("load",C),S.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},eU="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Ot=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},tU=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Ix,va,wm,Am,Cm,xr,vm,W4,q4,Bm,Sm,_m,Dm,Rm;class nU{constructor(){Ix.add(this),va.set(this,{}),wm.set(this,"1.0.0"),Am.set(this,"MetaMask"),Cm.set(this,eU),xr.set(this,null),vm.set(this,(e,t)=>(Ot(this,va,"f")[e]?.push(t)||(Ot(this,va,"f")[e]=[t]),()=>Ot(this,Ix,"m",q4).call(this,e,t))),Bm.set(this,async()=>{if(!Ot(this,xr,"f")){let e;try{e=(await H4(async()=>{const{default:t}=await import("./index-DwB1Wqyq.js");return{default:t}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}tU(this,xr,new e,"f"),Ot(this,xr,"f").on("standard_change",t=>Ot(this,Ix,"m",W4).call(this,"change",t))}return this.accounts.length||await Ot(this,xr,"f").connect(),{accounts:this.accounts}}),Sm.set(this,async()=>{Ot(this,xr,"f")&&await Ot(this,xr,"f").disconnect()}),_m.set(this,async(...e)=>{if(!Ot(this,xr,"f"))throw new Tn;return await Ot(this,xr,"f").standardSignAndSendTransaction(...e)}),Dm.set(this,async(...e)=>{if(!Ot(this,xr,"f"))throw new Tn;return await Ot(this,xr,"f").standardSignTransaction(...e)}),Rm.set(this,async(...e)=>{if(!Ot(this,xr,"f"))throw new Tn;return await Ot(this,xr,"f").standardSignMessage(...e)})}get version(){return Ot(this,wm,"f")}get name(){return Ot(this,Am,"f")}get icon(){return Ot(this,Cm,"f")}get chains(){return[V0,hC,pC]}get features(){return{[_f]:{version:"1.0.0",connect:Ot(this,Bm,"f")},[Gx]:{version:"1.0.0",disconnect:Ot(this,Sm,"f")},[Df]:{version:"1.0.0",on:Ot(this,vm,"f")},[pr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Ot(this,_m,"f")},[cn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Ot(this,Dm,"f")},[Do]:{version:"1.0.0",signMessage:Ot(this,Rm,"f")}}}get accounts(){return Ot(this,xr,"f")?Ot(this,xr,"f").standardAccounts:[]}}va=new WeakMap,wm=new WeakMap,Am=new WeakMap,Cm=new WeakMap,xr=new WeakMap,vm=new WeakMap,Bm=new WeakMap,Sm=new WeakMap,_m=new WeakMap,Dm=new WeakMap,Rm=new WeakMap,Ix=new WeakSet,W4=function(e,...t){Ot(this,va,"f")[e]?.forEach(n=>n.apply(null,t))},q4=function(e,t){Ot(this,va,"f")[e]=Ot(this,va,"f")[e]?.filter(n=>t!==n)};let Zw=!1;function rU(){Zw||(vM(new nU),Zw=!0)}async function iU(){const r="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:r,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function t(n){const s=n.data;s?.target==="metamask-inpage"&&s.data?.name==="metamask-provider"&&(s.data.data?.id===r?(window.removeEventListener("message",t),s.data.data.error||rU()):e())}window.addEventListener("message",t),window.setTimeout(()=>window.removeEventListener("message",t),5e3),e()}const oU="Solflare";class sU extends Ey{constructor(e={}){super(),this.name=oU,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?xt.Unsupported:xt.Loadable,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new my),this.emit("disconnect"))},this._accountChanged=t=>{if(!t)return;const n=this._publicKey;if(n){try{t=new ve(t.toBytes())}catch(s){this.emit("error",new sc(s?.message,s));return}n.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==xt.Unsupported&&(lC(()=>window.solflare?.isSolflare||window.SolflareApp?(this._readyState=xt.Installed,this.emit("readyStateChange",this._readyState),!0):!1),iU())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async autoConnect(){this.readyState===xt.Loadable&&V1()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==xt.Loadable&&this._readyState!==xt.Installed)throw new Ta;if(this.readyState===xt.Loadable&&V1()){const s=encodeURIComponent(window.location.href),a=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${a}`;return}let e;try{e=(await H4(async()=>{const{default:s}=await import("./index-HWFOIEZH.js");return{default:s}},[])).default}catch(s){throw new kN(s?.message,s)}let t;try{t=new e({network:this._config.network})}catch(s){throw new Hl(s?.message,s)}if(this._connecting=!0,!t.connected)try{await t.connect()}catch(s){throw new Na(s?.message,s)}if(!t.publicKey)throw new Na;let n;try{n=new ve(t.publicKey.toBytes())}catch(s){throw new sc(s?.message,s)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new yy(t?.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,n={}){try{const s=this._wallet;if(!s)throw new Tn;try{const{signers:a,...l}=n;return Io(e)?a?.length&&e.sign(a):(e=await this.prepareTransaction(e,t,l),a?.length&&e.partialSign(...a)),l.preflightCommitment=l.preflightCommitment||t.commitment,await s.signAndSendTransaction(e,l)}catch(a){throw a instanceof $n?a:new No(a?.message,a)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new Tn;try{return await t.signTransaction(e)||e}catch(n){throw new fi(n?.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new Tn;try{return await t.signAllTransactions(e)||e}catch(n){throw new fi(n?.message,n)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new Tn;try{return await t.signMessage(e,"utf8")}catch(n){throw new Sf(n?.message,n)}}catch(t){throw this.emit("error",t),t}}}globalThis.Buffer=je.Buffer;const aU="https://api.devnet.solana.com";function lU(){const r=U.useMemo(()=>[new Qz,new sU],[]);return d.jsx(SN,{endpoint:aU,children:d.jsx($M,{wallets:r,autoConnect:!1,onError:e=>{console.error("WalletProvider onError:",e)},children:d.jsx(tO,{children:d.jsx(NS,{children:d.jsx($z,{})})})})})}c7.createRoot(document.getElementById("root")).render(d.jsx(lU,{}));export{ve as P,pr as S,bt as T,rc as V,cn as a,Do as b,ri as g};
